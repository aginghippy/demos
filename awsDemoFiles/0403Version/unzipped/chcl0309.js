"use strict";

!function(F){function M(f,a){if(!(f instanceof a))throw new TypeError("Cannot call a class as a function");}var N=function(){return function(f,a){var b;if(b=a){b=f.prototype;for(var c=0;c<a.length;c++){var g=a[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(b,g.key,g)}b=void 0}return b}}(),ha=function(){function d(a){var b;return M(this,d),this.csoObj=a||[],this.config=$.extend({},window.Chalakh["static"]),this.bubbleTypes={},this.messages=document.createElement("div"),
  $(this.messages).addClass(this.config.messageStreamClass),this.responses=document.createElement("div"),$(this.responses).addClass(this.config.responseStreamClass),this.botContainerDiv=document.createElement("div"),$(this.botContainerDiv).addClass(this.config.botContainerClass),document.body.appendChild(this.botContainerDiv),this.createHeader(this,this.botContainerDiv),this.createSubheader(this,this.botContainerDiv),b=document.createElement("div"),this.conversationStream=b,this.botContainerDiv.appendChild(this.conversationStream),
  $(this.conversationStream).addClass(this.config.conversationStreamClass),this.conversationStream.appendChild(this.messages),this.conversationStream.appendChild(this.responses),D.createExitModal(this,this.botContainerDiv),D.createErrorMessageModal(this,this.botContainerDiv),D.createBulletModal(this,this.botContainerDiv),D.createB2BConversionModal(this,this.botContainerDiv),D.createAcademicConversionModal(this,this.botContainerDiv),D.createLeadConnectionModal(this,this.botContainerDiv),D.createVideoModal(this,
  this.botContainerDiv),D.createAudioModal(this,this.botContainerDiv),D.createCpatchAudioObject(this,this.botContainerDiv),this}return N(d,[{key:"createHeader",value:function(a,b){a.header=document.createElement("div");$(a.header).addClass(a.config.headerClass);a.header.setAttribute("id","header");b.appendChild(a.header);l.hideClass("#header");a.header.innerHTML='<div class="c_hdr_itms"><div class="c_sound__icon" id="toggleCpatchSound"><a class="sound__icon_img" href="#"><img id ="sound_img" src="https://s3.us-east-2.amazonaws.com/chalakh-bot-js/images/soundIcon.jpg" class = "img-fluid" width="30" height="30" alt=""></a></div><div class="c_close_btn active"><button class="btn btn-outline-success close_btn" id="closeBot" type="button">X</button></div></div>';
    document.getElementById("toggleCpatchSound").addEventListener("click",function(c){void 0==c&&c==window.event;c.stopPropagation();l.logDebugInfor("toggling icon "+e.muteAudio);a.toggleCpatchSound(c)});document.getElementById("closeBot").addEventListener("click",function(c){void 0==c&&c==window.event;c.stopPropagation();a.exitBot(c,"navbar")})}},{key:"createSubheader",value:function(a,b){if("simple"!=G.campaignType){var c=G.subheaderMenu;if(void 0!=c&&0!=c.length){a.subheader=document.createElement("div");
    $(a.subheader).addClass(a.config.subheaderClass);a.subheader.setAttribute("id","subheader");b.appendChild(a.subheader);l.hideClass("#subheader");var g='<div class="c_subhdr_itms">';for(var h=0;h<c.length;h++)switch(c[h]){case "applyNow":g+=' <button type="button"  class="btn btn-primary mr-3 "data-button-value ="applyNow">Apply Now</button>';break;case "downloadDocument":g=g+' <button type="button"  class="btn btn-primary mr-3 "data-src ="'+G.campaignDoc+'"data-button-value ="downloadDoc">Download Catalog</button>';
      break;case "callNow":g+=' <button type="button"  class="btn btn-primary mr-3 "data-button-value ="callNow">Call Now</button>';break;case "requestInformation":g+=' <button type="button"  class="btn btn-primary mr-3 "data-button-value ="requestInfor">Request Infor</button>';break;default:l.logDebugInfor("err_16z"+c[h])}a.subheader.innerHTML=g+"</div>";$(".c_subhdr_itms .btn").on("click",H.subheaderMenuEvent)}}}},{key:"addHeaderTitle",value:function(){var a=$("#header");a:{try{var b=G.campaignName;break a}catch(g){f.handleError("err_1a")}b=
    void 0}var c=document.createElement("div");$(c).addClass("c_campaign__title");c.innerHTML='<div id ="campaignTitle" class="active">'+b+"</div>";$("#header .c_hdr_itms .c_sound__icon").after(c);a.innerHTML="undefined</div>"}},{key:"handleError",value:function(a){v.sendErrorCode(e.currentNodeID,a,void 0==e.botVariationMetaObj?void 0:e.botVariationMetaObj.botVariationID);console.log(a);if(k.debugMode){var b=f.findErrorOrAlertorWarningString(a);alert(a+" : "+b+" "+e.currentNodeID);debugger}f.gracefulErrorExit()}},
  {key:"logConversationFlowAlerts",value:function(a){l.logDebugInfor(a);if(k.debugMode){var b=f.findErrorOrAlertorWarningString(a);console.log(a+" : "+b+" "+e.currentNodeID)}}},{key:"logWarning",value:function(a){console.log(a);if(k.debugMode){var b=f.findErrorOrAlertorWarningString(a);alert(a+" : "+b+" "+e.currentNodeID)}}},{key:"findErrorOrAlertorWarningString",value:function(a){var b;da.forEach(function(c,g){for(var h in c)h==a&&(b=c[a])});return b}},{key:"displayNode",value:function(a,b,c,g){function h(a){var c=
      0;try{for(var b=0;b<a.length;b++){var g=a[b][1].da_meob;1==g.da_disob&&(c+=1)}}catch(ea){f.handleError("err_3")}return 2<=c||1==c&&null==e.mainMotifThemeBeingShown?!1:!0}function d(){var a=B.findExitThemeName();a=B.findExitTheme(a);try{f.findThemeNodes("cso_int",S,a);var c=e.currentThemeNodes[k.orderOfFirstNodeInTheme].index;var b=S[c]}catch(ba){f.handleError("err_4")}if(null!=b)return v.sendExitData(b._nid,e.botVariationMetaObj.botVariationID,"botExit","botGenerated"),f.displayNode(b,!1,"forward",
      !0),!0;f.handleError("err_4")}function p(){var a;try{if(1==e.checkCxTrigger&&"proactiveExitMode"!=e.botState)return(a=f.checkCxTriggerAndDisplay())?!0:!1;e.checkCxTrigger=!0}catch(U){f.handleError("err_2")}}var m;if(!g||f.findMsgObject(a,b,c)){try{var u=f.findRespObject(a);var r=e.botVariationMetaObj.variationIndexInCSOMeta;var E=u.pr_obj.p_rdo;var w=u.qr_obj.qr_dobj;var z=u.pr_obj.p_mo;var l=u.qr_obj.qr_mobj;var J=z.p_rdc;var K=z.p_rdsc;var A=l.qr_dsc}catch(R){f.handleError("err_5")}e.messageTimeout=
      0;e.displayMsgTimeOutCount=0;e.timeouts=[];e.currentNodeID=a._nid;e.loadCpatchMediaCounter=0;try{v.cookieNodeImpressionCount(),v.sendNodeImpression(a._nid,a.nmobj.nodcat,e.botVariationMetaObj.botVariationID)}catch(R){f.handleError("err_5A")}try{if("bot"==x[r].c_r_m.c_r_ge.c_r_pe&&"interestNode"==a.nmobj.nodcat)try{if(m=h(E))d(),f.hideChalakhIframe()}catch(R){f.handleError("err_6")}}catch(R){f.handleError("err_2a")}if("proactiveRestartMode"==e.botState||"proactiveFreshStartMode"==e.botState)var I=
      p();if(!I)try{f.recordDisplayedNodeInTheme(a,c),f.playCpatchAudio(),f.displayMsgObject(a,b,c),f.displayRespObjectAfterTimeOut(a,E,w,J,K,A)}catch(R){f.handleError("err_1")}}}},{key:"recordDisplayedNodeInTheme",value:function(a,b){var c;a:{try{var g=a.nmobj.nconth}catch(m){f.handleError("err_7a")}for(c=0;c<g.length;c++)if(g[c].th_m==e.currentTheme){g=!0;break a}g=!1}if(g)if("forward"==b){g=a._nid;var h=e.currentMotif;var d=e.currentTheme;var p=e.currentNode;c=a.nmobj.nodcat;g={motif:h,_nid:g,index:p,
      theme:d,nodcat:c};e.displayedThemeNodes.push(g)}else"backward"==b?e.displayedThemeNodes.pop():f.handleError("err_1A")}},{key:"findRespObject",value:function(a){try{if("staticContent"==a.nmobj.nprdac||"searchContent"==a.nmobj.nprdac)return a.rs_obj;if("dynamicResponse"==a.nmobj.nprdac){var b=a._nid;for(var c=0;c<X.length;c++)if(b==X[c]._nid){a.rs_obj=X[c].rs_obj;"staticContent"==a.nmobj.nprdac;break}return a.rs_obj}f.handleError("err_7b")}catch(g){f.handleError("err_7")}f.handleError("err_7b")}},{key:"findMsgObject",
    value:function(a,b,c){try{if("staticContent"==a.nmobj.nprdac||"dynamicResponse"==a.nmobj.nprdac)return!0;if("searchContent"==a.nmobj.nprdac)return O.getSearchContent(a,b,c),!1;f.handleError("err_7e")}catch(g){f.handleError("err_7")}f.handleError("err_7b")}},{key:"checkNodeToShowObj",value:function(a){Array.isArray(a)&&f.handleError("err_8")}},{key:"scrollAndDisplayRespObject",value:function(a,b,c,g,h,d){var q=setTimeout(function(){f.scrollIntoView();f.showBorderToMessageStream();f.displayRespObject(a,
      b,c,g,h,d)},k.delayBetweenMessagesAndResponse);e.timeouts.push(q)}},{key:"terminateConversationRightNow",value:function(){f.emptyMessageStream();f.emptyResponseStream();l.hideClass("#header");l.hideClass("#subheader");l.hideClass(".c_convrs_strm");f.hideChalakhIframe()}},{key:"pauseAndThenTerminateChat",value:function(){setTimeout(function(){f.emptyMessageStream();f.emptyResponseStream();l.hideClass("#header");l.hideClass("#subheader");l.hideClass(".c_convrs_strm");f.hideChalakhIframe()},k.delayBetweenMessagesAndResponse)}},
  {key:"displayNextNodeOrTerminate",value:function(){var a=setTimeout(function(){"proactiveExitMode"==e.botState?f.pauseAndThenTerminateChat():f.findAnddisplaySubsequentNodeObjInTheme("nextNodeInTheme",!1)},k.delayBetweenNodes);e.timeouts.push(a)}},{key:"terminateBotSession",value:function(a){setTimeout(function(){f.hideChalakhIframe();f.emptyMessageStream();f.hideBorderToMessageStream();f.emptyResponseStream();l.hideClass("#header");l.hideClass("#subheader");l.hideClass(".c_convrs_strm");1==l.findCampaignUseCase()&&
    v.recordConversionSuccess(a._nid,e.botVariationMetaObj.botVariationID,a);var b=f.getCurrentNodeSkipType(a),c=f.getCurrentNodeSkipLogic(a);"end"!=b?f.logWarning("warn_9A"):void 0!=c&&0!=c.length&&(b=c[0].skipTo,"undefined"!=b&&window.open(b,"_top"))},k.delayBeforeBotTerminating)}},{key:"displayRespObjectAfterTimeOut",value:function(a,b,c,g,h,d){var q;try{var m=b.length;var u=c.length;0<m||0<u?q=!0:q=!1}catch(w){f.handleError("err_9")}try{var r=a.ms_obj.conobj.conmobj.cdc;var E=setInterval(function(){if(0==
      e.displayMsgTimeOutCount)if(clearInterval(E),q)f.scrollAndDisplayRespObject(a,b,c,g,h,d);else if(null!=e.nextNode){var p=f.getNodeCat(a);"terminate"==r?f.terminateBotSession(a):"iconNode"!=p&&f.displayNextNodeOrTerminate()}else"passiveExitMode"!=e.botState&&"passiveRestartMode"!=e.botState&&"passiveFreshStartMode"!=e.botState&&"hybridFreshStartMode"!=e.botState&&f.terminateBotSession(a)},k.patchMsgRespSyncIntervalCheck)}catch(w){f.handleError("err_9")}}},{key:"recordConversionAttempt",value:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               b,c){v.cookieConversionAttemptCount();v.sendConversionData(a,b,"conversionEvent","cxAttempt",c);v.setItem(k.nodeImpCumCnt,0,k.mediumExpirationPeriod,k.cookiePath);sessionStorage.setItem(k.nodeImpSessCnt,0);v.setItem(k.themeImpCumCnt,0,k.mediumExpirationPeriod,k.cookiePath);sessionStorage.setItem(k.themeImpSessCnt,0)}},{key:"checkCxTriggerAndDisplay",value:function(){function a(){var a;try{var c=e.botVariationMetaObj.variationIndexInCSOMeta;var b=x[c].c_r_m.c_r_ge.c_r_vcul;return null==b||void 0==
    b?null:a=b.split(":")}catch(z){f.handleError("err_12")}}function b(){var a;try{var c=e.botVariationMetaObj.variationIndexInCSOMeta;var b=x[c].c_r_m.c_r_ge.c_r_cxperl;return null==b||void 0==b?null:a=b.split(":")}catch(z){f.handleError("err_12")}}function c(){var a;try{if(0==x[variationIndexInCSOMeta].c_r_m.cso_con.length)return null;g=x[variationIndexInCSOMeta].c_r_m.cso_con[0].th_m;return a=f.findAllThemeNodesInMotif("cso_con",L,g,!1)}catch(E){f.handleError("err_13")}}var g;if(1==e.campaignGoalAchieved||
      1==v.getItem(k.goalStatus))return null;var h=a();var d=b();var p=function(){function c(){if("SE"==h[2]){var a=k.themeImpSessCnt;a=Number(sessionStorage.getItem(a))-1}else a=k.themeImpCumCnt,a=Number(v.getItem(a))-1;return a}function b(){if("SE"==h[2]){var a=k.nodeImpSessCnt;a=Number(sessionStorage.getItem(a))-1}else a=k.nodeImpCumCnt,a=Number(v.getItem(a))-1;return a}var g;var h=a();return void 0!=h&&null!=h?"TH"==h[1]?g=c():g=b():null}();var m=function(){var a=b();return void 0!=a&&null!=a?("SE"==
    a[1]?(a=k.cxSessAttemts,a=Number(sessionStorage.getItem(a))):(a=k.cxCumAttemts,a=Number(v.getItem(a))),a):null}();try{if(!(null==p||p<h[0])&&(null==m||m<d[0])){var u=c();if(null!=u)return e.checkCxTrigger=!1,f.recordConversionAttempt(u._nid,e.botVariationMetaObj.botVariationID,u),l.unhideClass("#header"),l.unhideClass("#subheader"),f.displayNode(u,!1,"forward",!0),!0;f.logWarning("warn_2")}}catch(r){f.handleError("err_13a")}return!1}},{key:"displayMsgObject",value:function(a,b,c){try{"iconNode"!=
    a.nmobj.nodcat&&f.displayPatchObj(a)}catch(h){f.handleError("err_14")}try{var g=setInterval(function(){0==e.displayMsgTimeOutCount&&(clearInterval(g),f.displayContentObj(a,b,c))},k.patchMsgRespSyncIntervalCheck)}catch(h){f.handleError("err_15")}}},{key:"displayPatchObj",value:function(a){function b(){var c=[],b;try{var g=a.ms_obj.cpatch;g.forEach(function(a,g){for(var h in a)null!=a[h]&&(b=f.createTextObjFromPatches(h,a[h]),c.push(b))})}catch(m){f.handleError("err_33")}return c}function c(a){var c,
      b,g,h;try{for(var e=0;e<a.length;e++)a[e].reduce(function(a,e,d){g=0===d?0:a;for(var q=0;q<e.length;q++)$.each(e[q],function(a,g){"da_ddf"==a&&$.each(e[q].da_ddf.text,function(a,g){c=g;b={text:c};h=f.displayMsgContent(b,"text")})});return g+h},0)}catch(E){f.handleError("err_34")}}try{var g=b();0!=g.length&&null!=g[0][0]&&c(g)}catch(h){f.handleError("err_16")}}},{key:"findPatchObjString",value:function(a){var b,c=[];try{var g=a.ms_obj.cpatch;g.forEach(function(a,g){for(var h in a)null!=a[h]&&(b=f.createTextObjFromPatches(h,
      a[h]),c.push(b))})}catch(h){f.handleError("err_17")}try{return c[0][0][0].da_ddf.text}catch(h){f.handleError("err_18")}}},{key:"keepOnlySelectedSegmentDataInCDO",value:function(a){function b(a){try{a.forEach(function(a,c){a.forEach(function(a,c){$.each(a,function(a,c){"da_meob"==a&&(d=c,d.da_disob=!1)})})})}catch(E){f.handleError("err_20")}}function c(a,c,b){try{a.forEach(function(a,g){for(var h=a[1].da_meob,f=h.da_obseg,e,d=[],q=0;q<f.length;q++){var p=f[q].da_ob_skey,m=f[q].da_ob_sval;if(p==b||
      "all"==p)for(var u=0;u<m.length;u++)e=p+"-"+m[u],d.push(e)}for(f=0;f<d.length;f++){var r=!1;if("all-all"==d[f]||d[f]==c){r=!0;break}}r&&(h.da_disob=!0)})}catch(z){f.handleError("err_19")}}function g(a){b(a);try{for(var g=0;g<p.length;g++)for(var h=p[g],e=0;e<m.length;e++)c(a,m[e],h)}catch(Q){f.handleError("err_19a")}return a}function h(a){try{for(var g=a,h=0;h<g.length;h++){a=g[h];b(a);for(var e=0;e<p.length;e++){var d=p[e];for(h=0;h<m.length;h++)c(a,m[h],d)}}return g}catch(J){f.handleError("err_19b")}}
      var d;var p=function(){var a=[];if(0==e.segmentSelectionArrayOfArrays.length)return null;try{for(var c=0;c<e.segmentSelectionArrayOfArrays.length;c++){var b=e.segmentSelectionArrayOfArrays[c][0].split("-");a.push(b[0])}return a}catch(z){f.handleError("err_20")}}();var m=function(){if(0==e.segmentSelectionArrayOfArrays.length)return null;var a=e.segmentSelectionArrayOfArrays[0];try{for(var c=1;c<e.segmentSelectionArrayOfArrays.length;c++)a=a.concat(e.segmentDimensionValueStringArray[c]);return a}catch(w){f.handleError("err_20")}}();
      if(null==m)return a;var u=void 0==a[0][0].length?"shallow":"deep";return a="shallow"==u?g(a):h(a)}},{key:"displayContentObj",value:function(a,b,c){try{var g=a.ms_obj.conobj.cdo.length,h=a.ms_obj.conobj.conmobj.cdc,d=a.ms_obj.conobj.conmobj.cdsc,p=a.ms_obj.conobj.cdo,m=a.nmobj.nodcat}catch(u){f.handleError("err_21")}if(0!=g){e.segmentNodeWasFound&&"contentNode"==m&&"forward"==c&&(p=f.keepOnlySelectedSegmentDataInCDO(p));switch(h){case "terminate":case "text":f.displayTextMsgObj(p);break;case "image":f.displayImageMsgObj(p,
      h,d,a);break;case "video":f.displayVideoMsgObj(p,h,d);break;case "audio":f.displayAudioMsgObj(p,h,d);break;case "audioVideo":f.displayAudioVideoMsgObj(p,h,d);break;case "tile":f.displayTileMsgObj(a,h,d);break;case "bullet":f.displayBulletMsgObj(a,h,d);break;case "card":f.displayCardMsgObj(a,h,d);break;case "doc":f.displayDocMsgObj(p,h,d);break;default:f.logConversationFlowAlerts("err_21A")}f.scrollIntoView();f.showBorderToMessageStream()}else"icon"==h&&f.displayIconMsgObj(a,d)}},{key:"displayTextMsgObj",
    value:function(a,b){var c,g,h,e;try{a.reduce(function(a,b,d){g=0===d?0:a;for(var q=0;q<b.length;q++)$.each(b[q],function(a,g){"da_ddf"==a&&$.each(b[q].da_ddf.text,function(a,b){h=b;e={text:h};c=f.displayMsgContent(e,"text")})});return g+c},0)}catch(p){f.handleError("err_21B")}}},{key:"displayImageMsgObj",value:function(a,b,c,g){f.displayMsgContent(a,b,c,g)}},{key:"displayVideoMsgObj",value:function(a,b,c){f.displayMsgContent(a,b,c)}},{key:"displayAudioMsgObj",value:function(a,b,c){f.displayMsgContent(a,
      b,c)}},{key:"displayAudioVideoMsgObj",value:function(a,b,c){f.displayMsgContent(a,b,c)}},{key:"displayDocMsgObj",value:function(a,b,c){f.displayMsgContent(a,b,c)}},{key:"displayTileMsgObj",value:function(a,b,c){f.displayMsgContent(a,b,c)}},{key:"displayBulletMsgObj",value:function(a,b,c){f.displayMsgContent(a,b,c)}},{key:"displayCardMsgObj",value:function(a,b,c){f.displayMsgContent(a,b,c)}},{key:"displayDocMsgObj",value:function(a,b,c){f.displayMsgContent(a,b,c)}},{key:"showIconMsgObjToolTip",value:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       b,c){f.displayMsgContent(a,b,c)}},{key:"displayIconMsgObj",value:function(a,b){l.hideClass("#header");l.hideClass("#subheader");f.emptyMessageStream();f.emptyResponseStream();l.hideClass(".c_convrs_strm");f.makeChalakhFrameNarrow();if(e.ChalakhIconCreated){l.logDebugInfor("icon already created");var c=f.findPatchObjString(a);e.chalakhToolTip.textContent=c}else{var g=document.createElement("div");var h=document.createElement("span");e.chalakhToolTip=h;h.id="tooltip";c=f.findPatchObjString(a);h.textContent=
      c;g.id="chalakhIcon";c=document.createElement("div");c.innerHTML='<a class="node__icon_img" href="#"><img src="https://s3.us-east-2.amazonaws.com/chalakh-bot-js/images/nodeicon.svg" class = "img-fluid" width="30" height="30" alt=""></a>';g.appendChild(c);g.appendChild(h);$("body").append(g);e.ChalakhIconCreated=!0}setTimeout(function(){f.unhideChalakhIcon()},k.chalakIconDisplayDelay);(function(){e.toolTipDisplayTimeout=setTimeout(function(){$("#tooltip").addClass("c_display__tooltip");e.toolTipHideTimeout=
      setTimeout(function(){$("#tooltip").removeClass("c_display__tooltip");"hybridFreshStartMode"==e.botState&&(e.hybridProactivTimeout=setTimeout(function(){e.initiationMode="PR-1";f.hideChalakhIcon();B.initiateProactiveFreshConversation(e.initiationMode)},k.chalakIconHybridProactiveDelay))},k.chalakIconToolTipHideDelay)},k.chalakIconToolTipDisplayDelay)})();$("#chalakhIcon").click(function(a){a.stopPropagation();clearTimeout(e.toolTipDisplayTimeout);f.processResponseClick(null,void 0,null,this,null,
      "iconNode")})}},{key:"displayMsgContent",value:function(a,b,c,g){var h=f.createMessageBubble(a,b,c,g);e.messageTimeout+=k.delayBetweenMessages;a=setTimeout(function(){f.displayMsgContentBubble(h,b,c);f.animateMessageBubble(h,void 0);--e.displayMsgTimeOutCount},e.messageTimeout);e.timeouts.push(a);e.displayMsgTimeOutCount+=1}},{key:"createMessageBubble",value:function(a,b,c,g){var h=this.bubbleTypes[b];try{if(h)return(new h(a)).render("msgObject",this,b,c,g);l.logDebugInfor("cdc is"+b);f.handleError("err_4")}catch(q){f.handleError("err_22")}}},
  {key:"addCardFlipHandler",value:function(a){function b(a){a.stopPropagation();0!=$(".c_cd_msg_bdy #cardCarouselControlID").length?$(".carousel-item.active > .card-flip").toggleClass("flipped"):$(".c_cd_msg_bdy > .card-flip").toggleClass("flipped")}function c(a){a.stopPropagation();$("#cardCarouselControlID .card-flip").removeClass("flipped")}if("c4"==a||"c2"==a)$(".c_flip__front_cd").click(b),$(".c_flip__back_cd").click(b),$("#cardCarouselControlID").on("slide.bs.carousel",c)}},{key:"addCarouselSwipeEventHandler",
    value:function(a){$(a).on("touchstart",function(a){var c=a.originalEvent.touches[0].pageX;$(this).one("touchmove",function(a){a=a.originalEvent.touches[0].pageX;5<Math.floor(c-a)?$(this).carousel("next"):-5>Math.floor(c-a)&&$(this).carousel("prev")});$(".carousel").on("touchend",function(){$(this).off("touchmove")})})}},{key:"cycleCarouselAndThenStop",value:function(a){$(a).on("slid.bs.carousel",function(b){b.stopPropagation();$(".carousel-item").length-1==b.to&&(e.carouselCycleCount+=1,e.carouselCycleCount==
    k.maxCarouselCycleCount&&($(a).carousel("pause"),setTimeout(function(){$(a).carousel(0)},k.carouselIntervalPeriod)))})}},{key:"displayMsgContentBubble",value:function(a,b,c){var g=document.createElement("div");switch(b){case "terminate":case "text":g.classList.add("c_text_msg");g.appendChild(a);this.messages.appendChild(g);break;case "image":g.classList.add("c_img_msg");$(g).addClass(c);g.appendChild(a);this.messages.appendChild(g);0!=$("#imageCarouselControlID").length&&($("#imageCarouselControlID").carousel({interval:k.carouselIntervalPeriod}),
      f.addCarouselSwipeEventHandler("#imageCarouselControlID"),e.carouselCycleCount=0,f.cycleCarouselAndThenStop("#imageCarouselControlID"));this.addImageEventHandlers();break;case "video":g.classList.add("c_video_msg");$(g).addClass(c);g.appendChild(a);this.messages.appendChild(g);this.addVideoEventHandlers();break;case "audio":g.classList.add("c_audio_msg");$(g).addClass(c);g.appendChild(a);this.messages.appendChild(g);this.addAudioEventHandlers();break;case "audioVideo":g.classList.add("c_media_msg");
      $(g).addClass(c);g.appendChild(a);this.messages.appendChild(g);0!=$("#mediaCarouselControlID").length&&($("#mediaCarouselControlID").carousel({interval:k.carouselIntervalPeriod}),f.addCarouselSwipeEventHandler("#mediaCarouselControlID"),e.carouselCycleCount=0,f.cycleCarouselAndThenStop("#mediaCarouselControlID"));this.addAudioEventHandlers();this.addVideoEventHandlers();break;case "card":g.classList.add("c_cd_msg");$(g).addClass(c);g.appendChild(a);this.messages.appendChild(g);0!=$("#cardCarouselControlID").length&&
    ($("#cardCarouselControlID").carousel({interval:k.carouselIntervalPeriod}),f.addCarouselSwipeEventHandler("#cardCarouselControlID"),e.carouselCycleCount=0,f.cycleCarouselAndThenStop("#cardCarouselControlID"));f.addCardFlipHandler(c);break;case "tile":g.classList.add("c_tl_msg");$(g).addClass(c);g.appendChild(a);this.messages.appendChild(g);0!=$("#tileCarouselControlID").length&&($("#tileCarouselControlID").carousel({interval:k.carouselIntervalPeriod}),f.addCarouselSwipeEventHandler("#tileCarouselControlID"),
      e.carouselCycleCount=0,f.cycleCarouselAndThenStop("#tileCarouselControlID"));if("t4"==c)$(".c_tl_itms").on("click",H.tileT4EventHandler);else"t5"==c&&($(".c_short__list__icon").on("click",H.tileT5EventHandler),$("[data-toggle=tooltip]").tooltip());break;case "bullet":g.classList.add("c_bul_msg");$(g).addClass(c);g.appendChild(a);this.messages.appendChild(g);0!=$("#bulletCarouselControlID").length&&($("#bulletCarouselControlID").carousel({interval:k.carouselIntervalPeriod}),f.addCarouselSwipeEventHandler("#bulletCarouselControlID"),
      e.carouselCycleCount=0,f.cycleCarouselAndThenStop("#bulletCarouselControlID"));if("bwoh-p"==c)$(".c_bul_contain").on("click",H.bulletStringEventHandler);break;case "doc":g.classList.add("c_doc_msg");$(g).addClass(c);g.appendChild(a);this.messages.appendChild(g);0!=$("#docCarouselControlID").length&&($("#docCarouselControlID").carousel({interval:k.carouselIntervalPeriod}),f.addCarouselSwipeEventHandler("#docCarouselControlID"),e.carouselCycleCount=0,f.cycleCarouselAndThenStop("#docCarouselControlID"));
      this.addDocEventHandlers();break;default:l.logDebugInfor("unknown message type in displayMsgContentBubble")}return a}},{key:"animateMessageBubble",value:function(a,b){var c=this;a.getBoundingClientRect();window.getComputedStyle(a).opacity;a.classList.add("c_msg__bubble--slideIn");var g=setTimeout(function(){var b=setTimeout(function(b){a.classList.remove("c_msg__bubble--typing");a.removeAttribute("style");c.scrollIntoView()},350);e.timeouts.push(b)},b);e.timeouts.push(g)}},{key:"addDocEventHandlers",
    value:function(){$(".c_doc_contain .btn").on("click",H.handleDocDownloadClick)}},{key:"addVideoEventHandlers",value:function(){var a,b,c,g;$(".c_video__descriptor").click(function(h){function d(){$("#cuiVideoModal").modal("show")}function p(){3<=e.videoMediaObject.readyState?(clearInterval(e.checkVideoFileReadyStatusInterval),e.checkVideoFileReadyStatusInterval=null,d(),l.logDebugInfor("video file now ready "),e.abortMediaPlay?l.logDebugInfor("video media play is aborted"):(C.mediaUnMute(e.videoMediaObject),
      C.mediaPlay(e.videoMediaObject,"video"))):(m+=1,m==k.audioVideoDownloadAttemptCount?(clearInterval(e.checkVideoFileReadyStatusInterval),$("#c_video__object").attr("poster",""),e.checkVideoFileReadyStatusInterval=null,C.mediaStop(e.videoMediaObject),l.hideClass(".c_video_mdl"),f.showErrorPopUp(k.oopsCouldNotDownloadAVFile)):l.logDebugInfor(e.videoMediaObject.readyState,"video media play no ready"))}var m=0;e.loadMediaCounter=0;f.turnOnSoundIconInHeader();l.unhideClass(".c_video_mdl");h.stopPropagation();
      C.mediaStop(e.videoMediaObject,"video");C.mediaStop(e.cpatchAudioMediaObject);try{a=$(this).find(".c_media__title").text(),b=$(this).find(".c_media__subtitle").text(),c=$(this).find(".c_video__media__file").attr("src"),g=a.substring(0,100),b.substring(0,100)}catch(u){f.handleError("err_24")}f.recordMediaUsageData("video",c);$("#c_mdl__title").children("h6").text(g+"..");try{$("#c_video__object").children("source").attr("src",c),e.videoMediaObject=$("#c_video__object")[0],0==e.loadMediaCounter&&(e.videoMediaObject.load(),
        e.loadMediaCounter+=1,l.logDebugInfor("load counter in modal click handler",e.loadMediaCounter))}catch(u){f.handleError("err_25")}d();4==e.videoMediaObject.readyState?(C.mediaUnMute(e.videoMediaObject),C.mediaPlay(e.videoMediaObject,"video")):(l.logDebugInfor("video file not loaded - using a set interval"),null==e.checkVideoFileReadyStatusInterval&&(e.checkVideoFileReadyStatusInterval=setInterval(p,250)));return!1});$("#cuiVideoModal").on("hide.bs.modal",function(){clearInterval(e.checkVideoFileReadyStatusInterval);
      e.checkVideoFileReadyStatusInterval=null;l.hideClass(".c_video_mdl");C.mediaStop(e.videoMediaObject)})}},{key:"addAudioEventHandlers",value:function(){var a,b,c,g,h,d,p;$(".c_audio__descriptor").click(function(q){function m(){$("#cuiAudioModal").modal("show")}function r(){4==e.audioMediaObject.readyState?(clearInterval(e.checkAudioFileReadyStatusInterval),e.checkAudioFileReadyStatusInterval=null,l.hideClass(".c_mdl__download__gif"),m(),l.logDebugInfor("audio media play ready"),e.abortMediaPlay?l.logDebugInfor("audio media play is aborted"):
      C.mediaPlay(e.audioMediaObject,"audio")):(E+=1,E==k.audioVideoDownloadAttemptCount&&(clearInterval(e.checkVideoFileReadyStatusInterval),l.hideClass(".c_mdl__download__gif"),e.checkAudioFileReadyStatusInterval=null,C.mediaStop(e.audioMediaObject),l.hideClass(".c_audio_mdl"),f.showErrorPopUp(k.oopsCouldNotDownloadAVFile)),l.logDebugInfor("audio media play not ready"))}var E=0;e.loadMediaCounter=0;l.hideClass(".c_mdl__download__gif");e.downloadGifDisplayTimeOut=setTimeout(function(){4!=e.audioMediaObject.readyState&&
    l.unhideClass(".c_mdl__download__gif")},k.delayBeforeDownloadGifIsShown);f.turnOnSoundIconInHeader();l.unhideClass(".c_audio_mdl");q.stopPropagation();C.mediaStop(e.audioMediaObject,"audio");C.mediaStop(e.cpatchAudioMediaObject);try{a=$(this).find(".c_media__title").text(),b=$(this).find(".c_media__subtitle").text(),g=$(this).find(".c_lhs_ftr1").text(),h=$(this).find(".c_lhs_ftr2").text(),d=$(this).find(".c_rhs_ftr1").text(),p=$(this).find(".c_rhs_ftr2").text(),a.substring(0,100),b.substring(0,100),
      c=$(this).find(".c_audio__media__file").attr("src")}catch(w){f.handleError("err_26")}f.recordMediaUsageData("audio",c);$(".c_mdl__title").text(a);$(".c_mdl__subtitle").text(b);$(".c_mdl__lhs_ftr1").text(g);$(".c_mdl__lhs_ftr2").text(h);$(".c_mdl__rhs_ftr1").text(d);$(".c_mdl__rhs_ftr2").text(p);try{$("#c_audio__object").children("source").attr("src",c),e.audioMediaObject=$("#c_audio__object")[0],0==e.loadMediaCounter&&(e.audioMediaObject.load(),e.loadMediaCounter+=1)}catch(w){f.handleError("err_27")}m();
      4==e.audioMediaObject.readyState?(l.hideClass(".c_mdl__download__gif"),C.mediaPlay(e.audioMediaObject,"audio")):null==e.checkAudioFileReadyStatusInterval&&(e.checkAudioFileReadyStatusInterval=setInterval(r,250));return!1});$("#cuiAudioModal").on("hide.bs.modal",function(){clearInterval(e.checkAudioFileReadyStatusInterval);e.checkAudioFileReadyStatusInterval=null;C.mediaStop(e.audioMediaObject);l.hideClass(".c_audio_mdl")})}},{key:"turnOnSoundIconInHeader",value:function(a){e.muteAudio||($("#sound_img").attr("src",
      "https://s3.us-east-2.amazonaws.com/chalakh-bot-js/images/soundIcon.jpg"),e.muteAudio=!0)}},{key:"toggleCpatchSound",value:function(a){e.muteAudio?($("#sound_img").attr("src","https://s3.us-east-2.amazonaws.com/chalakh-bot-js/images/noSoundIcon.jpg"),1==$(".c_convrs_strm .c_media_msg").length?(C.mediaPause(e.audioMediaObject),C.mediaMute(e.videoMediaObject)):e.currentNodeHasCpatchAudio&&C.mediaPause(e.cpatchAudioMediaObject)):($("#sound_img").attr("src","https://s3.us-east-2.amazonaws.com/chalakh-bot-js/images/soundIcon.jpg"),
      1==$(".c_convrs_strm .c_media_msg").length?(C.mediaUnPause(e.audioMediaObject,"notPatchAudio"),C.mediaUnMute(e.videoMediaObject)):e.currentNodeHasCpatchAudio&&C.mediaUnPause(e.cpatchAudioMediaObject,"patchAudio"));e.muteAudio=!e.muteAudio;l.logDebugInfor(e.muteAudio)}},{key:"playCpatchAudio",value:function(){function a(a){try{$("#c_cpatch__audio__object").children("source").attr("src",a),e.cpatchAudioMediaObject=$("#c_cpatch__audio__object")[0],0==e.loadCpatchMediaCounter&&(e.cpatchAudioMediaObject.load(),
      e.loadCpatchMediaCounter+=1)}catch(h){f.handleError("err_120")}}function b(){4==e.cpatchAudioMediaObject.readyState?(clearInterval(e.checkPatchAudioFileReadyStatusInterval),e.checkPatchAudioFileReadyStatusInterval=null,l.logDebugInfor("cpatch audio file ready"),e.abortMediaPlay?l.logDebugInfor("cpatch audio play being aborted"):C.mediaPlay(e.cpatchAudioMediaObject,"audio")):l.logDebugInfor("cpatch audio file not ready")}l.logDebugInfor("stopping  media  in play cpatch");clearInterval(e.checkPatchAudioFileReadyStatusInterval);
      clearInterval(e.checkAudioFileReadyStatusInterval);clearInterval(e.checkVideoFileReadyStatusInterval);e.checkPatchAudioFileReadyStatusInterval=null;e.checkAudioFileReadyStatusInterval=null;e.checkVideoFileReadyStatusInterval=null;C.mediaStop(e.audioMediaObject);C.mediaStop(e.videoMediaObject);C.mediaStop(e.cpatchAudioMediaObject);e.abortMediaPlay=!1;var c=function(a){try{var c=f.createTextObjFromPatches("cpa",e.currentNodeID);if(null==c||void 0==c)return e.currentNodeHasCpatchAudio=!1,null;var b=
        c[0][0].da_ddf.text[0];e.currentNodeHasCpatchAudio=!0;return b}catch(p){f.handleError("err_26")}}();null!=c&&a(c);if(e.muteAudio&&null!=c)return 4==e.cpatchAudioMediaObject.readyState?C.mediaPlay(e.audioMediaObject,"audio"):null==e.checkPatchAudioFileReadyStatusInterval&&(e.checkPatchAudioFileReadyStatusInterval=setInterval(b,250)),!1}},{key:"recordMediaUsageData",value:function(a,b){v.sendMediaUsageData(e.currentNodeID,e.botVariationMetaObj.botVariationID,"mediaUsed",a,b)}},{key:"addImageEventHandlers",
    value:function(){$(".c_img__thumbnail").click(function(a){l.unhideClass(".c_img_mdl");$("#cuiImageModal").modal({backdrop:!1});return!1});$(".c_close_img_mdl").click(function(a){$("#cuiImageModal").modal("hide");$("body").removeClass("modal-open");l.hideClass(".c_img_mdl");return!1})}},{key:"addBulletModalEventHandlers",value:function(){$(".c_close_bul_mdl").click(function(a){$("#cuiBulletModal").modal("hide");$("body").removeClass("modal-open");l.hideClass(".c_bul_mdl");return!1})}},{key:"OldaddTileT4EventHandlers",
    value:function(){$(".c_tl_itms").click(function(a){l.unhideClass(".c_bul_mdl");$("#cuiBulletModal").modal({backdrop:!1});return!1})}},{key:"checkIfSelectionOrDeselection",value:function(a){return $(a).hasClass("preFill")||$(a).hasClass("c_tl__selected")?!1:!0}},{key:"checkIfFirstSelectionOfTile",value:function(){return 0==$("div.c_tl__selected").length?!0:!1}},{key:"addPastSelections",value:function(a){$("#tile-response .preFill").each(function(b){b=$(this).attr("data-tile-name");var c=$(this).attr("data-tile-value");
      a.push(b+"-"+c)});return a}},{key:"addPrefilledSelectionsFromPastToVisitorSelection",value:function(a){try{for(var b=0;b<a.length;b++){var c=a[b][0].da_ddf;"preFill"==c.valueType&&e.visitorSelection.push(c.name+"-"+c.value)}}catch(g){f.handleError("err_27a")}a=l.findNodeObj(e.currentNode);a=y.getDataProbeID(a);e.visitorQuestion=a}},{key:"removeTileSelectionFromVisitorSelection",value:function(a,b,c){try{var g=c.indexOf(a+"-"+b);-1<g&&c.splice(g,1)}catch(h){f.handleError("err_27b")}return c}},{key:"storeRespTileSelectionInNode",
    value:function(a,b){var c=l.findNodeObj(e.currentNode);try{var g=c.rs_obj.pr_obj.p_rdo;for(c=0;c<g.length;c++){var h=g[c][0].da_ddf;h.value==b&&h.name==a&&(h.valueType="preFill")}}catch(q){f.handleError("err_27c")}}},{key:"removeRespTileSelectionFromNode",value:function(a,b){var c=l.findNodeObj(e.currentNode);try{var g=c.rs_obj.pr_obj.p_rdo;for(c=0;c<g.length;c++){var h=g[c][0].da_ddf;h.value==b&&h.name==a&&(h.valueType="")}}catch(q){f.handleError("err_27d")}}},{key:"createInterestNode",value:function(a){var b=
      l.findBotPersonality();null!=e.mainMotifThemeBeingShown&&"bot"==b&&f.tagAsShownInterestNodeProbeThemeOptionsShown(e.mainMotifThemeBeingShown);a=f.createCopyOfNode(a);a=f.removeProbeOptionsTaggedAsNeverFromInterestNode(a);if("proactiveRestartMode"==e.botState||"bot"==b)a=f.removeProbeOptionsTaggedAsShownFromInterestNode(a);return a=f.removeIfNecessaryLowImpactThemesFromProbeDataObject(a)}},{key:"displayRespObject",value:function(a,b,c,g,h,d){var q=this;try{if("interestNode"==a.nmobj.nodcat){a=f.createInterestNode(a);
      var m=a.rs_obj.pr_obj.p_rdo.length;var u=a.rs_obj.pr_obj.p_mo;b=a.rs_obj.pr_obj.p_rdo;g=u.p_rdc;h=u.p_rdsc}else m=b.length}catch(r){f.handleError("err_30")}if(0<m)switch(g){case "form":f.displayFormResponse(a,b,g,h,c,d);break;case "input":f.displayInputResponse(a,q,b,c,h);break;case "survey":f.displaySurveyResponse(a,b,g,h,c,d);break;case "payment":"pm"==h?f.displayPaymentMethodNode(a,b,g,h,c,d):f.displayPaBiPpNodes(a,b,g,h,c,d);break;case "tile":f.displayTileResponse(a,b,g,h,c,d);break;default:l.logDebugInfor("invalid response display category")}else f.displayQuickReplyResponse(a,
      b,g,h,c,d);a=setTimeout(function(){q.scrollIntoView()},300);e.timeouts.push(a)}},{key:"createAndDisplayResponseBubble",value:function(a,b,c,g,h,e,d){a=f.createResponseBubble({nodeObj:a,prdo:b,qrdo:h,prdc:c,prdsc:g,qrdsc:e,renderObjectType:"respObject",responseBubbleType:d});return f.displayResponseBubble(a,d,g)}},{key:"createResponseBubble",value:function(a){var b=this.bubbleTypes[a.responseBubbleType];try{if(b)return(new b(a)).render(a.renderObjectType,this);f.handleError("err_30")}catch(c){f.handleError("err_30")}}},
  {key:"displayResponseBubble",value:function(a,b,c){var g=document.createElement("div");switch(b){case "form":$(g).addClass(this.config.responseFormClass);g.appendChild(a);this.responses.appendChild(g);break;case "QRNodeSelector":$(g).addClass(this.config.responseQRButtonClass);g.appendChild(a);this.responses.appendChild(g);break;case "QRImgSelector":$(g).addClass(this.config.responseQRButtonClass);g.appendChild(a);this.responses.appendChild(g);break;case "input":$(g).addClass(this.config.responseInputClass);
      g.appendChild(a);this.responses.appendChild(g);break;case "survey":$(g).addClass(this.config.responseSurveyClass);g.appendChild(a);this.responses.appendChild(g);break;case "payment":$(g).addClass(this.config.responsePaymentClass);$(g).addClass(c);g.appendChild(a);this.responses.appendChild(g);if("pa"==c){if(0!=$("#payment-pa-bi-pp .c_tl_resp__field.first_tl").length)$(".tile-button").on("click",H.tileT8EventHandler)}else if("pm"==c)$(".c_form__qr_btn_contain").on("click",H.QREventHandlers);break;
      case "tile":$(g).addClass(this.config.responseTileClass);$(g).addClass(c);g.appendChild(a);this.responses.appendChild(g);if("t8"==c||"t10"==c||"t11"==c)$(".tile-button").on("click",H.tileT8EventHandler);else"t9"==c&&($(".tile-button").on("click",H.tileT9EventHandler),$("#qr-response").on("click",H.QREventHandlers));0!=$("#tileCarouselControlID").length&&($("#tileCarouselControlID").carousel({interval:k.shortCarouselIntervalPeriod}),f.addCarouselSwipeEventHandler("#tileCarouselControlID"),e.carouselCycleCount=
        0,f.cycleCarouselAndThenStop("#tileCarouselControlID"));break;default:l.logDebugInfor("unmatched response bubble type "+a.responseBubbleType)}b=f.createfooter();this.responses.appendChild(b);b=setTimeout(function(){$(a).addClass("c_resp__bubble--slideIn");$(".c_resp_strm").addClass("border__to_resp")},250);e.timeouts.push(b);var h=function(c){a.focus();a.removeEventListener("transitionend",h)};a.addEventListener("transitionend",h);return a}},{key:"createfooter",value:function(){var a=document.createElement("div");
      $(a).addClass(k.footerClass);a.setAttribute("id","footer");'<div class="d-flex"><div id = "poweredByChalakh">Powered by Chalakh</div></div>';a.innerHTML='<div class="d-flex"><div id = "poweredByChalakh">Powered by Chalakh</div>';return a}},{key:"processResponseClick",value:function(a,b,c,g,h,d,p,m){function q(){function a(a){var c=[];var b=$("#tile-response").attr("data-probe-id");for(var g=0;g<a.length;g++){var h=a[g].split("-")[1];c.push(b+"-"+h)}return c}h="t9"==l.findNodeObj(e.currentNode).rs_obj.pr_obj.p_mo.p_rdsc?
      a(e.visitorSelection):null;var c=function(a){for(var c={},b=0;b<a.length;b++){var g=a[b].split("-");c[g[0]]=g[1]}return c}(e.visitorSelection),b=e.visitorQuestion;l.doesCampaignNeedsAnswersPosted()&&O.postVisitorData(c);v.sendUserSelectionData(e.currentNodeID,e.botVariationMetaObj.botVariationID,"userSelection",c,b);e.visitorSelection=[];e.visitorQuestion=""}e.abortMediaPlay=!0;c=document.documentElement;c.style.setProperty("--c_text_msg-font-size","0.9rem");c.style.setProperty("--c_ftr-display",
      "flex");if(!function(a){a=$(a).attr("data-next-node");if(void 0!=a&&null!=a)return a=a.split("-"),"href"==a[0]?(a.shift(),a=a.join("-"),window.open(a,"_top"),!0):!1}(b)){try{var r=l.findNodeObj(e.currentNode);var E=r.rs_obj.pr_obj.p_mo.p_rdsc,w=r.ms_obj.conobj.conmobj.cdsc}catch(z){f.handleError("err_31b")}"t9"!=E&&"t5"!=w||q();d=function(a){try{void 0==a&&(a=r.nmobj.nodcat)}catch(Q){f.handleError("err_31")}return a}(d);1!=e.conversationStartRecorded&&(v.sendConversationData(r._nid,e.botVariationMetaObj.botVariationID,
      "conversationEvent","coStart",e.botState),v.setItem(k.convStarted,1,k.mediumExpirationPeriod,k.cookiePath),e.conversationStartRecorded=!0);switch(d){case "contentNode":f.processContentNodeClick(a,b,g,h);break;case "contextNode":f.processContextNodeClick(a,b,g,h);break;case "interestNode":f.processInterestNodeClick(a,b,g,h);break;case "searchNode":e.segmentNodeWasFound=!1;f.processSearchNodeClick(a,b,g,h);break;case "segmentNode":e.segmentNodeWasFound=!0;f.processSearchNodeClick(a,b,g,h);break;case "purposeNode":f.processPurposeNodeClick(a,
      b,g,h);break;case "conversionNode":f.processConversionNodeClick(a,b,g,p,m);break;case "restartPreferenceNode":f.processRestartPreferenceNodeClick(a,b,g,h);break;case "iconNode":f.processIconNodeClick(a,b,g);break;default:f.handleError("err_32")}}}},{key:"findAnddisplaySubsequentNodeObjInTheme",value:function(a,b,c){"redirectNode"==c?f.processRedirectNode(a,!1):(f.emptyMessageStream(),f.emptyResponseStream(),c=f.getNodeToDisplay(a),f.checkNodeToShowObj(c),f.displayNode(c,b,"previousNodeInTheme"==a?
      "backward":"forward",!0))}},{key:"displaySubsequentNodeObjInTheme",value:function(a,b,c,g){"redirectNode"==c?f.processRedirectNode(a,!1):(f.emptyMessageStream(),f.emptyResponseStream(),f.checkNodeToShowObj(a),f.displayNode(a,b,"previousNodeInTheme"==g?"backward":"forward",!0))}},{key:"removeImageModalIfWasCreated",value:function(){$(".c_img_mdl").length&&($(".c_img_mdl").remove(),e.imgGroups=[])}},{key:"getDataNextNodeFromClickedResponseButton",value:function(a){a=$(a).attr("data-next-node");void 0==
    a&&(a="nextNodeInTheme");return a}},{key:"getNodeCat",value:function(a){try{var b=a.nmobj.nodcat}catch(c){f.handleError("err_37")}return b}},{key:"processContentNodeClick",value:function(a,b,c,g){a=f.getDataNextNodeFromClickedResponseButton(b);b=l.findNodeCategory(a,g);f.removeImageModalIfWasCreated();g=f.getNodeToDisplay(a,g);f.displaySubsequentNodeObjInTheme(g,!1,b,a)}},{key:"processContextNodeClick",value:function(a,b,c,g){var h,e;a=f.getSelectionValue(g);"Attendee"==a?h="sponsor":h="Attendee";
      "Attendee"==a?e="Attendee":e="sponsor";f.suppressContextualNodesInCSO({csoConvert:L,csoMain:T},h);v.setItem(k.visitorContext,e,k.mediumExpirationPeriod,k.cookiePath);h=$(b).attr("data-next-node");b=h.split(":");1==b.length?h=b[0]:f.handleError("err_33");f.findAnddisplaySubsequentNodeObjInTheme(h,!1)}},{key:"processPurposeNodeClick",value:function(a,b,c,g){var h,e;c=f.getSelectionValue(g);"attendee"==c?(h="sponsor",e="attendee"):"sponsor"==c?(h="attendee",e="sponsor"):h=!1;a=f.findNodeTargetAudience("currentNode");
      try{var d=a.concat(":",c)}catch(u){f.handleError("err_34")}if("attendee"==h||"sponsor"==h)a={csoConvert:L,csoMain:T},f.suppressContextualNodesInCSO(a,h),v.setItem(k.visitorContext,e,k.mediumExpirationPeriod,k.cookiePath);b=$(b).attr("data-next-node");h=f.getNodeToDisplay(b);Array.isArray(h)&&(h=f.removeDuplicateNodesTemporarilyUsingTargetAudience(h[0],d));try{var m=h.nmobj.nodcat;f.displaySubsequentNodeObjInTheme(h,!1,m,b)}catch(u){f.handleError("err_35")}}},{key:"processInterestNodeClick",value:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    b,c,g){a=f.getSelectionValue(g);v.cookieConversationThemeHistory(a);v.cookieThemeImpressionCount();e.mainMotifThemeBeingShown=a;f.findThemeNodes("cso_mai",T,a);try{var h=e.currentThemeNodes[k.orderOfFirstNodeInTheme].index;var d=T[h]}catch(p){f.handleError("err_36")}f.displaySubsequentNodeObjInTheme(d,!1,void 0,"nextNodeInTheme")}},{key:"processSearchNodeClick",value:function(a,b,c,g){try{var h=l.findNodeObj(e.currentNode).ms_obj.conobj.conmobj.cdsc}catch(p){f.handleError("err_37a")}"t5"==h&&(g=e.segmentSelectionArrayOfArrays[e.segmentSelectionArrayOfArrays.length-
    1]);if(0==e.currentNode||"searchNode"!=l.findNodeCategory("previousNodeInTheme"))e.segmentSelectionArrayOfArrays=[];e.segmentSelectionArrayOfArrays.push(g);b=f.getDataNextNodeFromClickedResponseButton(b);a="previousNodeInTheme"==b?!1:!0;g=f.getNodeToDisplay(b,g);try{var d=g.nmobj.nodcat}catch(p){f.handleError("err_37b")}f.displaySubsequentNodeObjInTheme(g,a,d,b)}},{key:"processConversionNodeClick",value:function(a,b,c,g,h){function d(a){try{a.nmobj.dinod="never"}catch(w){f.handleError("err_37c")}(function(){function c(c){try{for(var b=
      a.rs_obj.pr_obj.p_mo.p_seg,g=0;g<c.length;g++){var h=G[c[g].motif][c[g].index],d=h.nmobj;b==h.rs_obj.pr_obj.p_mo.p_seg&&(d.dinod="never")}}catch(ea){f.handleError("err_38b")}}function b(a,c,b){try{var g=[],h=[];try{var d=[],e=x[a].c_r_m[c];for(a=0;a<e.length;a++)d.push(e[a].th_m)}catch(fa){f.handleError("err_38a")}var q=d;for(d=0;d<q.length;d++)for(h=f.findThemeNodesNotTaggedAsNever([],c,b,q[d]),e=0;e<h.length;e++)"conversionNode"==h[e].nodcat&&g.push(h[e])}catch(fa){f.handleError("err_38c")}return g}
      for(var g=e.botVariationMetaObj.variationIndexInCSOMeta,h=[{motifName:"cso_con",motifObj:L},{motifName:"cso_mai",motifObj:T},{motifName:"cso_res",motifObj:W},{motifName:"cso_int",motifObj:S}],d=0;d<h.length;d++){var q=b(g,h[d].motifName,h[d].motifObj);0<q.length&&c(q,a)}})();a:{try{p=e.botVariationMetaObj.variationIndexInCSOMeta;if(0==x[p].c_r_m.cso_con.length){var c=!1;break a}m=x[p].c_r_m.cso_con[0].th_m;u=f.findAllThemeNodesInMotif("cso_con",L,m,!0)}catch(w){f.handleError("err_38")}c=0==u.length?
      !1:!0}c||v.cookieGoalCompletion(1);v.recordConversionSuccess(a._nid,e.botVariationMetaObj.botVariationID,a);v.setItem(k.cxCumAttemts,0,k.mediumExpirationPeriod,k.cookiePath);sessionStorage.setItem(k.cxSessAttemts,0)}var p,m,u;a=function(a,c){if(0==x[a].c_r_m.cso_con.length)return!1;var b=x[a].c_r_m.cso_con[0].th_m;if(null!=b){b=f.findAllThemeNodesInMotif("cso_con",L,b,!0);for(var g=0;g<b.length;g++)if(b[g]._nid==c._nid)return!0}else return!1}(e.botVariationMetaObj.variationIndexInCSOMeta,h);1==g?
      d(h):v.sendConversionData(h._nid,e.botVariationMetaObj.botVariationID,"conversionEvent","cxFailure",h);g=l.findNodeObj(e.currentNode);f.checkNodeToShowObj(g);a?"never"!=g.nmobj.dinod?f.displaySubsequentNodeObjInTheme(g,!1,void 0,"nextNodeInTheme"):(b=f.getNodeToDisplay("nextNodeInTheme"),f.displaySubsequentNodeObjInTheme(b,!1,void 0,"nextNodeInTheme")):(b=$(b).attr("data-next-node"),b=f.getNodeToDisplay(b),f.checkNodeToShowObj(b),f.displaySubsequentNodeObjInTheme(b,!1,void 0,"nextNodeInTheme"))}},
  {key:"findInterestNodeObj",value:function(a){var b;try{for(var c=0;c<a.length;c++){var g=a[c],h=G[e.currentThemeNodes[g].motif][e.currentThemeNodes[g].index];"interestNode"==h.nmobj.nodcat&&(b=h)}}catch(q){f.handleError("err_39")}return b}},{key:"areThemesAvailableToDisplay",value:function(a){a=f.findInterestNodeObj(a[0]);return f.checkIfThemesAvailableToShow(a)}},{key:"processRestartPreferenceNodeClick",value:function(a,b,c,g){var h,d;a=f.getSelectionValue(g);c=f.getNodeToDisplay("nextNodeInTheme");
      "pickUpWhereLeft"==selection?d="pickUpWhereLeft":d="themesAvailableToShow";b=f.findNodeTargetAudience("currentNode");if("startAllOverAgain"==a)try{d=b.concat(":","themesAvailableToShow"),c=f.removeDuplicateNodesTemporarilyUsingTargetAudience(c[0],d),f.recapThemesShownInPast(c.ms_obj.cpatch)}catch(p){f.handleError("err_40")}else try{(h=f.areThemesAvailableToDisplay(c))?d=b.concat(":","themesAvailableToShow"):d=b.concat(":","themesUnavailableToShow"),c=f.removeDuplicateNodesTemporarilyUsingTargetAudience(c[0],
        d),h&&(c=f.findThemesShownBeforeAndTagAsShown(c),f.recapThemesShownInPast(c.ms_obj.cpatch))}catch(p){f.handleError("err_41")}f.displaySubsequentNodeObjInTheme(c,!1,void 0,"nextNodeInTheme")}},{key:"processRedirectNode",value:function(a,b,c){$.isPlainObject(a)||(a=f.getNodeToDisplay(a));try{var g=a.nmobj.nredth;var h=g.split(":");var d=h[0];var p=h[1];var m=G[d]}catch(E){f.handleError("err_42")}f.findThemeNodes(d,m,"currentTheme"==p?e.currentTheme:p);try{var u=e.currentThemeNodes[k.orderOfFirstNodeInTheme].index;
      var r=m[u]}catch(E){f.handleError("err_43")}f.displaySubsequentNodeObjInTheme(r,!1,void 0,"nextNodeInTheme")}},{key:"processIconNodeClick",value:function(){function a(){b=f.getNodeToDisplay("nextNodeInTheme");var a=f.getNodeCat(b);f.displaySubsequentNodeObjInTheme(b,!1,a,"nextNodeInTheme")}var b;$("#chalakhIcon").off("click");f.hideChalakhIcon();f.adjustCSSVarstoMatchDeviceType();f.makeChalakhFrameWide();l.unhideClass("#header");l.unhideClass("#subheader");l.unhideClass(".c_convrs_strm");f.showBorderToMessageStream();
      switch(e.botState){case "passiveFreshStartMode":e.botState="proactiveFreshStartMode";a();break;case "passiveExitMode":e.botState="proactiveFreshStartMode";a();break;case "passiveRestartMode":e.botState="proactiveFreshStartMode";a();break;default:l.logDebugInfor("bot state not recognized in iconNode click handler"+e.botState)}v.sendConversationData(b._nid,e.botVariationMetaObj.botVariationID,"conversationEvent","coOpen","passive");sessionStorage.setItem(k.convOpenURL,e.currentURL)}},{key:"processImgSelectorClick",
    value:function(a){var b=[];$(".c_img_mdl").remove();(function(){e.imgGroups.forEach(function(a,b){c="."+a;l.hideClass(c)})})();var c="."+a;l.unhideClass(c);var g=l.findNodeObj(e.currentNode);try{var h=g.ms_obj.conobj.cdo;h.forEach(function(c,g){var h=c[0].da_ddf;h.groupName==a&&b.push(h)})}catch(q){f.handleError("err_45")}D.createImageModal(b);f.addImageEventHandlers()}},{key:"getThemesShownInPast",value:function(){var a=[],b=[];var c=localStorage.getItem(k.convThemeHistory);try{null!=c&&(a=JSON.parse(c),
      a.forEach(function(a,c){b.push(a.thid)}))}catch(g){f.handleError("err_46")}return b}},{key:"removeProbeOptionsTaggedAsNeverFromInterestNode",value:function(a){try{var b=a.rs_obj.pr_obj.p_rdo;for(var c=0;c<b.length;c++){var g=b[c][1].da_meob;"never"==g.da_disob&&(b.splice(c,1),--c)}}catch(h){f.handleError("err_47")}return a}},{key:"removeProbeOptionsTaggedAsShownFromInterestNode",value:function(a){try{var b=a.rs_obj.pr_obj.p_rdo;for(var c=0;c<b.length;c++){var g=b[c][1].da_meob;"shown"==g.da_disob&&
    (b.splice(c,1),--c)}}catch(h){f.handleError("err_48")}return a}},{key:"removeShownAndNeverProbeOptionsBeforeRestart",value:function(a){var b=f.getThemesShownInPast();if(0!=b.length){for(var c=0;c<b.length;c++)f.tagAsShownInterestNodeProbeThemeOptionsShown(b[c]);a=f.removeShownAndNeverProbeOptionsFromInterestNode(a)}return a}},{key:"findThemesShownBeforeAndTagAsShown",value:function(a){var b=f.getThemesShownInPast();if(0!=b.length)for(var c=0;c<b.length;c++)f.tagAsShownInterestNodeProbeThemeOptionsShown(b[c]);
      return a}},{key:"changeInterestNodeProbeDisplayCategoryToTile",value:function(a){try{var b=a.rs_obj.pr_obj.p_mo;b.p_rdc="tile";b.p_rdsc="t8";return a}catch(c){f.handleError("err_49")}}},{key:"removeIfNecessaryLowImpactThemesFromProbeDataObject",value:function(a){var b;try{var c=x[e.botVariationMetaObj.variationIndexInCSOMeta].c_r_m.c_r_ge.c_r_de;var g=a.rs_obj.pr_obj.p_rdo;if(g.length>c){var h=g.length-c;var d=["low","medium","high"];var p=f.findChrMetaMainMotifThemeObj();for(c=0;c<d.length;c++){for(var m=
      d[c],u=0;u<g.length;u++){var r=g[u][0].da_ddf;var k=r.value;p.forEach(function(a,c){a.th_m==k&&(b=a.impact)});if(b==m&&(--h,g.splice(u,1),--u,0==h))break}if(0==h)break}}}catch(w){f.handleError("err_50")}return a}},{key:"tagAsShownInterestNodeProbeThemeOptionsShown",value:function(a){var b,c,g;var h=f.findInterestNodes([P,T,W,S]);try{h.forEach(function(h,d){b=h.rs_obj.pr_obj.p_rdo;b.forEach(function(b,h){c=b[0].da_ddf;g=b[1].da_meob;c.value==a&&(g.da_disob="shown")})})}catch(q){f.handleError("err_51")}}},
  {key:"tagAsNeverInterestNodeProbeThemeOptionNotInMainMotif",value:function(){var a,b=[],c,g,h,d;b=f.findMainMotifThemes();var e=f.findInterestNodes([P,T,W,S]);try{e.forEach(function(e,f){g=e.rs_obj.pr_obj.p_rdo;g.forEach(function(g,e){h=g[0].da_ddf;d=g[1].da_meob;c=h.value;a="never";b.forEach(function(b,g){b==c&&(a=!0)});d.da_disob=a})})}catch(m){f.handleError("err_52")}}},{key:"findInterestNodes",value:function(a){var b=[];try{return a.forEach(function(a,g){a.forEach(function(a,c){"interestNode"==
    a.nmobj.nodcat&&b.push(a)})}),e.interestNodes=b}catch(c){f.handleError("err_53")}}},{key:"findMainMotifThemes",value:function(){var a=[];try{var b=f.findChrMetaMainMotifThemeObj();b.forEach(function(c,b){a.push(c.th_m)})}catch(c){f.handleError("err_54")}return a}},{key:"createCopyOfNode",value:function(a){try{var b=JSON.parse(JSON.stringify(a))}catch(c){f.handleError("err_55")}return b}},{key:"findChrMetaMainMotifThemeObj",value:function(){try{return x[e.botVariationMetaObj.variationIndexInCSOMeta].c_r_m.cso_mai}catch(a){f.handleError("err_46")}}},
  {key:"resetTemporarilyRemovedNodes",value:function(a){try{for(var b=0;b<a.length;b++)e.currentThemeNodes[a[b]].dinod=!0}catch(c){f.handleError("err_58")}}},{key:"removeDuplicateNodesTemporarilyUsingTargetAudience",value:function(a,b){var c;try{for(var g=0;g<a.length;g++){var h=a[g];var d=e.currentThemeNodes[h].index;var p=e.currentThemeNodes[h].motif;var m=G[p];var u=m[d];var r=u.nmobj.taraud;r==b?c=u:e.currentThemeNodes[h].dinod=!1}}catch(E){f.handleError("err_59")}e.previousNode=e.currentNode;e.currentNode=
      f.findForwardNodeIndex(e.previousNode);e.nextNode=f.findForwardNodeIndex(e.currentNode);e.afterNextNode=f.findForwardNodeIndex(e.nextNode);e.afterNextNextNode=f.findForwardNodeIndex(e.afterNextNode);return c}},{key:"recapThemesShownInPast",value:function(a){var b=[],c=[],g,h,d,e;var m=localStorage.getItem(k.convThemeHistory);try{if(null==m)a.forEach(function(a,c){for(var b in a)"_blrbs"==b&&a[b]==k.pastThemeSummaryBlurb&&(a[b]=k.pastThemeGenericBlurb)});else{b=JSON.parse(m);b.forEach(function(a,b){c.push(a.thid)});
      c=[new Set(c)];Y.forEach(function(a,c){for(var b in a)"_blrbs"==b&&(h=a._blrbs)});h.forEach(function(a,c){for(var b in a)a[b]==k.pastThemeSummaryBlurb&&(g=a)});var u=g.sentenceObject;c.forEach(function(a,c){d=["themeDisplayNames:"+a];e={fragmentObject:[{fragmentType:"parameteric",fragments:d}]};u.push(e)})}}catch(r){f.handleError("err_60")}}},{key:"checkIfThemesAvailableToShow",value:function(a){try{var b=a.rs_obj.pr_obj.p_rdo;var c=f.getThemesShownInPast();if(0!=c.length)for(var g=0;g<c.length;g++)for(a=
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    0;a<b.length;a++){var h=b[a][0].da_meob;var d=b[a][1].da_ddf;var e=d.value;e==c[g]&&(h.da_disob="shown")}for(g=0;g<b.length;g++)if(h=b[g][1].da_meob,1==h.da_disob)return!0}catch(m){f.handleError("err_61")}return!1}},{key:"checkIfCurrentNodeHasImageThumbnails",value:function(){try{return"image"==f.findCurrentNodeContentDisplayCategory()?!0:!1}catch(a){f.handleError("err_3")}}},{key:"removePreviousNodeFromQRDO",value:function(a){var b=!1,c=0;var g=JSON.parse(JSON.stringify(a));try{return g.forEach(function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  g){"previous"==a.qr_opty&&(c=g,b=!0)}),b?(g.splice(c,1),g):a}catch(h){f.handleError("err_63")}}},{key:"displayQuickReplyResponse",value:function(a,b,c,g,h,d){var q,m={};d=f.checkIfCurrentNodeHasImageThumbnails()?"QRImgSelector":"QRNodeSelector";m=0==e.currentNode?f.removePreviousNodeFromQRDO(h):h;h=setTimeout(function(){q=f.createAndDisplayResponseBubble(a,b,c,g,m,d,d);q.addEventListener("click",H.QREventHandlers)},165);e.timeouts.push(h)}},{key:"displayTileResponse",value:function(a,b,c,g,h,d){f.createAndDisplayResponseBubble(a,
      b,c,g,h,d,"tile")}},{key:"displayPaBiPpNodes",value:function(a,b,c,g,h,d){function q(){function a(a,c){var b=l.findNodeObj(e.currentNode);try{var g=b.rs_obj.pr_obj.p_rdo;if("donationAmount"==h){var d=g[0][0].da_ddf.donationChoices;for(var q=0;q<d.length;q++)d[q].value==c&&d[q].name==a&&(d[q].valueType="")}else{var p=k.donationPaymentTypeOption;for(q=0;q<p.length;q++)p[q].value==c&&p[q].name==a&&(p[q].valueType="")}}catch(Z){f.handleError("err_27c")}}function c(c){if("donationAmount"==h){c=$(".c_pmt__amount__selected");
      var b=c[0];$(b).removeClass("c_pmt__amount__selected")}else c=$(".c_pmt__type__selected"),b=c[0],$(b).removeClass("c_pmt__type__selected");c=$(b).attr("data-name");b=$(b).attr("data-value");a(c,b)}function b(a,c,b){"donationAmount"==h?$(b).addClass("c_pmt__amount__selected"):$(b).addClass("c_pmt__type__selected");$(b).children("img").addClass("c_img__make__opaque");b=l.findNodeObj(e.currentNode);try{var g=b.rs_obj.pr_obj.p_rdo;if("donationAmount"==h){var d=g[0][0].da_ddf.donationChoices;for(var q=
      0;q<d.length;q++)d[q].value==c&&d[q].name==a&&(d[q].valueType="preFill")}else{var p=k.donationPaymentTypeOption;for(q=0;q<p.length;q++)p[q].value==c&&p[q].name==a&&(p[q].valueType="preFill")}}catch(Z){f.handleError("err_27c")}"other"!=c?"donationAmount"==h?e.donationAmount=c:e.donationType=c:l.unhideClass("#c_pmt__other__choice_contain")}function g(c,b,g){"donationAmount"==h?$("#c_pmt__amount_contain").removeClass("c_pmt__amount__selected"):$("#c_pmt__type_contain").removeClass("c_pmt__type__selected");
      $(g).children("img").removeClass("c_img__make__opaque");a(c,b)}var h=$(this).hasClass("payment-type-button")?"donationType":"donationAmount";var d="donationAmount"==h?$(this).hasClass("preFill")||$(this).hasClass("c_pmt__amount__selected")?!1:!0:$(this).hasClass("preFill")||$(this).hasClass("c_pmt__type__selected")?!1:!0;var q=$(this).attr("data-name");var p=$(this).attr("data-value");d?("donationAmount"==h?0!=$("div#c_pmt__amount_contain .c_pmt__amount__selected").length&&c(this):0!=$("div#c_pmt__type_contain .c_pmt__type__selected").length&&
      c(this),b(q,p,this)):"donationAmount"==h?0!=$("div#c_pmt__amount_contain .c_pmt__amount__selected").length&&g(q,p,this):0!=$("div#c_pmt__type_contain .c_pmt__type__selected").length&&g(q,p,this);return!1}var m;f.createAndDisplayResponseBubble(a,b,c,g,h,d,"payment");try{var u=a.nmobj.nodcat}catch(r){f.handleError("err_66")}$("#payment-pa-bi-pp").validate({rules:{firstName:"required",lastName:"required",businessTitle:"required",company:"required",email:{required:!0,email:!0},phone:{required:!0,digits:!0,
          minlength:10,maxlength:11},password:{required:!0,minlength:5},streetAddress1:"required",city:"required",state:"required",zipcode:"required"},messages:{firstName:{required:"Please enter first name"},lastName:{required:"Please enter last name"},businessTitle:{required:"Please enter your business title"},company:{required:"Please enter your company name"},phone:{required:"Please enter phone number",digits:"Please enter valid phone number",minlength:"Phone number should be at least 10 digits",maxlength:"Phone number cannot exceed 11 digits"},
        email:{required:"Please enter email address",email:"Please enter a valid email address."},streetAddress1:{required:"Please enter your street address"},city:{required:"Please enter your city"},state:{required:"Please enter your state"},zipcode:{required:"Please enter your zipcode"}}});$("#failure").click(function(c){c.stopPropagation();m=this;f.processResponseClick(null,m,this,"form",null,u,0,a);return!1});$("#payment-pa-bi-pp").submit(function(c){function b(){var a;try{var c=$("#payment-pa-bi-pp :input");
      c.each(function(){"submit"==this.type&&(a=this)})}catch(ba){f.handleError("err_66a")}return a}function h(a){try{var c=$("#payment-pa-bi-pp :input");c.each(function(){"button"!=this.type&&"submit"!=this.type&&(a[this.name]=this.value)})}catch(ba){f.handleError("err_66b")}return a}function d(a){var c=l.findNodeObj(e.currentNode);try{var b=c.rs_obj.pr_obj.p_rdo;for(var g in a)for(c=0;c<b.length;c++){var h=b[c][0].da_ddf;h.name==g&&(h.value=a[g])}}catch(Z){f.handleError("err_66c")}}function q(a){if("undefined"!=
      a.donationAmount&&""!=a.donationAmount){var c=l.findNodeObj(e.currentNode);try{var b=c.rs_obj.pr_obj.p_rdo;var g=b[0][0].da_ddf.donationChoices;var h=g[g.length-1];h.value=a.donationAmount;h.valueType="preFill";e.donationAmount=a.donationAmount}catch(Z){f.handleError("err_66c")}}}function p(a){void 0!=e.donationAmount&&null!=e.donationAmount?a.donationAmount=e.donationAmount:""!=a.donationAmount?e.donationAmount=a.donationAmount:l.logDebugInfor("error in processing amount");e.payProcessingCharge=
      "true"==a.payProcessingCharge?!0:!1;return a}function r(a){if(void 0==e.donationType||null==e.donationType){var c=$("#c_pmt__type_contain .c_pmt__type__selected")[0];e.donationType=$(c).attr("data-value")}a.donationType=e.donationType;return a}function A(a){e.firstName=a.firstName;e.lastName=a.lastName;e.streetAddress1=a.streetAddress1;e.city=a.city;e.state=a.state;e.zipCode=a.zipCode}var I={};c.preventDefault();if($("#payment-pa-bi-pp").valid()){I=h(I);f.sendResponseToBackEnd("#payment-pa-bi-pp",
      I);m=b();try{switch(g){case "pa":a:{try{if(void 0!=e.donationAmount&&null!=e.donationAmount)var R=!0;else""!=I.donationAmount&&"null"!=I.donationAmount?R=!0:(f.showErrorPopUp(k.invalidInputMessage),R=!1);break a}catch(U){f.handleError("err_63a")}R=void 0}if(R){q(I);"undefined"!=I.payProcessingCharge&&""!=I.payProcessingCharge&&l.findNodeObj(e.currentNode);I=p(I);I=r(I);I.quantity=1;I.donationDescription="Your Donation Amount";O.storePaymentInformation(I);break}else return;case "bi":d(I);A(I);O.storePaymentInformation(I);
      break;case "pp":d(I);O.processCreditCard(I,m,u,"form",1);return;default:f.handleError("err_67A")}}catch(U){f.handleError("err_67")}f.processResponseClick(null,m,this,"form",null,u,1,a)}});$(".payment-amount-button").click(q);$(".payment-type-button").click(q)}},{key:"displayPaymentMethodNode",value:function(a,b,c,g,h,d){function q(a,c,b){f.storeRespTileSelectionInNode(a,c);var g=H.createSelectionArray(c);a=H.createSelectionDataObject(a,c);f.sendResponseToBackEnd("paymentMethodSelection",a);"creditcard"==
    b?(c=H.createPseudoClickedButtonHTML(),f.processResponseClick(null,c,null,null,g)):"wallet"!=b&&window.open(c,"_top")}var m=function(a,c,b){var g=document.createElement("script");g.src=a;g.async=b;0!=c&&(g.integrity=c);document.getElementsByTagName("head")[0].appendChild(g)};f.createAndDisplayResponseBubble(a,b,c,g,h,d,"payment");e.paypalSDKLoaded||(m(k.paypalSDK,0,0),e.paypalSDKLoaded=!0);(function(a,c,b){var g=document.createElement("script");g.src=a;g.type="text/javascript";g.async=b;0!=c&&(g.integrity=
      c);document.getElementsByTagName("head")[0].appendChild(g)})(k.paypalSnippet,0,0);$("#c_digital__wallet_contain").click(function(a){a.stopPropagation();var c=$(a.target).attr("data-value");a=$(a.target).attr("data-name");q(a,c,"wallet")});$("#c_website_pmt_contain").click(function(a){a.stopPropagation();var c=$(a.currentTarget).children();a=c.attr("data-value");c=c.attr("data-name");q(c,a,"website")});$("#c_credit_cd_contain").click(function(a){a.stopPropagation();q("paymentMethod","creditCard","creditcard")})}},
  {key:"displayFormResponse",value:function(a,b,c,g,h,d){f.createAndDisplayResponseBubble(a,b,c,g,h,d,"form");try{var e=a.nmobj.nodcat}catch(m){f.handleError("err_66")}$("#form-response").validate({rules:{firstName:"required",lastName:"required",businessTitle:"required",company:"required",email:{required:!0,email:!0},phone:{required:!0,digits:!0,minlength:10,maxlength:11},password:{required:!0,minlength:5},streetAddress1:"required",city:"required",state:"required",zipcode:"required"},messages:{firstName:{required:"Please enter first name"},
        lastName:{required:"Please enter last name"},businessTitle:{required:"Please enter your business title"},company:{required:"Please enter your company name"},phone:{required:"Please enter phone number",digits:"Please enter valid phone number",minlength:"Phone number should be at least 10 digits",maxlength:"Phone number cannot exceed 11 digits"},email:{required:"Please enter email address",email:"Please enter a valid email address."},streetAddress1:{required:"Please enter your street address"},city:{required:"Please enter your city"},
        state:{required:"Please enter your state"},zipcode:{required:"Please enter your zipcode"}}});$("#failure").on("click",{ncat:e,node:a},H.handleFormNonSubmitButtonClick);$("#form-response").on("submit",{ncat:e,node:a},H.handleFormSubmitButtonClick)}},{key:"displaySurveyResponse",value:function(a,b,c,g,h,d){f.createAndDisplayResponseBubble(a,b,c,g,h,d,"survey");var q=function(){var a=$("#survey-response input")[0];a.addEventListener("invalid",function(a){a.currentTarget.setCustomValidity("Please select at least one option in the choices I have shown")});
      return a}();$(".form-check-input").change(function(){function a(){q.setCustomValidity("");(function(){var a=$("#survey-response :input");try{a.each(function(){$(this).prop("required",!1)})}catch(E){f.handleError("err_63e")}})()}function c(a){var c=l.findNodeObj(e.currentNode);try{var b=c.rs_obj.pr_obj.p_rdo}catch(Q){f.handleError("err_3")}var g=function(){var a=[],c=$("#survey-response :input:not(:checked)");try{c.each(function(){var c={};c[this.name]=this.value;a.push(c)})}catch(K){f.handleError("err_64g")}return a}();
      c=0==$("#survey-response input:checkbox:checked").length?!0:!1;c&&($(a).prop("required",!0),q.setCustomValidity("Please select at least one option in the choices I have shown"));(function(a,c){for(var g,h=0;h<a.length;h++)for(var d in a[h]){g=a[h][d];for(var e=0;e<b.length;e++){var f=b[e][0].da_ddf;f.name==d&&f.value==g&&(f.valueType="",c&&(f.required=!0))}}})(g,c)}try{$(this).is(":checked")?a():c(this)}catch(r){f.handleError("err_64")}});$("#survey-failure").on("click",H.handleSurveyNodeNonSubmitButtonClick);
      $("#survey-response").on("submit",H.handleSurveyNodeSubmitButtonClick)}},{key:"displayInputResponse",value:function(a){var b=a.createResponseBubble({respObject:n.rs_obj,renderObjectType:"respObject",responseDisplayCategory:"input"}),c=a.displayResponseBubble(g,t.responseType),g=a.displayResponseBubble(b,"input");g.setAttribute("style","outline: 0px solid transparent");$(g).addClass("c_answers__placeholder");var h=g.getElementsByTagName("span");$(".c_answers__placeholder span").css({outline:"0px solid transparent"});
      $(".c_answers__placeholder span").css({display:"inline-block"});$(".c_answers__placeholder span").css({"min-width":"70px"});$(".c_answers__placeholder span").attr("contenteditable","true");g.addEventListener("paste",function(a){return!1});var d=function(a){if(g.innerText.length){var c=g.getElementsByTagName("span");c[0].innerText=" ";c[0].setAttribute("contentEditable",!0);g.removeEventListener("keyup",d);a.preventDefault()}};g.addEventListener("keyup",d);g.addEventListener("click",function(a){if(g.innerText.length){var c=
        g.getElementsByTagName("span");c[0].innerText=" ";c[0].setAttribute("contentEditable",!0);g.removeEventListener("keyup",d);a.preventDefault()}});var e=!1;g.addEventListener("keydown",function(a){13===a.keyCode&&(a.preventDefault(),g.innerText.length&&!e&&(e=!0,g.removeAttribute("style"),h=g.getElementsByTagName("span"),g.classList.remove("c_answers__placeholder"),h[0].removeAttribute("style"),h[0].removeAttribute("contentEditable")))});g.addEventListener("keypress",function(a){g.innerText.length>
      n.config.maxCharsResponse&&(c||(c=!0,f.displayNode({messages:[{text:n.config.maxCharsResponseReached}]})),a.preventDefault())})}},{key:"animateResponseBubble",value:function(a,b,c,g){c.call(this,a)}},{key:"moveResponseNotClickedDown",value:function(a){[].slice.call(this.responses.children).forEach(function(b){return b!==a?b.parentNode.removeChild(b):void 0})}},{key:"showErrorPopUp",value:function(a,b){l.unhideClass(".c_error_mdl");$(".c_error_mdl .modal-body p").text(a);$("#cuiErrorModal").modal("show");
      "openNewWindow"==b&&void 0!=window.Chalakh.runtime.thankYouPage&&setTimeout(function(){window.open(window.Chalakh.runtime.thankYouPage,"_top")},k.delayBeforeOpeningClientWindow)}},{key:"showB2BConversionModal",value:function(a){l.unhideClass(".c_b2b_cx_mdl");$(".c_b2b_cx_mdl .modal-body p").text(a);$("#cuiB2BConversionModal").modal("show")}},{key:"showLeadConnectModal",value:function(a){l.unhideClass(".c_lead__connect_mdl");$("#cuiLeadConnectModal").modal("show")}},{key:"makeCarouselItemActiveOrInactive",
    value:function(a,b){return 0==a?b+'<div class="carousel-item active">':b+'<div class="carousel-item">'}},{key:"createCarouselControls",value:function(a,b){a=a+'<a class="carousel-control-prev" href="#'+b+'" role="button" data-slide="prev"><span class="carousel-control-prev-icon"></span></a>';return a=a+'<a class="carousel-control-next" href="#'+b+'" role="button" data-slide="next"> <span class="carousel-control-next-icon"></span></a>'}},{key:"findExitNodeInInterruptMotif",value:function(){var a=B.findExitThemeName();
      a=B.findExitTheme(a);f.findThemeNodes("cso_int",S,a);try{var b=e.currentThemeNodes[k.orderOfFirstNodeInTheme].index;var c=S[b]}catch(g){f.handleError("err_72")}return c}},{key:"exitBot",value:function(a,b){function c(){h=f.findExitNodeInInterruptMotif();try{setTimeout(function(){f.displaySubsequentNodeObjInTheme(h,!1,void 0,"nextNodeInTheme")},k.delayBetweenExitMotifNodesAndMainMotifNodes)}catch(q){f.handleError("err_73")}}function g(){h=f.findExitNodeInInterruptMotif();try{setTimeout(function(){f.displaySubsequentNodeObjInTheme(h,
      !1,void 0,"nextNodeInTheme")},k.delayBetweenExitMotifNodesAndMainMotifNodes)}catch(q){f.handleError("err_73")}}var h;try{a.preventDefault()}catch(q){f.handleError("err_73")}v.sendExitData(e.currentNodeID,e.botVariationMetaObj.botVariationID,"botExit","userGenerated");(function(){for(var a=0;a<e.timeouts.length;a++)clearTimeout(e.timeouts[a]);e.timeouts=[]})();"proactiveExitMode"==e.botState?c():g()}},{key:"gracefulErrorExit",value:function(a,b){f.emptyMessageStream();f.emptyResponseStream();l.hideClass("#header");
      l.hideClass("#subheader");l.hideClass(".c_convrs_strm");C.mediaStop(e.audioMediaObject);C.mediaStop(e.videoMediaObject);C.mediaStop(e.cpatchAudioMediaObject)}},{key:"skipCurrentTheme",value:function(a,b){try{a.preventDefault()}catch(q){f.handleError("err_74")}(function(){for(var a=0;a<e.timeouts.length;a++)clearTimeout(e.timeouts[a]);e.timeouts=[]})();var c=B.findSkipTheme();f.findThemeNodes("cso_int",S,c);try{var g=e.currentThemeNodes[k.orderOfFirstNodeInTheme].index;var h=S[g]}catch(q){f.handleError("err_74")}setTimeout(function(){f.displaySubsequentNodeObjInTheme(h,
      !1,void 0,"nextNodeInTheme")},k.delayBetweenExitMotifNodesAndMainMotifNodes)}},{key:"sendResponseToBackEnd",value:function(a,b){var c=l.doesCampaignNeedsAnswersPosted();var g=$(a).attr("data-probe-id");c&&O.postVisitorData(b);v.sendUserSelectionData(e.currentNodeID,e.botVariationMetaObj.botVariationID,"userSelection",b,g)}},{key:"emptyMessageStream",value:function(){$(".c_msg_strm").empty()}},{key:"emptyResponseStream",value:function(){$(".c_resp_strm").empty()}},{key:"hideChalakhIframe",value:function(){window.parent.postMessage({requestType:"hideFrame",
      requestParam:null},"*")}},{key:"wait",value:function(a,b){for(var c=new Date;new Date-c<=a;);b&&eval(b)}},{key:"adjustCSSVarstoMatchDeviceType",value:function(){function a(){var a=document.documentElement;a.style.setProperty("--font-size","0.9rem");a.style.setProperty("--c_text_msg-font-size","0.7rem");a.style.setProperty("--t10__title-font-size","0.8rem");a.style.setProperty("--t10__subtitle-font-size","0.7rem");a.style.setProperty("--t10_tl-height","21vh");a.style.setProperty("--c_bot_contain-pad-right",
      "0");a.style.setProperty("--c_bot_contain-top","0");a.style.setProperty("--c_bot_contain-position","relative");a.style.setProperty("--c_bot_contain-margin-left","0");a.style.setProperty("--c_bot_contain-max-width","100%");$("#subheader").length?(a.style.setProperty("--hdr-min-height","8vh"),a.style.setProperty("--hdr-max-height","8vh"),a.style.setProperty("--subhdr-min-height","8vh"),a.style.setProperty("--subhdr-padding-top","0rem"),a.style.setProperty("--subhdr-padding-bottom","0rem"),a.style.setProperty("--c_convrs_strm-max-height",
      "84vh"),a.style.setProperty("--c_convrs_strm-min-height","84vh")):(a.style.setProperty("--hdr-min-height","10vh"),a.style.setProperty("--hdr-max-height","10vh"),a.style.setProperty("--c_convrs_strm-max-height","90vh"),a.style.setProperty("--c_convrs_strm-min-height","90vh"));a.style.setProperty("--hdr-min-border-top-right-radius","0px");a.style.setProperty("--hdr-min-border-top-left-radius","0px");a.style.setProperty("--hdr-padding-top","0rem");a.style.setProperty("--hdr-padding-bottom","0rem");a.style.setProperty("--c_ftr-display",
      "none");a.style.setProperty("--icon-width","95%");a.style.setProperty("--icon-font-size","2.5vw");a.style.setProperty("--c_tool__tip-right","20%");a.style.setProperty("--chalakh__icon__svg-width","25vw");a.style.setProperty("--chalakh__icon__tooltip-width","75%");a.style.setProperty("--c_tooltip__fontsize","1.6rem");a.style.setProperty("--mdl-margin-left","0");a.style.setProperty("--mdl-max-width"," 100%");a.style.setProperty("--mdl-width"," 100%");a.style.setProperty("--mdl-top"," 18vh");a.style.setProperty("--mdl-padding-right",
      "0");a.style.setProperty("--er-modal-width"," 50%");a.style.setProperty("--er-modal-position"," absolute");a.style.setProperty("--er-modal-left"," 25%");a.style.setProperty("--er-modal-top"," 20vh");a.style.setProperty("--cx-modal-width"," 100%");a.style.setProperty("--cx-modal-position"," absolute");a.style.setProperty("--cx-modal-left"," 0");a.style.setProperty("--cx-modal-top"," 7vh");a.style.setProperty("--mdl-dialog-margin-right","0");a.style.setProperty("--mdl-dialog-margin-left","0");a.style.setProperty("--mdl-dialog-margin-top",
      " 0");a.style.setProperty("--mdl-dialog-margin-bottom"," 0");a.style.setProperty("--mdl-dialog-max-width"," 100%");a.style.setProperty("--mdl-download-gif-width","40%");a.style.setProperty("--mdl-download-gif-height","10%");a.style.setProperty("--image-modal-carousel-margin-right","0")}function b(){var a=document.documentElement;a.style.setProperty("--font-size","0.9rem");a.style.setProperty("--c_text_msg-font-size","0.8rem");a.style.setProperty("--t10__title-font-size","0.9rem");a.style.setProperty("--t10__subtitle-font-size",
      "0.8rem");a.style.setProperty("--t10_tl-height","19vh");a.style.setProperty("--c_bot_contain-pad-right","3rem");a.style.setProperty("--c_bot_contain-top","10vh");a.style.setProperty("--c_bot_contain-position","relative");a.style.setProperty("--c_bot_contain-margin-left","0");a.style.setProperty("--c_bot_contain-max-width","100%");$("#subheader").length?(a.style.setProperty("--hdr-min-height","5vh"),a.style.setProperty("--hdr-max-height","5vh"),a.style.setProperty("--subhdr-min-height","5vh"),a.style.setProperty("--subhdr-padding-top",
      "0rem"),a.style.setProperty("--subhdr-padding-bottom","0rem"),a.style.setProperty("--c_convrs_strm-max-height","77vh"),a.style.setProperty("--c_convrs_strm-min-height","77vh")):(a.style.setProperty("--hdr-min-height","7vh"),a.style.setProperty("--hdr-max-height","7vh"),a.style.setProperty("--c_convrs_strm-max-height","79vh"),a.style.setProperty("--c_convrs_strm-min-height","79vh"));a.style.setProperty("--hdr-min-border-top-right-radius","15px");a.style.setProperty("--hdr-min-border-top-left-radius",
      "15px");a.style.setProperty("--hdr-padding-top","0rem");a.style.setProperty("--hdr-padding-bottom","0rem");a.style.setProperty("--c_ftr-display","none");a.style.setProperty("--icon-width","95%");a.style.setProperty("--icon-font-size","2.0vw");a.style.setProperty("--chalakh__icon__svg-width","26vw");a.style.setProperty("--c_tool__tip-right","25%");a.style.setProperty("--chalakh__icon__tooltip-width","80%");a.style.setProperty("--c_tooltip__fontsize","1.6rem");a.style.setProperty("--mdl-margin-left",
      "0");a.style.setProperty("--mdl-max-width"," 100%");a.style.setProperty("--mdl-width"," 100%");a.style.setProperty("--mdl-top"," 18vh");a.style.setProperty("--mdl-padding-right","0");a.style.setProperty("--er-modal-width"," 50%");a.style.setProperty("--er-modal-position"," absolute");a.style.setProperty("--er-modal-left"," 25%");a.style.setProperty("--er-modal-top"," 20vh");a.style.setProperty("--cx-modal-width"," 100%");a.style.setProperty("--cx-modal-position"," absolute");a.style.setProperty("--cx-modal-left",
      " 0");a.style.setProperty("--cx-modal-top"," 7vh");a.style.setProperty("--mdl-dialog-margin-right","3rem");a.style.setProperty("--mdl-dialog-margin-left","0.1rem");a.style.setProperty("--mdl-dialog-margin-top"," 0");a.style.setProperty("--mdl-dialog-margin-bottom"," 0");a.style.setProperty("--mdl-dialog-max-width"," 100%");a.style.setProperty("--mdl-download-gif-width","25%");a.style.setProperty("--mdl-download-gif-height","8%");a.style.setProperty("--image-modal-carousel-margin-right","0")}"mobile"==
    e.device?a():"tablet"==e.device&&b()}},{key:"makeChalakhFrameWide",value:function(){window.parent.postMessage({requestType:"wideFrame",requestParam:e.device},"*");f.wait(1E3)}},{key:"makeChalakhFrameNarrow",value:function(){window.parent.postMessage({requestType:"narrowFrame",requestParam:e.device},"*");f.wait(1E3)}},{key:"unhideChalakhIcon",value:function(){$("#chalakhIcon").addClass("chalakhIcon__show")}},{key:"hideChalakhIcon",value:function(){$("#chalakhIcon").removeClass("chalakhIcon__show")}},
  {key:"widenMessageStream",value:function(){$(".c_convrs_strm").css({"max-width":"40%"})}},{key:"unwidenMessageStream",value:function(){$(".c_convrs_strm").css({"max-width":"30%"})}},{key:"showBorderToMessageStream",value:function(a,b){$(".c_msg_strm").addClass("border__to_msg_strm")}},{key:"hideBorderToMessageStream",value:function(a,b){}},{key:"registerBubbleType",value:function(a,b){this.bubbleTypes[a]=b}},{key:"scrollIntoView",value:function(a){var b=k.scrollPeriod,c=$(".c_msg_strm").height(),
      g=$(".c_resp_strm").height(),h=$(".c_convrs_strm").height();a=c+g-h;0<a&&($(".c_convrs_strm").animate({scrollTop:a},b),l.logDebugInfor("scroll height = "+a+"convStreamHeight = "+h+"respStreamHeight = "+g+"msgStreamHeight = "+c))}},{key:"getAbsoluteRect",value:function(a){try{var b=a.getBoundingClientRect();return{x:b.left+window.pageXOffset,y:b.top+window.pageYOffset}}catch(c){f.handleError("err_75")}}},{key:"findThemeNodesNotTaggedAsNever",value:function(a,b,c,g){try{for(var h=0;h<c.length;h++){var d=
      c[h].nmobj.nconth;for(var e=0;e<d.length;e++)if(d[e].th_m==g&&"never"!=c[h].nmobj.dinod){var m=c[h]._nid;var u=d[e].orinth;var k=c[h].nmobj.nodcat;a.push({motif:b,theme:g,_nid:m,index:h,order:u,dinod:!0,nodcat:k})}}}catch(E){f.handleError("err_76")}return a}},{key:"findThemeNodes",value:function(a,b,c){e.currentThemeNodes=[];e.displayedThemeNodes=[];e.currentTheme=c;e.currentMotif=a;e.currentThemeNodes=f.findThemeNodesNotTaggedAsNever(e.currentThemeNodes,a,b,c);(function(){function a(){for(var a=
      !1,b=0;b<e.currentThemeNodes.length;b++)1E3<e.currentThemeNodes[b].order&&(a=!0);if(a)for(b=0;b<e.currentThemeNodes.length;b++)e.currentThemeNodes[b].pseudoOrder=b;else for(b=0;b<e.currentThemeNodes.length;b++)e.currentThemeNodes[b].pseudoOrder=e.currentThemeNodes[b].order}try{a(),e.currentThemeNodes.sort(function(a,b){return parseFloat(a.pseudoOrder)-parseFloat(b.pseudoOrder)})}catch(h){f.handleError("err_77")}})();e.previousNode=null;e.currentNode=k.orderOfFirstNodeInTheme;e.nextNode=f.findForwardNodeIndex(e.currentNode);
      e.afterNextNode=f.findForwardNodeIndex(e.nextNode);e.afterNextNextNode=f.findForwardNodeIndex(e.afterNextNode)}},{key:"findAllThemeNodesInMotif",value:function(a,b,c,g){var h=[];h=f.findThemeNodesNotTaggedAsNever(h,a,b,c);try{if(0!=h.length){h.sort(function(a,b){return parseFloat(a.order)-parseFloat(b.order)});var d=h[0].index;return void 0==d||g?h:b[d]}"cso_con"!=a&&f.logWarning("warn_1");return h}catch(p){f.handleError("err_78")}}},{key:"getCurrentNodeSkipType",value:function(a){try{var b=a.rs_obj.qr_obj.qr_mobj.skty}catch(c){f.handleError("err_78D")}return b}},
  {key:"getCurrentNodeSkipLogic",value:function(a){try{var b=a.rs_obj.qr_obj.qr_mobj.sklog}catch(c){f.handleError("err_78D")}return b}},{key:"getNodeObjectUsingIndexInThemeNodesArray",value:function(a){try{var b=e.currentThemeNodes[a].index;var c=e.currentThemeNodes[a].motif;var g=G[c];return g[b]}catch(h){f.handleError("err_79")}}},{key:"getNodeToDisplay",value:function(a,b){if("previousNodeInTheme"==a){e.currentNode=f.findBackwardNodeIndex(e.currentNode);e.previousNode=f.findBackwardNodeIndex(e.currentNode);
      e.nextNode=f.findForwardNodeIndex(e.currentNode);e.afterNextNode=f.findForwardNodeIndex(e.nextNode);e.afterNextNextNode=f.findForwardNodeIndex(e.afterNextNode);var c=f.getNodeObjectUsingIndexInThemeNodesArray(e.currentNode)}else{c=l.findNodeObj(e.currentNode);switch(f.getCurrentNodeSkipType(c)){case "default":var g=f.getForwardNodeObjForDefaultSkip(c,a,!0);break;case "jump":g=f.getForwardNodeObjForJumpSkip(c,a,!0);break;case "complex":g=f.getForwardNodeObjForComplexSkip(c,b,a,!0);break;default:f.handleError("err_78E")}c=
      g}return c}},{key:"resetForwardNodeOrderPointers",value:function(a,b,c){null==c&&l.logDebugInfor("node order is null - something messed up");e.previousNode=a;e.currentNode=b;switch(c){case "nextNodeInTheme":e.nextNode=f.findForwardNodeIndex(e.currentNode);e.afterNextNode=f.findForwardNodeIndex(e.nextNode);e.afterNextNextNode=f.findForwardNodeIndex(e.afterNextNode);break;case "nodeAfterNextNodeInTheme":e.nextNode=f.findForwardNodeIndex(e.currentNode);e.afterNextNode=f.findForwardNodeIndex(e.nextNode);
      e.afterNextNextNode=f.findForwardNodeIndex(e.afterNextNode);break;case "nodeAfterNextNextNodeInTheme":e.nextNode=f.findForwardNodeIndex(e.currentNode);e.afterNextNode=f.findForwardNodeIndex(e.nextNode);e.afterNextNextNode=f.findForwardNodeIndex(e.afterNextNode);break;case "lastNodeInTheme":e.nextNode=null;e.afterNextNode=null;e.afterNextNextNode=null;break;default:l.logDebugInfor("unknown node order")}}},{key:"findBackwardNodeIndex",value:function(a){function b(a){try{for(;0<=a;a--){if(0>a-1||"searchNode"!=
      e.displayedThemeNodes[a-1].nodcat)return a;e.displayedThemeNodes.pop()}}catch(p){f.handleError("79B")}}function c(a){try{var b=e.displayedThemeNodes[a].index;a=b-1;var c=b+1,g=e.currentThemeNodes[b].order,h=b=void 0;0<=a&&(b=e.currentThemeNodes[a].order);c<=e.currentThemeNodes.length-1&&(h=e.currentThemeNodes[c].order);return g==b||g==h?!0:!1}catch(E){f.handleError("err_79C")}}function g(a){try{for(;0<=a;a--){if(!c(a))return a;e.displayedThemeNodes.pop()}}catch(p){f.handleError("err_79D")}}if(0!=
      a&&null!=a&&void 0!=a)for(a=e.displayedThemeNodes.length-1;0<=a;){var h=a-1;a=l.findNodCategory(h);return"searchNode"==a?(a=b(h),e.displayedThemeNodes[a].index):"contentNode"==a&&c(h)?(a=g(h),a=b(a),e.displayedThemeNodes[a].index):e.displayedThemeNodes[h].index}}},{key:"findForwardNodeIndex",value:function(a){try{if(a==e.currentThemeNodes.length-1||null==a)return null;for(a+=1;a<e.currentThemeNodes.length;a++)if(1==e.currentThemeNodes[a].dinod)return a}catch(b){f.handleError("80A")}return null}},
  {key:"getForwardNodeObjForDefaultSkip",value:function(a,b,c){var g=e.currentNode+1;a=f.getNodeObjectUsingIndexInThemeNodesArray(g);c&&f.resetForwardNodeOrderPointers(e.currentNode,g,b);return a}},{key:"getForwardNodeObjForJumpSkip",value:function(a,b,c){a=f.getCurrentNodeSkipLogic(a)[0].skipTo;var g=f.findIndexInThemeNodesArrayFromOrder(a);a=f.getNodeObjectUsingIndexInThemeNodesArray(g);c&&f.resetForwardNodeOrderPointers(e.currentNode,g,b);return a}},{key:"getForwardNodeObjForComplexSkip",value:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               b,c,g){a=f.getCurrentNodeSkipLogic(a);b=b[0].split("-")[1];for(var h=0;h<a.length;h++)if(a[h].resp==b){var d=a[h].skipTo;d=f.findIndexInThemeNodesArrayFromOrder(d);break}a=f.getNodeObjectUsingIndexInThemeNodesArray(d);g&&f.resetForwardNodeOrderPointers(e.currentNode,d,c);return a}},{key:"findIndexInThemeNodesArrayFromOrder",value:function(a){for(var b,c=0;c<e.currentThemeNodes.length;c++)if(e.currentThemeNodes[c].order==a){b=c;break}return b}},{key:"findCurrentNodeContentDisplayCategory",value:function(){var a;
      try{var b=e.currentNode;var c=e.currentThemeNodes[b].index;var g=e.currentThemeNodes[b].motif;var d=G[g];var q=d[c];return a=q.ms_obj.conobj.conmobj.cdc}catch(p){f.handleError("err_81A")}}},{key:"findNodeTargetAudience",value:function(a){switch(a){case "nextNodeInTheme":var b=e.nextNode;break;case "previousNodeInTheme":b=e.previousNode;break;case "nodeAfterNextNodeInTheme":b=e.afterNextNode;break;case "nodeAfterNextNextNodeInTheme":b=e.afterNextNextNode;break;case "currentNode":b=e.currentNode;break;
      case "lastNodeInTheme":b=e.currentThemeNodes.length-1;break;default:f.handleError("err_82")}null!=b&&void 0!=b||f.handleError("err_82");try{var c=e.currentThemeNodes[b].index;var g=e.currentThemeNodes[b].motif;var d=G[g];return d[c].nmobj.taraud}catch(q){f.handleError("err_83")}}},{key:"getSelectionValue",value:function(a){var b;0==a.length||1<a.length?f.handleError("err_83A"):b=a.shift();try{var c=b.split("-");return c[1]}catch(g){f.handleError("err_83A")}}},{key:"getMessageDisplayTimeInterval",
    value:function(a,b){var c=this.config.delayBetweenMessages;return 0==b?c+this.config.delayBeforeFirstMessage:c}},{key:"suppressContextualNodesInCSO",value:function(a,b){var c,g,d;try{for(c in a)a[c].forEach(function(a,c){g=a.nmobj.taraud;d=g.split(":");d[0]==b&&(a.nmobj.dinod="never")})}catch(q){f.handleError("err_84")}}},{key:"OldsuppressNodesInStartMotif",value:function(a,b){function c(a){return a.order===this}function g(){try{for(var a=0;a<K.length;){E=K[a].order;w=K.filter(c,E);for(var b=0;b<
    w.length;b++)if(d=w[b].index,e=P[d].nmobj.taraud,p=e.split(":"),1==p.length)switch(m=p[0],m){case "all":break;case "anonymous":z!=m&&(P[d].nmobj.dinod="never");break;default:l.logDebugInfor("err_10 "+m)}else switch(m=p[0],u=p[1],m){case "attendee":if(z!=m||r!=u)P[d].nmobj.dinod="never";break;case "sponsor":if(z!=m||r!=u)P[d].nmobj.dinod="never";break;case "anonymous":z!=m&&(P[d].nmobj.dinod="never");break;default:l.logDebugInfor("err_11 "+m)}a+=w.length}}catch(R){f.handleError("err_38")}}var d,e,
      p,m,u,r,E,w;if("anon"==a)var z="anonymous";else"attn"==a?(z="attendee",v.setItem(k.visitorContext,"attendee",k.mediumExpirationPeriod,k.cookiePath),"renew"==b&&(r="renewal")):"spons"==a?(v.setItem(k.visitorContext,"sponsor",k.mediumExpirationPeriod,k.cookiePath),"renew"==b&&(r="renewal")):(z="anonymous",l.logDebugInfor("err_9"));try{for(var Q=0;Q<x.length;Q++){var J=x[Q].c_r_m.cso_sta[0].th_m;var K=f.findAllThemeNodesInMotif("cso_sta",P,J,!0);g()}}catch(A){f.handleError("err_85")}}},{key:"suppressContextualThemesInCSO",
    value:function(a,b){}},{key:"createTextObjFromSentenceObj",value:function(a){var b,c,g,d,q,p=[],m;try{a.forEach(function(a,h){b="";a.fragmentObject.forEach(function(a,h){"parameteric"!=a.fragmentType?1==a.fragments.length?null!=a.fragments[0]&&(b+=a.fragments[0]):(q=l.getRandomMinMax(0,a.fragments.length-1),null!=a.fragments[q]&&(b+=a.fragments[q])):(c=a.fragments[0].split(":"),g=c[0],d=c[1],"currentTheme"==d?d=e.currentTheme:"currentNode"==d&&(d=e.currentNodeID),m=f.createTextObjFromPatches(g,d),
      ""!=b?"undefined"!=m[0][0].da_ddf.text[0]&&(b+=m[0][0].da_ddf.text[0]):p=p.concat(m))});""!=b&&p.push([{da_ddf:{text:[b]}}])})}catch(u){f.handleError("err_86")}return p}},{key:"createTextObjFromPatches",value:function(a,b){var c,g;try{Y.forEach(function(b,g){for(var d in b)d==a&&(c=b[a])})}catch(h){f.handleError("err_87")}try{c.forEach(function(a,c){for(var d in a)a[d]==b&&(g=a)})}catch(h){f.handleError("err_87")}return void 0==g?null:f.createTextObjFromSentenceObj(g.sentenceObject)}}]),d}(),ia=function(){function d(a){return M(this,
  d),this.config=$.extend({},a),this}return N(d,[{key:"parseTextTemplate",value:function(a){return"<span>"+a.text+"</span>"}},{key:"render",value:function(a,b){var c=document.createElement("div");return"respObject"==a?c.classList.add(b.config.responseBubbleClass):c.classList.add(b.config.messageBubbleClass),c.innerHTML=this.parseTextTemplate(this.config),c}}]),d}(),ja=function(){function d(a){return M(this,d),this.config=$.extend({},a),this}return N(d,[{key:"OldparseQRNodeSelectorTemplate",value:function(a){var b,
    c;a=a.qrdo;var g='<div id = "qr-response">';a.forEach(function(a,d){b=a.qr_opty;c=y.getQuickReplyOptionLabels(b);var h=y.getDataNextNode(b);g=g+'<input class="col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 qr-button c_qr_btn btn btn-outline-primary mr-2 mr-sm-2 mr-md-2 mr-lg-3 mr-xl-3 mb-1" type="button" value="'+c+'" data-next-node="'+h+'">'});g+="</div>";return g+="</div>"}},{key:"render",value:function(a,b){var c=this.config.qrdo,g=document.createElement("div");return"respObject"==a?g.classList.add(b.config.responseBubbleClass):
    g.classList.add(b.config.messageBubbleClass),g.innerHTML=y.createQRButtons(c),g}}]),d}(),ka=function(){function d(a){return M(this,d),this.config=$.extend({},a),this}return N(d,[{key:"parseQRImgSelectorTemplate",value:function(a){var b,c,g,d;var e=a.qrdo;var f=0;var m=[];e.forEach(function(a,b){void 0!=a.ntosh&&(m=a.ntosh.split("-"));2==m.length&&(f+=1);m=[]});a=e.slice(0,f);e=e.slice(f,e.length);0!=a.length&&(b='<div class = "c_imgselector__qr mb-2">');a.forEach(function(a,h){c=a.qr_opty;g=y.getQuickReplyOptionLabels(c);
    d=a.ntosh;b=b+'<input class="qr-button c_imgselector_btn mr-2 mr-sm-2 mr-md-2 mr-lg-2 mr-xl-2 mb-2" type="button" value="'+g+'" data-next-node="'+d+'">'});0!=a.length?(b+="</div>",b+='<div id = "qr-response">'):b='<div id = "qr-response">';e.forEach(function(a,d){c=a.qr_opty;g=y.getQuickReplyOptionLabels(c);var h=y.getDataNextNode(c);b=b+'<input class="col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 qr-button c_qr_btn btn btn-outline-primary mr-2 mr-sm-2 mr-md-2 mr-lg-3 mr-xl-3 mb-1" type="button" value="'+
    g+'" data-next-node="'+h+'">'});return b+="</div></div>"}},{key:"render",value:function(a,b){var c=document.createElement("div");return"respObject"==a?c.classList.add(b.config.responseBubbleClass):c.classList.add(b.config.messageBubbleClass),c.innerHTML=this.parseQRImgSelectorTemplate(this.config),c}}]),d}(),la=function(){function d(a){return M(this,d),this.config=$.extend({},a),this}return N(d,[{key:"parseFormTemplate",value:function(a){var b=y.createNodeDisplayTitleAndSubtitle();var c=y.getDataProbeID(a.nodeObj);
    b=y.createForm(a,b+'<form id = "form-response"  data-toggle="validator"  data-probe-id ='+c+">","#form-response");b=y.createFormQR(a,b+'<div class="c_form__qr_contain">');return b+"</div></form>"}},{key:"render",value:function(a,b){var c=document.createElement("div");return"respObject"==a?c.classList.add(b.config.responseBubbleClass):c.classList.add(b.config.messageBubbleClass),c.innerHTML=this.parseFormTemplate(this.config),c}}]),d}(),ma=function(){function d(a){return M(this,d),this.config=$.extend({},
  a),this}return N(d,[{key:"parseSurveyTemplate",value:function(a){var b=y.createNodeDisplayTitleAndSubtitle();var c=y.getDataProbeID(a.nodeObj);b=y.createSurvey(a,b+'<form id = "survey-response"  data-probe-id ='+c+">","#survey-response");b=y.createSurveyQR(a,b+'<div class="c_survey__qr_contain">');return b+"</div></form>"}},{key:"render",value:function(a,b){var c=document.createElement("div");return"respObject"==a?c.classList.add(b.config.responseBubbleClass):c.classList.add(b.config.messageBubbleClass),
    c.innerHTML=this.parseSurveyTemplate(this.config),c}}]),d}(),na=function(){function d(a){return M(this,d),this.config=$.extend({},a),this}return N(d,[{key:"parseRespTileTemplate",value:function(a,b,c){b=a.prdo;var g=a.qrdo,d=y.createNodeDisplayTitleAndSubtitle();a=y.getDataProbeID(a.nodeObj);d=d+'<div id = "tile-response" data-probe-id ='+a+">";switch(c){case "t8":d=this.parseT8Tile(d,b);break;case "t9":f.addPrefilledSelectionsFromPastToVisitorSelection(b);d=b.length>k.maxTilesInT9Group?this.createRespTilesWithCarousel(this,
    b,g,c,k.maxTilesInT9Group,d):d=this.parseT9Tile(d,b,g);break;case "t10":d=this.parseT10Tile(d,b);break;case "t11":d=y.parseT11Tile(d,b);break;default:l.logDebugInfor("err_14 "+c)}return d+"</div>"}},{key:"parseMsgTileTemplate",value:function(a,b,c){a=a.ms_obj.conobj.cdo;switch(c){case "t1":var g=a.length>k.maxTilesInT1Group?this.createMsgTilesWithCarousel(a,c,k.maxTilesInT1Group):this.createMsgTilesWithoutCarousel(a,c);break;case "t2":g=a.length>k.maxTilesInT2Group?this.createMsgTilesWithCarousel(a,
    c,k.maxTilesInT2Group):this.createMsgTilesWithoutCarousel(a,c);break;case "t3":g=a.length>k.maxTilesInT3Group?this.createMsgTilesWithCarousel(a,c,k.maxTilesInT3Group):this.createMsgTilesWithoutCarousel(a,c);break;case "t4":g=this.parseT4Tile(a);break;case "t5":g=this.createMsgTilesWithCarousel(a,c,k.maxTilesInT5Group);break;case "t6":g=a.length>k.maxTilesInT6Group?this.createMsgTilesWithCarousel(a,c,k.maxTilesInT6Group):this.createMsgTilesWithoutCarousel(a,c);break;case "t7":g=a.length>k.maxTilesInT7Group?
    this.createMsgTilesWithCarousel(a,c,k.maxTilesInT7Group):this.createMsgTilesWithoutCarousel(a,c);break;default:l.logDebugInfor("err_14 "+c)}return g}},{key:"createMsgTileGroupsWithCarousel",value:function(a,b,c){var g,d,e=0,p=this;var m=y.createNodeDisplayTitleAndSubtitle();m+='<div class = "c_tls_msg_bdy">';m=m+'<div id="tileCarouselControlID" class="carousel slide carousel-fade" data-interval= "'+k.carouselIntervalPeriod+'"data-pause="hover" data-ride="carousel" data-wrap ="true" data-touch ="true"> ';
    m+='<div class="carousel-inner">';a.forEach(function(a,h){var q=0;g=void 0;for(var u=0;u<a.length;u++){var k=a[u];if(k[1].da_meob.da_disob){d=k[0].da_ddf;0==q&&(k=m,k=f.makeCarouselItemActiveOrInactive(e,k),void 0==g?(g='<div class = "c_tl__group__title col-12 mt-1 mb-1">'+d.tileGroupTitle+"</div> ",k+=g):k+=g,m=k,e+=1,q+=1);k=b;var r=m,J=d,K=q;switch(k){case "t1":r=p.parseT1Tile(r,J);break;case "t2":r=p.parseT2Tile(r,J);break;case "t3":r=p.parseT3Tile(r,J);break;case "t5":r=p.parseT5Tile(r,J);break;
      case "t6":r=p.parseT6Tile(r,J,K);break;case "t7":r=p.parseT7Tile(r,J);break;default:l.logDebugInfor("err_12 "+k)}m=r;q+=1;q==c&&(m+="</div>",q=0)}u==a.length-1&&0!==q&&(m+="</div>")}});m+="</div>";m=f.createCarouselControls(m,"tileCarouselControlID");m+="</div>";return m+="</div>"}},{key:"findTileObjectCategory",value:function(a){a=a[0].da_ddf;if(void 0!=a.tile){a=a.tile[0];var b="tileObject"}else a=a.tileGroupName[0],b="tileGroupName";return{tileObj:a,tileObjType:b}}},{key:"createTileGroupHeaderHTML",
  value:function(a,b){var c=b.tileGroupTitle;void 0!=c&&(a+='<div class = "c_tl__group__title col-12 mt-1 mb-1">'+c+"</div> ");return a}},{key:"createMsgTilesWithCarousel",value:function(a,b,c){var g=0,d=0,e=this,p=!1;var m=y.createNodeDisplayTitleAndSubtitle();m+='<div class = "c_tls_msg_bdy">';m=m+'<div id="tileCarouselControlID" class="carousel slide carousel-fade" data-interval= "'+k.carouselIntervalPeriod+'"data-pause="hover" data-ride="carousel" data-wrap ="true" data-touch ="true"> ';m+='<div class="carousel-inner">';
    var u=!1;a.forEach(function(h,q){if(h[1].da_meob.da_disob){p=!0;var k=h[0].da_ddf;0!=d||u||(m=f.makeCarouselItemActiveOrInactive(g,m),g+=1);var r=m;switch(b){case "t1":r=e.parseT1Tile(r,k);break;case "t2":r=e.parseT2Tile(r,k);break;case "t3":r=e.parseT3Tile(r,k);break;case "t5":r=e.parseT5Tile(r,k);break;case "t6":r=e.parseT6Tile(r,k,d);break;case "t7":r=e.parseT7Tile(r,k);break;default:l.logDebugInfor("err_12 "+b)}m=r;d+=1;d==c&&(m+="</div>",d=0,u=!1)}q==a.length-1&&0!==d&&(m+="</div>")});p||f.showErrorPopUp(k.oopsContentNotFoundMsg);
    m+="</div>";m=f.createCarouselControls(m,"tileCarouselControlID");m+="</div>";return m+="</div>"}},{key:"createMsgTilesWithoutCarousel",value:function(a,b){var c=this,g=!1,d=0;var e=y.createNodeDisplayTitleAndSubtitle();e+='<div class = "c_tls_msg_bdy">';a.forEach(function(a,h){if(a[1].da_meob.da_disob){g=!0;var f=a[0].da_ddf;switch(b){case "t1":e=c.parseT1Tile(e,f);break;case "t2":e=c.parseT2Tile(e,f);break;case "t3":e=c.parseT3Tile(e,f);break;case "t6":e=c.parseT6Tile(e,f,d);break;case "t7":e=c.parseT7Tile(e,
    f)}d+=1}});g||f.showErrorPopUp(k.oopsContentNotFoundMsg);return e+="</div>"}},{key:"parseT1Tile",value:function(a,b){var c,g,d,e;(function(a){c=a.tileHeaderTitle;g=a.tileBodyTitle;d=a.tileFooterTitle;e=a.tileImgSource})(b);a=function(a){void 0!=c&&""!=c&&(a=a+'<div class = "c_tl_hdr__title mt-1 mb-1">'+c+"</div> ");void 0!=g&&""!=g&&(a=a+'<div class = "c_tl_bdy__title mt-1 mb-1">'+g+"</div> ");void 0!=e&&""!=e&&(a=a+'<img class="img-thumbnail c_tl__img__thumbnail" src='+e+' alt="">');void 0!=d&&""!=
  d&&(a=a+'<div class = "c_tl_ftr__title mt-1 mb-1">'+d+"</div> ");return a}(a+'<div class = "c_tl_itms mb-3">');return a+"</div>"}},{key:"parseT2Tile",value:function(a,b){var c,g,d,e,f;(function(a){c=b.tileHeaderTitle;g=b.tileHeaderSubtitle;e=a.tileBodyTitle;d=b.tileBodyContent;f=a.tileFooterTitle})(b);a=function(a){void 0!=c&&""!=c&&(a=a+'<div class = "c_tl_hdr__title mt-1">'+c+"</div> ");void 0!=g&&""!=g&&(a=a+'<div class = "c_tl_hdr__subtitle mt-1 ">'+g+"</div> ");void 0!=e&&""!=e&&(a=a+'<div class = "c_tl_bdy__title mt-3 mb-1 ">'+
    e+"</div> ");void 0!=d&&""!=d&&(a=a+'<div class = "c_tl_bdy__content mt-1 ">'+d+"</div> ");void 0!=f&&""!=f&&(a=a+'<div class = "c_tl_ftr__title mt-4 ">'+f+"</div> ");return a}(a+'<div class = "c_tl_itms col-11 col-sm-11 col-md-11 col-lg-11 col-xl-11 mb-2">');return a+"</div>"}},{key:"parseT3Tile",value:function(a,b){function c(a){void 0!=e&&""!=e&&(a=a+'<img class="img-thumbnail c_tl__img__thumbnail" src='+e+' alt="">');return a}function g(b){void 0!=d&&""!=d&&(b=b+'<div class = "c_tl__group__title col-12 mt-1 mb-1">'+
    d+"</div> ");a+="</div>";return b}var d,e;"tile"==function(a){var b="tile";void 0!=a.tileImgSource&&""!=e&&(e=a.tileImgSource);void 0!=a.tileGroupTitle&&""!=d&&(d=a.tileGroupTitle,b="tileGroupHeader");return b}(b)?(a+='<div class = "c_tl_itms mb-2">',a=c(a),a+="</div>"):a=g(a);return a}},{key:"parseT4Tile",value:function(a){var b,c=[];var g=y.createNodeDisplayTitleAndSubtitle();g+='<div class = "c_tls_msg_bdy">';for(var d=0;d<a.length;d++)a[d].forEach(function(a,d){var e=a[0].da_ddf,f=e.tile[0];e=
    e.bullet;a[1].da_meob.da_disob&&(b=f.tileImgSource,f=g,f+='<div class = "c_tl_itms col-3 col-sm-3 col-md-3 col-lg-3 col-xl-3 mr-1 ml-1 mb-1">',void 0!=b&&""!=b&&(f=f+'<img class="img-thumbnail c_tl__img__thumbnail" src='+b+' alt="">'),g=f+"</div>",c.push(e))});g+="</div>";f.createBulletModal(c);f.addBulletModalEventHandlers();return g}},{key:"parseT5Tile",value:function(a,b){var c,g,d,e,p,m,u,r,l;(function(a){c=a.tileHeaderTitle;g=a.tileBodyTitle;d=a.tileBodySubtitle;e=a.tileLeftHandSideFooterTitle1;
    p=a.tileRightHandSideFooterTitle1;m=a.tileLeftHandSideFooterTitle2;u=a.tileRightHandSideFooterTitle2;r=c;l="listingName"})(b);a=function(a){function b(a,b){b+='<div class = "c_bdy__title_contain mt-2 mb-1">';for(var c=k.revenueIcon,g=k.revenueIcon,d=k.employeesIcon,e=0;e<a.length;e++){var h=a[e];switch(h.attributeType){case "revenue":b+='<p class="attribute-type-value" title="Annual Revenues" data-toggle="tooltip" data-trigger="hover" data-placement="bottom" >';b=b+'<img class="img-thumbnail c_bdy__title__icons pr-2" src='+
    c+' alt="">';b+=h.attributeValue;b+="</p>";break;case "employee":b+='<p class="attribute-type-value" title="Number of Employees" data-toggle="tooltip" data-trigger="hover" data-placement="bottom" >';b=b+'<img class="img-thumbnail c_bdy__title__icons pr-2" src='+d+' alt="">';b+=h.attributeValue;b+="</p>";break;case "founded":b+='<p class="attribute-type-value" title="Year Founded" data-toggle="tooltip" data-trigger="hover" data-placement="bottom" >';b=b+'<img class="img-thumbnail c_bdy__title__icons pr-2" src='+
    g+' alt="">';b+=h.attributeValue;b+="</p>";break;default:f.handleError("err_200")}}return b+"</div>"}a=function(a){a=a+'<p class="short__list_contain pt-1"><img class="img-thumbnail c_short__list__icon pr-2" title="Select Company" data-toggle="tooltip" data-trigger="hover" data-placement="bottom"  src='+k.shortListIcon+' alt="">Bookmark';return a+"</p>"}(a);void 0!=c&&""!=c&&(a=a+'<div class = "c_tl_hdr__title mb-4 pb-2">'+c+"</div> ");void 0!=g&&""!=g&&(a=b(g,a));void 0!=d&&""!=d&&(a=a+'<div class = "c_tl_bdy__subtitle mt-3 mb-4">'+
    d+"</div> ");a=function(a){a+='<div class = "c_tl_ftr_contain mt-2 mb-1">';void 0!=e&&""!=e&&(a=a+'<div class = "c_tl_ftr__lhs__title1 mt-1">'+e+"</div> ");void 0!=p&&""!=p&&(a=a+'<div class = "c_tl_ftr__rhs__title1 mt-1">'+p+"</div> ");a+='</div><div class = "c_tl_ftr_contain mt-2 mb-3">';void 0!=m&&""!=m&&(a=a+'<div class = "c_tl_ftr__lhs__title2 mt-1">'+m+"</div> ");void 0!=u&&""!=u&&(a=a+'<div class = "c_tl_ftr__rhs__title2 mt-1">'+u+"</div> ");return a}(a);return a+"</div>"}(a+'<div class="tile-button c_tl_msg__field  mr-1 ml-1 mb-1"tile-name ="'+
    l+'"tile-value ="'+r+'">');return a+"</div>"}},{key:"parseT6Tile",value:function(a,b,c){var g,d,e,f;(function(a){g=a.tileHeaderTitle;d=a.tileBodyBullets;e=a.tileFooterTitle;f=a.tileImgSource})(b);a=function(a){void 0!=g&&""!=g&&(a=a+'<div class = "c_tl_hdr__title  mb-2 pb-2">'+g+"</div> ");for(var b=0;b<d.length;b++)a=a+'<div class = "c_tl_bdy_bul pb-2 pl-1 pr-1 ml-1 mr-1 mt-1 mb-1">'+d[b]+"</div> ";void 0!=f&&""!=f&&(a=a+'<img class="img-thumbnail c_tl__img__thumbnail" src='+f+' alt="">');void 0!=
  e&&""!=e&&(a=a+'<div class = "c_tl_ftr__title ml-4 mr-4 mt-1 mb-2">'+e+"</div> ");return a}("firstTile"==(0==c%2?"firstTile":"secondTile")?a+'<div class = "c_tl_itms mb-4 first_tl">':a+'<div class = "c_tl_itms mb-4 second_tl">');return a+"</div>"}},{key:"parseT7Tile",value:function(a,b){var c,g,d,e;(function(a){c=a.tileHeaderTitle;g=a.tileHeaderSubtitle;e=a.tileImgSource;d=a.tileFooterTitle})(b);a=function(a){void 0!=c&&""!=c&&(a=a+'<div class = "c_tl_hdr__title mt-1">'+c+"</div> ");void 0!=g&&""!=
  g&&(a=a+'<div class = "c_tl_hdr__title mt-1">'+g+"</div> ");void 0!=e&&""!=e&&(a=a+'<img class="img-thumbnail c_tl__img__thumbnail" src='+e+' alt="">');void 0!=d&&""!=d&&(a=a+'<div class = "c_tl_ftr__title mt-1">'+d+"</div> ");return a}(a+'<div class = "c_tl_itms mb-2">');return a+"</div>"}},{key:"parseT8Tile",value:function(a,b){b.forEach(function(b,g){var c=b[0].da_ddf;if(1==b[1].da_meob.da_disob){var d=c.label;a=a+'<div class="'+(("preFill"==c.valueType?"c_tl__selected":"")+' tile-button c_tl_resp__field mb-3 p-3"data-tile-value ="')+
    c.value+'"data-tile-name ="'+c.name+'">';a=a+"<p>"+d+"</p>";a+="</div>"}});return a}},{key:"parseT9Tile",value:function(a,b,c){a=function(a,b){a.forEach(function(a,c){var g=a[0].da_ddf;if(1==a[1].da_meob.da_disob){var d=g.label;b=b+'<div class="'+(("preFill"==g.valueType?"c_tl__selected":"")+' tile-button c_tl_resp__field mb-2 p-3"data-tile-value ="')+g.value+'"data-tile-name ="'+g.name+'">';b=b+"<p>"+d+"</p>";b+="</div>"}});return b}(b,a);a=function(a,b){var c,g,d;b+='<div id = "qr-response">';a.forEach(function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           e){c=a.qr_opty;g=y.getQuickReplyOptionLabels(c);d=y.getDataNextNode(c);b=b+'<input class="col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 qr-button c_qr_btn btn btn-outline-primary mr-2 mr-sm-2 mr-md-2 mr-lg-3 mr-xl-3 mb-1" type="button" value="'+g+'" data-next-node="'+d+'">'});return b+="</div></div>"}(c,a+'</div><div class="c_tl__qr_contain">');return a+"</div>"}},{key:"OLDparseT11Tile",value:function(a,b){var c=0;b.forEach(function(b,d){var g=b[0].da_ddf;if(1==b[1].da_meob.da_disob){var e=g.label,h=
    g.imgSource,k=g.sublabel,r=g.value,l=g.name;g="preFill"==g.valueType?"c_tl__selected":"";switch(c){case 0:g+=" tile-button c_tl_resp__field  first_tl mb-4 p-1";break;case 1:g+=" tile-button c_tl_resp__field  second_tl mb-4 p-1";break;case 2:g+=" tile-button c_tl_resp__field  third_tl mb-4 p-1";break;case 3:g+=" tile-button c_tl_resp__field  fourth_tl mb-4 p-1";break;default:f.logConversationFlowAlerts("err_21A")}c+=1;a=a+'<div class="'+g+'"data-tile-value ="'+r+'"data-tile-name ="'+l+'">';void 0!=
  e&&(a=a+"<p class = c_tl__title>"+e+"</p>");void 0!=h&&(a=a+'<img class="img-thumbnail c_tl__img__thumbnail" src='+h+' alt="">');void 0!=k&&(a=a+'<p class = "c_tl__subtitle  pb-1" >'+k+"</p>");a+="</div>"}});return a}},{key:"parseT10Tile",value:function(a,b){var c=0;b.forEach(function(b,d){var g=b[0].da_ddf;if(1==b[1].da_meob.da_disob){var e=g.label,h=g.sublabel,k=g.value,r=g.name;g="preFill"==g.valueType?"c_tl__selected":"";switch(c){case 0:g+=" tile-button c_tl_resp__field  first_tl mb-4 p-1";break;
    case 1:g+=" tile-button c_tl_resp__field  second_tl mb-4 p-1";break;case 2:g+=" tile-button c_tl_resp__field  third_tl mb-4 p-1";break;case 3:g+=" tile-button c_tl_resp__field  fourth_tl mb-4 p-1";break;default:f.logConversationFlowAlerts("err_21A")}c+=1;a=a+'<div class="'+g+'"data-tile-value ="'+k+'"data-tile-name ="'+r+'">';a=a+"<p class = c_tl__title>"+e+"</p>";a=a+'<p class = "c_tl__subtitle pt-2 pb-2" >'+h+"</p>";a+="</div>"}});return a}},{key:"createTileQRHTML",value:function(a,b){var c,g,d;
    b+='<div id = "qr-response">';a.forEach(function(a,e){c=a.qr_opty;g=y.getQuickReplyOptionLabels(c);d=y.getDataNextNode(c);b=b+'<input class="col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 qr-button c_qr_btn btn btn-outline-primary mr-2 mr-sm-2 mr-md-2 mr-lg-3 mr-xl-3 mb-1" type="button" value="'+g+'" data-next-node="'+d+'">'});return b+="</div></div>"}},{key:"createRespTilesWithCarousel",value:function(a,b,c,g,d,e){var h=0,q=0;e+='<div class = "c_tls__resp_bdy">';e+='<div id="tileCarouselControlID" class="carousel slide carousel-fade" data-interval="false" data-ride="carousel" data-wrap="true" data-touch ="true"> ';
    e+='<div class="carousel-inner">';var k=!1;b.forEach(function(a,c){var g=a[0].da_ddf;if(a[1].da_meob.da_disob){0!=q||k||(e=f.makeCarouselItemActiveOrInactive(h,e),h+=1,k=!0);var m=e;m=m+'<div class="'+(("preFill"==g.valueType?"c_tl__selected":"")+' tile-button c_tl_resp__field mb-2 p-3"data-tile-value ="')+g.value+'"data-tile-name ="'+g.name+'"><p>'+g.label+"</p>";e=m+"</div>";q+=1;q==d&&(e+="</div>",q=0,k=!1)}c==b.length-1&&0!==q&&(e+="</div>")});e+="</div>";e=f.createCarouselControls(e,"tileCarouselControlID");
    e+="</div>";e+="</div>";e+='<div class="c_tl__qr_contain">';e=a.createTileQRHTML(c,e);return e+="</div>"}},{key:"render",value:function(a,b,c,g){var d=document.createElement("div");switch(a){case "respObject":d.classList.add(b.config.responseBubbleClass);d.innerHTML=this.parseRespTileTemplate(this.config,this.config.prdc,this.config.prdsc);break;case "msgObject":d.classList.add(b.config.messageBubbleClass);d.innerHTML=this.parseMsgTileTemplate(this.config,c,g);break;default:l.logDebugInfor("err_15 "+
    a)}return d}}]),d}(),oa=function(){function d(a){return M(this,d),this.config=$.extend({},a),this}return N(d,[{key:"parseC1Card",value:function(a,b){var c=b.cardFrontHeaderTitle;var g=b.cardFrontBodyContentSummary;var d=b.cardFrontFooterTitle;var e=b.cardFrontFooterSubtitle;a+='<div class = "c_front_cd_itms">';a=function(a){void 0!=c&&""!=c&&(a=a+'<div class = "c_cd_bdy__title mb-4">'+c+"</div> ");return a}(a);g.forEach(function(b,c){void 0!=b&&""!=b&&(a=a+'<div class = "c_cd_bdy__content mt-2">'+
    b+"</div> ")});a=function(a){void 0!=d&&""!=d&&(a=a+'<div class = "c_cd__lhs_ftr1 mt-5">'+d+"</div> ");void 0!=e&&""!=e&&(a=a+'<div class = "c_cd__lhs_ftr2 mt-1">'+e+"</div> ");return a}(a);return a+="</div>"}},{key:"parseC2Card",value:function(a,b){var c=b.cardFrontHeaderTitle;var g=b.cardFrontHeaderSubtitle;var d=b.cardFrontBodyTitle;var e=b.cardFrontBodySubtitle;var f=b.cardFrontBodyContentSummary;var m=b.cardLeftHandSideFooter1;var k=b.cardLeftHandSideFooter2;var r=b.cardRightHandSideFooter1;
    var l=b.cardRightHandSideFooter2;var w=b.cardBackImageColumn1;var z=b.cardBackBodyTitleColumn1;var Q=b.cardBackBodyContentColumn1;var J=b.cardBackImageColumn2;var K=b.cardBackBodyTitleColumn2;var A=b.cardBackBodyContentColumn2;a=function(a){a=function(a){void 0!=c&&""!=c&&(a=a+'<div class="c_cd_hdr__title">'+c+"</div>");void 0!=g&&""!=g&&(a=a+'<div class="c_cd_hdr__subtitle mt-1 mb-1">'+g+"</div>");return a}(a+'<div class="frontside"><div class="card"><div class="card-body text-center c_front_cd_itms">');
      a=function(a){void 0!=d&&""!=d&&(a+="<div class = c_cd_bdy__title__subtitle>",void 0!=d&&""!=d&&(a=a+'<div class="c_cd_bdy__title mt-2 mb-1">'+d+"</div>"),void 0!=e&&""!=e&&(a=a+'<div class="c_cd_bdy__subtitle mb-1">'+e+"</div>"),a+="</div>");return a}(a);a=function(a){void 0!=f&&""!=f&&(a=a+'<p class="c_cd_bdy__content ml-2 mr-2 mt-2 mb-4">'+f+" </p>");return a}(a);a=function(a){a+='<div class="c_lhs__rhs_ftr1__row mt-4">';void 0!=m&&""!=m&&(a=a+'<div class="c_cd__lhs_ftr1 ">'+m+"</div>");void 0!=
      r&&""!=r&&(a=a+'<div class="c_cd__rhs_ftr1">'+r+"</div>");return a+"</div>"}(a+'<button class = "c_flip__front_cd btn mb-2" type="button">Read Bios</button>');a=function(a){a+='<div class="c_lhs__rhs_ftr2__row ">';void 0!=k&&""!=k&&(a=a+'<div class="c_cd__lhs_ftr2">'+k+"</div>");void 0!=l&&""!=l&&(a=a+'<div class="c_cd__rhs_ftr2">'+l+"</div>");return a+"</div>"}(a);return a+"</div></div></div>"}(a+'<div class="card-flip">');a=function(a){function b(a){a=function(a){void 0!=J&&""!=J&&(a=a+'<p><img class="img-fluid c_cd__back_img" src="'+
      J+' " alt="card image"></p>');return a}(a+'<div class="mr-3 c_cd__back__item">');a=function(a){void 0!=K&&""!=K&&(a=a+'<div class="c_cd__back__title">'+K+"</div>");return a}(a);a=function(a){void 0!=A&&""!=A&&(a=a+'<p class="c_cd__back__content">'+A+" </p>");return a}(a);return a+"</div>"}a=function(a){a=function(a){void 0!=w&&""!=w&&(a=a+'<p><img class="img-fluid c_cd__back_img" src="'+w+' " alt="card image"></p>');return a}(a+'<div class="mr-3 c_cd__back__item">');a=function(a){void 0!=z&&""!=z&&
    (a=a+'<div class="c_cd__back__title">'+z+"</div>");return a}(a);a=function(a){void 0!=Q&&""!=Q&&(a=a+'<p class="c_cd__back__content">'+Q+" </p>");return a}(a);return a+"</div>"}(a+'<div class="backside"><div class="card"><div class="card-body text-center c_back_cd_itms">');void 0!=J&&void 0!=K&&void 0!=A&&""!=J&&""!=K&&""!=A&&(a=b(a));return a+'</div><button class = "c_flip__back_cd btn mb-2" type="button">Flip Back</button></div></div>'}(a);return a+"</div>"}},{key:"parseC3Card",value:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        b){var c=b.cardFrontHeaderTitle;var g=b.cardFrontHeaderSubtitle;var d=b.cardFrontBodyTitle;var e=b.cardFrontBodySubtitle;var f=b.cardFrontBodyContentSummary;var m=b.cardFrontBodyContentDetails;var k=b.cardLeftHandSideFooter1;var r=b.cardLeftHandSideFooter2;var l=b.cardRightHandSideFooter1;var w=b.cardRightHandSideFooter2;a=function(a){void 0!=c&&""!=c&&(a=a+'<div class="c_cd_hdr__title">'+c+"</div>");void 0!=g&&""!=g&&(a=a+'<div class="c_cd_hdr__subtitle mt-1 mb-1">'+g+"</div>");return a}(a+'<div class="frontside"><div class="card"><div class="card-body text-center c_front_cd_itms">');
    a=function(a){void 0!=d&&""!=d&&(a+="<div class = c_cd_bdy__title__subtitle>",void 0!=d&&""!=d&&(a=a+'<div class="c_cd_bdy__title mt-2 mb-1">'+d+"</div>"),void 0!=e&&""!=e&&(a=a+'<div class="c_cd_bdy__subtitle mb-1">'+e+"</div>"),a+="</div>");return a}(a);a=function(a){void 0!=f&&""!=f&&(a=a+'<p class="c_cd_bdy__content ml-1 mr-1 mt-1 mb-1">'+f+" </p>");return a}(a);a=function(a){if(void 0!=m){a+="<ul class>";for(var b=0;b<m.length;b++)a+="<li>",a=a+'<div class = "c_cd__details_bul pb-1 pl-1 pr-1 mt-1 mb-1">'+
      m[b]+"</div> ",a+="</li>";a+="</ul>"}return a}(a);a=function(a){a+='<div class="c_lhs__rhs_ftr1__row mt-4">';void 0!=k&&""!=k&&(a=a+'<div class="c_cd__lhs_ftr1 ">'+k+"</div>");void 0!=l&&""!=l&&(a=a+'<div class="c_cd__rhs_ftr1">'+l+"</div>");return a+"</div>"}(a);a=function(a){a+='<div class="c_lhs__rhs_ftr2__row ">';void 0!=r&&""!=r&&(a=a+'<div class="c_cd__lhs_ftr2">'+r+"</div>");void 0!=w&&""!=w&&(a=a+'<div class="c_cd__rhs_ftr2">'+w+"</div>");return a+"</div>"}(a);return a+"</div></div></div>"}},
  {key:"parseC4Card",value:function(a,b){var c=b.cardFrontImageColumn1;var g=b.cardBodyTitle;var d=b.cardBodySubtitle;var e=b.cardBackHeaderTitleColumn1;var f=b.cardBackBodyContentColumn1;a=function(a){a=function(a){return a=a+'<p><img class="img-fluid c_cd__front_img" src="'+c+' " alt="card image"></p>'}(a+'<div class="frontside"><div class="card"><div class="card-body text-center c_front_cd_itms">');a=function(a){void 0!=g&&""!=g&&(a=a+'<div class="c_cd_bdy__title">'+g+"</div>");void 0!=d&&""!=d&&
    (a=a+'<div class="c_cd_bdy__subtitle">'+d+"</div>");return a}(a);return a+'<button class= "c_flip__front_cd btn mb-2" type="button">Read Bios</button></div></div></div>'}(a+'<div class="card-flip">');a=function(a){a=function(a){void 0!=e&&""!=e&&(a=a+'<div class="c_cd_hdr__title">'+e+"</div>");return a}(a+'<div class="backside"><div class="card"><div class="card-body text-center c_back_cd_itms"><div class="c_back_cd__item m3-3">');a=function(a){void 0!=f&&""!=f&&(a=a+'<p class="c_cd_bdy__content">'+
      f+" </p>");return a}(a);return a+'</div></div><button class = "c_flip__back_cd btn mb-2" type="button">Flip Back</button></div></div>'}(a);return a+"</div>"}},{key:"createCarouselCards",value:function(a,b){var c,d,e,q=0,p=this,m=!1;var u=a.ms_obj.conobj.cdo;var r=y.createNodeDisplayTitleAndSubtitle();r+='<div class = "c_cd_msg_bdy">';r+='<div id="cardCarouselControlID" class="carousel slide carousel-fade" data-ride="carousel" data-wrap="true" data-touch ="true"> ';r+='<div class="carousel-inner">';
      u.forEach(function(a,g){c=a[0].da_ddf;d=a[1].da_meob;e=c;if(d.da_disob){m=!0;r=f.makeCarouselItemActiveOrInactive(q,r);q+=1;switch(b){case "c1":r=p.parseC1Card(r,e);break;case "c2":r=p.parseC2Card(r,e);break;case "c3":r=p.parseC3Card(r,e);break;case "c4":r=p.parseC4Card(r,e);break;default:l.logDebugInfor("err_17 "+b)}r+="</div>"}});m||f.showErrorPopUp(k.oopsContentNotFoundMsg);r+="</div>";r=f.createCarouselControls(r,"cardCarouselControlID");r+="</div>";return r+="</div>"}},{key:"createNonCarouselCards",
    value:function(a,b){var c=a.ms_obj.conobj.cdo[0][0].da_ddf;var d=y.createNodeDisplayTitleAndSubtitle();d+='<div class = "c_cd_msg_bdy">';switch(b){case "c1":d=this.parseC1Card(d,c);break;case "c2":d=this.parseC2Card(d,c);break;case "c3":d=this.parseC3Card(d,c);break;case "c4":d=this.parseC4Card(d,c);break;default:l.logDebugInfor("err_18 "+b)}return d+"</div>"}},{key:"render",value:function(a,b,c,d){a=document.createElement("div");a.classList.add(b.config.messageBubbleClass);switch(d){case "c1":a.innerHTML=
      1<this.config.ms_obj.conobj.cdo.length?this.createCarouselCards(this.config,d):this.createNonCarouselCards(this.config,d);break;case "c2":case "c3":case "c4":a.innerHTML=1<this.config.ms_obj.conobj.cdo.length?this.createCarouselCards(this.config,d):this.createNonCarouselCards(this.config,d);break;default:l.logDebugInfor("err_18 "+d)}return a}}]),d}(),pa=function(){function d(a){return M(this,d),this.config=$.extend({},a),this}return N(d,[{key:"parseBulletWithoutHeaderWithPopUp",value:function(a,b){var c,
    d,e,f,k,m,u,r,l;b.forEach(function(b,g){f=b[0].da_ddf;r=b[1].da_meob;1==r.da_disob&&(l=f,m=l.bulletHeader,void 0!=m&&(a=a+'<div class = "c_bul__group_hdr">'+m+"</div> "),k=l.bulletStrings,k.forEach(function(b,g){c=b[0];1==b.length?e=d=" ":2==b.length?(d=b[1],e=" "):(d=b[1],e=b[2]);var f=a;f=f+'<ul class=\'c_bul_contain pt-2 pb-2\'>  <li><div class = "c_bul_itms"><div class = "c_bul__first__column__string">'+c+"</div> ";void 0!=d&&null!=d&&" "!=d&&(f=f+'<div class = "c_bul__second__column__string">'+
    d+"</div> ");void 0!=e&&null!=e&&" "!=e&&(f=f+'<div class = "c_bul__third__column__string">'+e+"</div> ");f+="</div>";u=l.bulletText;void 0!=u&&(f=f+'<div class = "c_bul__text">'+u+"</div> ");a=f+"</li>  </ul>"}))});return a}},{key:"parseBulletWithWithoutHeader",value:function(a,b){var c,d,e,f,k,m,u,r;b.forEach(function(b,g){f=b[0].da_ddf;u=b[1].da_meob;1==u.da_disob&&(r=f,m=r.bulletHeader,void 0!=m&&(a=a+'<div class = "c_bul__group_hdr">'+m+"</div> "),k=r.bulletStrings,k.forEach(function(b,g){c=
    b[0];1==b.length?e=d=" ":2==b.length?(d=b[1],e=" "):(d=b[1],e=b[2]);var f=a;f=f+'<ul class=\'c_bul_contain pt-2 pb-2\'>  <li><div class = "c_bul_itms"><div class = "c_bul__first__column__string">'+c+"</div> ";void 0!=d&&null!=d&&" "!=d&&(f=f+'<div class = "c_bul__second__column__string">'+d+"</div> ");void 0!=e&&null!=e&&" "!=e&&(f=f+'<div class = "c_bul__third__column__string">'+e+"</div> ");a=f+"</div></li>  </ul>"}))});return a}},{key:"parseCarouselBullet",value:function(a,b){var c=0,d=0,e=this,
    q=!1;var p=y.createNodeDisplayTitleAndSubtitle();p+='<div class = "c_bul_msg_bdy">';p+='<div id="bulletCarouselControlID" class="carousel slide carousel-fade" data-ride="carousel" data-wrap="true" data-touch ="true"> ';p+='<div class="carousel-inner">';a.forEach(function(a,g){var h=[a];if(a[1].da_meob.da_disob)switch(q=!0,c>=k.maxBulletsInGroup-1&&(c=0,d+=1,p+="</div>"),0==c&&(p=f.makeCarouselItemActiveOrInactive(d,p)),c="bwih"==b?c+(0==a[0].da_ddf.bulletStrings.length?1:a[0].da_ddf.bulletStrings.length):
    c+1,b){case "bwoh-l":case "bwoh":p=e.parseBulletWithWithoutHeader(p,h);break;case "bwoh-p":p=e.parseBulletWithoutHeaderWithPopUp(p,h);break;case "bwih":p=e.parseBulletWithWithoutHeader(p,h);break;default:l.logDebugInfor("err_17 "+b)}});p+="</div>";q||f.showErrorPopUp(k.oopsContentNotFoundMsg);p+="</div>";p=f.createCarouselControls(p,"bulletCarouselControlID");p+="</div>";return p+="</div>"}},{key:"parseNonCarouselBullet",value:function(a,b){var c=y.createNodeDisplayTitleAndSubtitle();c+='<div class = "c_bul_msg_bdy">';
    c="bwoh-p"==b?this.parseBulletWithoutHeaderWithPopUp(c,a):this.parseBulletWithWithoutHeader(c,a);return c+"</div>"}},{key:"render",value:function(a,b,c,d){a=document.createElement("div");var g=this.config.ms_obj.conobj.cdo;a.classList.add(b.config.messageBubbleClass);switch(d){case "bwoh-l":case "bwoh-p":case "bwoh":a.innerHTML=this.config.ms_obj.conobj.cdo.length>k.maxBulletsInGroup?this.parseCarouselBullet(g,d):this.parseNonCarouselBullet(g,d);a.innerHTML+="</div>";break;case "bwih":g=this.config.ms_obj.conobj.cdo;
    for(c=b=0;c<g.length;c++)b+=g[c][0].da_ddf.bulletStrings.length;a.innerHTML=b>k.maxBulletsInGroup?this.parseCarouselBullet(g,d):this.parseNonCarouselBullet(g);a.innerHTML+="</div>";break;default:l.logDebugInfor("err_16 "+c)}return a}}]),d}(),qa=function(){function d(a){return M(this,d),this.config=a,this}return N(d,[{key:"parseAudioVideoFullScreenTemplate",value:function(a){var b,c,d,e,q,p,m,u,r,E=0,w=!1;var z=y.createNodeDisplayTitleAndSubtitle();z+='<div id = "c_media_contain" class="mt-2">';1<
  a.length&&(z+='<div id="mediaCarouselControlID" class="carousel slide carousel-fade" data-ride="carousel" data-wrap="true" data-touch ="true">',z+='<div class="carousel-inner">');a.forEach(function(a,g){var h=a[0].da_ddf;if(a[1].da_meob.da_disob){w=!0;b=h.mediaType;c=h.mediaTitle;d=h.mediaSubtitle;e=h.mediaLeftHandSideFooter1;q=h.mediaLeftHandSideFooter2;p=h.mediaRightHandSideFooter1;m=h.mediaRightHandSideFooter2;u=h.mediaCallToAction;r=h.mediaSource;z=f.makeCarouselItemActiveOrInactive(E,z);E+=1;
    if("audio"==b)z+='<div class="col-12 mb-2 c_audio__descriptor" >';else if("video"==b)z+='<div class="col-12 mb-2 c_video__descriptor" >';else{l.logDebugInfor("unknown media type in AV bubble");return}h=z+="<a>";void 0!=c&&(h=h+'<div class="c_media__title mt-2">'+c+"</div>");void 0!=d&&(h=h+'<div class="c_media__subtitle mt-2 mb-4">'+d+"</div>");h=z=h;h=h+'<div class="c_media__call__to__action mt-4 mb-5 mr-4"> <button type="button"  class="btn btn-primary " >'+u+"</button>";h=z=h+"</div>";h+='<div class="c_lhs__rhs_ftr1__row pt-2 mt-4">';
    void 0!=e&&(h=h+'<div class="c_lhs_ftr1 ">'+e+"</div>");void 0!=p&&(h=h+'<div class="c_rhs_ftr1">'+p+"</div>");h=z=h+"</div>";h+='<div class="c_lhs__rhs_ftr2__row ">';void 0!=q&&(h=h+'<div class="c_lhs_ftr2">'+q+"</div>");void 0!=m&&(h=h+'<div class="c_rhs_ftr2">'+m+"</div>");z=h+"</div>";"audio"==b?(h=z,z=h=h+'<audio class="c_audio__media__object" preload=\'auto\'> <source class="c_audio__media__file" src='+r+"> </audio>"):(h=z,z=h=h+'<video class="c_video__media__object" preload=\'auto\'> <source class="c_video__media__file" src='+
      r+"> </video>");z+="</a>";z+="</div>";z+="</div>"}});w||f.showErrorPopUp(k.oopsContentNotFoundMsg);1<a.length&&(z+="</div>",z+='<a class="carousel-control-prev" href="#mediaCarouselControlID" role="button" data-slide="prev"><span class="carousel-control-prev-icon"></span></a><a class="carousel-control-next" href="#mediaCarouselControlID" role="button" data-slide="next"><span class="carousel-control-next-icon"></span></a>',z+="</div>");return z+="</div>"}},{key:"parseAudioVideoThumbnailTemplate",value:function(a){var b,
    c,d,e,q,p,m,u,r,E=!1;var w=y.createNodeDisplayTitleAndSubtitle();w+='<div id = "c_media_contain" class="mt-2">';a.forEach(function(a,g){var f=a[0].da_ddf;if(a[1].da_meob.da_disob){E=!0;b=f.mediaType;c=f.mediaTitle;d=f.mediaSubtitle;e=f.mediaLeftHandSideFooter1;q=f.mediaLeftHandSideFooter2;p=f.mediaRightHandSideFooter1;m=f.mediaRightHandSideFooter2;u=f.mediaCallToAction;r=f.mediaMediaSource;if("audio"==b)w+='<div class="col-6 mb-2 c_audio__descriptor" >';else if("video"==b)w+='<div class="col-6 mb-2 c_video__descriptor" >';
  else{l.logDebugInfor("unknown media type in ASV bubble");return}f=w+="<a>";void 0!=c&&(f=f+'<div class="c_media__title">'+c+"</div>");void 0!=d&&(f=f+'<div class="c_media__subtitle mt-1 mb-1">'+d+"</div>");f=w=f;f=f+'<div class="c_media__call__to__action mt-4"> <button type="button"  class="btn btn-primary " >'+u+"</button>";f=w=f+"</div>";f+='<div class="c_lhs__rhs_ftr1__row mt-4">';void 0!=e&&(f=f+'<div class="c_lhs_ftr1 ">'+e+"</div>");void 0!=p&&(f=f+'<div class="c_rhs_ftr1">'+p+"</div>");f=w=
    f+"</div>";f+='<div class="c_lhs__rhs_ftr2__row ">';void 0!=q&&(f=f+'<div class="c_lhs_ftr2">'+q+"</div>");void 0!=m&&(f=f+'<div class="c_rhs_ftr2">'+m+"</div>");w=f+"</div>";"audio"==b?(f=w,w=f=f+'<audio class="c_audio__media__object" preload=\'auto\'> <source class="c_audio__media__file" src='+r+"> </audio>"):(f=w,w=f=f+'<video class="c_video__media__object" preload=\'auto\'> <source class="c_video__media__file" src='+videoMediaSource+"> </video>");w+="</a>";w+="</div>"}});E||f.showErrorPopUp(k.oopsContentNotFoundMsg);
    return w+="</div>"}},{key:"render",value:function(a,b,c,d){a=document.createElement("div");a.classList.add(b.config.messageBubbleClass);switch(d){case "th":a.innerHTML=this.parseAudioVideoThumbnailTemplate(this.config);break;case "fs":a.innerHTML=this.parseAudioVideoFullScreenTemplate(this.config);break;default:l.logDebugInfor("err_16 "+d)}return a}}]),d}(),ra=function(){function d(a){return M(this,d),this.config=$.extend({},a),this}return N(d,[{key:"parsePaymentAmount",value:function(a){function b(a){a.forEach(function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  b){var c=a[0].da_ddf;1==a[1].da_meob.da_disob&&(f=c.donationChoices,p=k.donationPaymentTypeOption,r=k.otherDonationAmount,u=k.includePayCCProcessingCharge)})}function c(a,b){var c,d;a.forEach(function(a,e){var g=a.qr_opty;if("submit"==g){c=1;d="success";var f="submit"}else c=0,d="failure",f="button";var h="submit"==f?"nextNodeInTheme":"previousNodeInTheme";g=y.getQuickReplyOptionLabels(g);b+='<div class="c_form__qr_btn_contain">';b=b+'<input type = "'+f+'" id = "'+d+'" class="form-button form-control c_form__qr_btn btn btn-outline-primary" value="'+
    g+'" data-success="'+c+'" data-next-node="'+h+'">';b+="</div>"});return b}function d(a,c){b(a);c=function(a,b){b+='<div id="c_pmt__type_contain">';for(var c=0;c<a.length;c++){var d=a[c].value;var e=a[c].name;var g=a[c].label;var f=a[c].required;var h="preFill"==a[c].valueType?"c_pmt__type__selected":"";h+=" payment-type-button c_pmt_resp__field m-2 p-2";b=f?b+'<div class="'+h+'"data-value ="'+d+'"data-name ="'+e+'" required >':b+'<div class="'+h+'"data-value ="'+d+'"data-name ="'+e+'">';b=b+"<p>"+
    g+"</p>";b+="</div>"}return b+"</div>"}(p,c);c=function(a,b){b+='<div id="c_pmt__amount_contain" class="mt-2">';for(var c=0;c<a.length;c++){var d=a[c].value;var e="Other"!=a[c].label?"$"+a[c].label:a[c].label;m=a[c].name;var g=a[c].valueType;g="preFill"==g?"c_pmt__amount__selected":"";g+=" payment-amount-button c_pmt_resp__field";b=b+'<div class="'+g+'"data-value ="'+d+'"data-name ="'+m+'">';b=b+"<p>"+e+"</p>";b+="</div>"}return b+"</div>"}(f,c+'<div class="break"></div>');c=function(a,b){var c=a.label,
    d=a.name;b="preFill"==a.valueType?b+'<div id="c_pmt__other__choice_contain" class="mt-3">':b+'<div id="c_pmt__other__choice_contain" class = "hide__class mt-3" >';return b=b+'<label for="'+d+'" >'+c+'</label><input class="mr-2 mr-sm-2 mr-md-2 mr-lg-3 mr-xl-3 mb-2 form-control c_form__input__field" type="text" value="" name="'+d+'" ></div>'}(r,c);c=function(a,b){var c=a.name;var d=a.label;var e=a.value;var g=a.valueType;b+='<div id="c_pmt__include__processing_contain">';return b=("preFill"==g?b+'<input class="form-check-input" type="checkbox" value="'+
    e+'" name="'+c+'"id="'+e+'"checked  >':b+'<input class="form-check-input" type="checkbox" value="'+e+'" name="'+c+'"id="'+e+'">')+'<label for="'+e+'">'+d+"</label></div>"}(u,c);return c+"</div>"}function e(a){var b={};var c={};var d=[];a=a[0][0].da_ddf.mediaOfferings;b.da_disob=!0;b.da_obseg=[];c.da_meob=b;for(var e=0;e<a.length;e++){b={};b.da_ddf=a[e];var g=[];g.push(b);g.push(c);d.push(g)}return d}var f,p,m,u,r;var l=y.getDataProbeID(a.nodeObj);var w=a.prdo;var z=a.qrdo;var v=function(a){a=a[0][0].da_ddf;
    if(void 0!=a.donationChoices)return"forNonProfit";if(void 0!=a.mediaOfferings)return"forMedia"}(w);var x=y.createNodeDisplayTitleAndSubtitle();"forNonProfit"==v?(x=d(w,x+'<form id = "payment-pa-bi-pp"  data-toggle="validator"  data-probe-id ='+l+">"),x=c(z,x+'</div><div class="c_pa__qr_contain">')):(w=e(w),a.prdo=w,x=y.parseT11Tile(x+'<form id = "payment-pa-bi-pp"  data-toggle="validator"  data-probe-id ='+l+">",w));return x+"</div>"}},{key:"parseBillingInformation",value:function(a){var b=y.createNodeDisplayName("Enter Your Billing Information");
    var c=y.getDataProbeID(a.nodeObj);b=y.createForm(a,b+'<form id = "payment-pa-bi-pp"  data-toggle="validator"  data-probe-id ='+c+">","#payment-pa-bi-pp");b=y.createFormQR(a,b+'<div class="c_bi__qr_contain">');return b+"</div></form>"}},{key:"parsePaymentProcessing",value:function(a){var b=y.createNodeDisplayName("Enter Credit Card Information");var c=y.getDataProbeID(a.nodeObj);b=y.createForm(a,b+'<form id = "payment-pa-bi-pp"  data-toggle="validator"  data-probe-id ='+c+">","#payment-pa-bi-pp");
    b=y.createFormQR(a,b+'<div class="c_pp__qr_contain">');return b+"</div></form>"}},{key:"parsePaymentMethod",value:function(a){function b(a,b){b=b+'<div class = "c_wallet_pmt__divider mb-1"><hr><div class = "divider_label">'+a+"</div><hr>";return b+="</div>"}function c(a,b){a=a+'<div id= "c_website_pmt_contain" class= "mb-1 mt-1"><div class=" website-payment-button  m-2 p-2" data-value="'+b+'" data-name="paymentMethod"><p>Website Payment Page</p></div>';return a+="</div>"}function d(a,b){a+='<div id= "c_digital__wallet_contain" class= "mb-2 mt-2">';
    for(var c=0;c<b.length;c++){var d=b[c];if("PayPal"==d){var e="paypal";a=a+'<div class="wallet-button  m-2 p-1" data-value="'+e+'" data-name= "paymentMethod">';a+='<div id="paypal-button"></div>'}else"Visa Checkout"==d?(e="visa",d="https://chalakh-bot-js.s3.us-east-2.amazonaws.com/images/visa-checkout-logo.jpg",a=a+'<div class="wallet-button  m-2 p-1" data-value="'+e+'" data-name= "paymentMethod">',a+='<div id="visa-button">',a=a+'<img class="img-thumbnail img-fluid" src= "'+d+'" alt="">',a+="</div>"):
      "Master Card Checkout"==d&&(e="mastercard",a=a+'<div class="wallet-button  m-2 p-1" data-value="'+e+'" data-name= "paymentMethod">',a+='<div id="masterpass-button">',d="https://masterpass.com/dyn/img/btn/global/mp_chk_btn_126x030px.svg",a=a+'<img class="img-thumbnail img-fluid" src= "'+d+'" alt="">',a+="</div>");a+="</div>"}return a+"</div>"}y.getDataProbeID(a.nodeObj);var e=a.prdo[0][0].da_ddf;var f=e.digitalWalletsAccepted,k=e.websitePaymentPage,m=e.paymentDisclaimer;e=y.createNodeDisplayName("Select Payment Method");
    e+='<div id="c_pmt__method_contain">';void 0!=k&&(e=c(e+'<div class="break"></div>',k));e=void 0!=k?b("or with your Digial Wallet",e):b("with your Digial Wallet",e);0!=f.length&&(e=d(e,f));e=b("or with your Credit Card",e);e=function(a){return a+'<div id= "c_credit_cd_contain" class= "mb-2 mt-2"><div class=" credit-card-payment-button m-2 p-2" data-value="creditCardPayment" data-name="paymentMethod"><p>Pay With Credit Card</p></div>'}(e);e=y.createFormQR(a,e+'</div><div class="break"></div><div class="c_bi__qr_contain">');
    return e=function(a,b){return a+'<div class= "c_pmt_disclaimer_contain pl-1 pr-1 pt-2 mt-2"><p>'+b+"</p></div>"}(e+"</div>",m)}},{key:"render",value:function(a,b){var c=document.createElement("div");c.classList.add(b.config.responseBubbleClass);var d=this.config.prdsc;switch(d){case "pa":c.innerHTML=this.parsePaymentAmount(this.config);break;case "pp":c.innerHTML=this.parsePaymentProcessing(this.config);break;case "pm":c.innerHTML=this.parsePaymentMethod(this.config);break;case "bi":c.innerHTML=this.parseBillingInformation(this.config);
    break;default:l.logDebugInfor("err_16 "+d)}return c}}]),d}(),sa=function(){function d(a){return M(this,d),this.config=a,this}return N(d,[{key:"createImageThWithSingleCategorySingleGroup",value:function(a){var b=[],c=!1;var d=y.createNodeDisplayTitleAndSubtitle();d+='<div class = "c_img__thumbnail_contain mr-1 ">';a.forEach(function(a,e){var g=a[0].da_ddf;if(a[1].da_meob.da_disob){c=!0;b.push(g);var f=d,h=g.imgCaption;f=f+'<div class="mb-2 col-3 col-sm-2 col-md-2 col-lg-2 col-xl-2 c_img__thumbnail" ><div class ="img-thumbnail img-fluid c_thumbnail__descriptor"><img class="d-block w-100" src="'+
    g.imgSrc+'" alt="First slide"></div>';if(null!=h||void 0!=h)f=f+'<div class = "c_img__caption">'+h+"</div> ";d=f+"</div>"}});c||f.showErrorPopUp(k.oopsContentNotFoundMsg);D.createImageModal(b);return d+="</div>"}},{key:"createImageThWithSingleCategoryMultipleGroups",value:function(a,b,c){function d(a){a=E.concat("-",a.toString(),b.toString());e.imgGroups.push(a);return a}var h=!1,q=[],p=!1,m=0,l=1;this.removeImgGroupSelectorButton(c);this.removeImgGroupNamesFromCDO(c);e.imgGroupCountPerCategory=[];
    var r=y.createNodeDisplayTitleAndSubtitle();var E=k.imgThumbnailGroupClassName;r+='<div class = "c_img__thumbnail_contain mr-1 ">';var w=k.maxImgsInThumbnailGroup;var z=d(l);a.forEach(function(a,c){var e=a[0].da_ddf;if(a[1].da_meob.da_disob){p=!0;m+=1;if(m>w){var g=l;w+=k.maxImgsInThumbnailGroup;h=!0;l=g+1;z=d(l)}g=z;e.imgThumbnailGroupClassName=g;e.groupName=g;e.imgGroupTitle=void 0;g=r;var f=z,u=e.imgSrc,U=e.imgCaption;h||0!=b?g=g+'<div class="mt-1 mb-2 col-3 col-sm-2 col-md-2 col-lg-2 col-xl-2 c_img__thumbnail hide__class '+
      f+'" >':(q.push(e),g=g+'<div class="mb-2 col-3 col-sm-2 col-md-2 col-lg-2 col-xl-2 c_img__thumbnail '+f+'" >');g=g+'<img class="img-thumbnail img-fluid" src= "'+u+'" alt="">';if(null!=U||void 0!=U)g=g+'<div class = "c_img__caption">'+U+"</div> ";r=g+"</div>"}});p||f.showErrorPopUp(k.oopsContentNotFoundMsg);this.recordImgGroupCountForCategory(b,l);1<l&&this.addImgGroupSelectorButton(c);D.createImageModal(q);return r+="</div>"}},{key:"OldcreateImageThWithMultipleCategories",value:function(a,b,c){var d,
    f=[];this.removeImgGroupSelectorButton(nodeObj);this.removeImgGroupNamesFromCDO(nodeObj);e.imgGroupCountPerCategory=[];var k=y.createNodeDisplayTitleAndSubtitle();k+='<div class = "c_img__thumbnail_contain mr-1 ">';a.forEach(function(a,c){d=b.createImageThForCategory([a],c,k,f);k=d.innerHTML;f=d.imgObjArrayForModal});this.addImgGroupSelectorButton(c);D.createImageModal(f);return k+="</div>"}},{key:"OldcreateImageThForCategory",value:function(a,b,c,d){function g(a){a=r.concat("-",a.toString(),b.toString());
    e.imgGroups.push(a);return a}var f=!1,p=0,m=1;var l=c;var r=k.imgThumbnailGroupClassName;var E=k.maxImgsInThumbnailGroup;var w=g(m);a.forEach(function(a,c){var e=a[0].da_ddf;if(a[1].da_meob.da_disob){p+=1;if(p>E){var h=m;E+=k.maxImgsInThumbnailGroup;f=!0;m=h+1;w=g(m)}h=w;e.imgThumbnailGroupClassName=h;e.groupName=h;e.imgGroupTitle=void 0;h=l;var q=w,r=e.imgSrc,u=e.imgCaption;f||0!=b?h=h+'<div class="mt-1 mb-2 col-3 col-sm-2 col-md-2 col-lg-2 col-xl-2 c_img__thumbnail hide__class '+q+'" >':(d.push(e),
    h=h+'<div class="mb-2 col-3 col-sm-2 col-md-2 col-lg-2 col-xl-2 c_img__thumbnail '+q+'" >');h=h+'<img class="img-thumbnail img-fluid" src= "'+r+'" alt="">';if(null!=u||void 0!=u||null!=u)h=h+'<div class = "c_img__caption">'+u+"</div> ";l=h+"</div>"}});this.recordImgGroupCountForCategory(b,m);return{innerHTML:l,imgObjArrayForModal:d}}},{key:"recordImgGroupCountForCategory",value:function(a,b){e.imgGroupCountPerCategory.push({categoryID:a,imgGroupCount:b})}},{key:"checkIfImgGroupSelectorButtonsNotAdded",
  value:function(){if(0!=e.imgThumbnailNodeList.length)for(var a=0;a<e.imgThumbnailNodeList.length;a++)if(e.imgThumbnailNodeList[a].nodeID==e.currentNodeID)return!1;e.imgThumbnailNodeList.push({nodeID:e.currentNodeID});return!0}},{key:"addImgGroupSelectorButton",value:function(a){var b,c=1,d=a.rs_obj.qr_obj.qr_dobj;e.imgGroupCountPerCategory.forEach(function(a,b){c+=a.imgGroupCount});for(var f=e.imgGroupCountPerCategory.length-1;0<=f;f--){a=e.imgGroupCountPerCategory[f].categoryID;for(var q=b=e.imgGroupCountPerCategory[f].imgGroupCount;1<=
  q;q--)b={},--c,b.qr_opty=c.toString(),b.fillerObjectCategoryToShow="",b.fillerObjectSubcategoryToShow="",b.ntosh=k.imgThumbnailGroupClassName.concat("-",q,a),b.parlab=!1,d.splice(0,0,b)}}},{key:"removeImgGroupSelectorButton",value:function(a){a=a.rs_obj.qr_obj.qr_dobj;for(var b=a.length-1;0<=b;b--){var c=a[b].qr_opty;"1"!=c&&"2"!=c&&"3"!=c&&"4"!=c&&"5"!=c||a.splice(b,1)}}},{key:"removeImgGroupNamesFromCDO",value:function(a){a.ms_obj.conobj.cdo.forEach(function(a,c){var b=a[0].da_ddf;void 0!=b.groupName&&
  delete b.groupName;void 0!=b.imgThumbnailGroupClassName&&delete b.imgThumbnailGroupClassName})}},{key:"render",value:function(a,b,c,d,e){a=document.createElement("div");a.classList.add(b.config.messageBubbleClass);b=this.config;a.innerHTML=b.length>k.maxImgsInThumbnailGroup?this.createImageThWithSingleCategoryMultipleGroups(b,0,e):this.createImageThWithSingleCategorySingleGroup(b,0,e);return a}}]),d}(),ta=function(){function d(a){return M(this,d),this.config=a,this}return N(d,[{key:"parseDocWithCarousel",
  value:function(a){var b,c,d,e,q,p,m,l,r,E,w,z,v,x=0,B=!1;var A=y.createNodeDisplayTitleAndSubtitle();A+='<div id = "c_doc__media_contain" class="mt-2">';A+='<div id="docCarouselControlID" class="carousel slide carousel-fade" data-ride="carousel" data-wrap="true" data-touch ="true">';A+='<div class="carousel-inner">';a.forEach(function(a,g){var h=a[0].da_ddf;if(a[1].da_meob.da_disob){B=!0;b=h.docTitle;c=h.docSubtitle;d=h.docSummary;e=h.docDetails;q=h.docMediaTitle1;p=h.docMediaSource1;m=h.docMediaTitle2;
    l=h.docMediaSource2;r=h.docMediaTitle3;E=h.docMediaSource3;w=h.docMediaTitle4;z=h.docMediaSource4;v=h.docCallToAction;A=f.makeCarouselItemActiveOrInactive(x,A);x+=1;h=A+='<div class="col-12 mb-2 c_doc__descriptor" >';void 0!=b&&(h=h+'<div class="c_doc__title  mb-1">'+b+"</div>");void 0!=c&&(h=h+'<div class="c_doc__subtitle  mb-1">'+c+"</div>");h=A=h;void 0!=d&&(h=h+'<div class="c_description__text mt-1 mb-1">'+d+"</div>");h=A=h;if(void 0!=e){h+="<ul class>";for(var k=0;k<e.length;k++)h+="<li>",h=
      h+'<div class = "c_doc__details_bul pb-2 pl-1 pr-1 ml-1 mr-1 mt-1 mb-1">'+e[k]+"</div> ",h+="</li>";h+="</ul>"}A=h;A+='<div id = "c_docs_contain" class="mt-2">';void 0!=q&&""!=q&&(h=A,h=h+'<div class="c_doc_contain mt-1 ml-2 mb-1 mr-2"><div class="c_doc__src__title ">'+q+"</div>",void 0!=p&&""!=p&&(h=h+' <button type="button"  class="btn btn-primary" data-doc-src = '+p+" >"+v+"</button>"),A=h+"</div>");void 0!=m&&""!=m&&(h=A,h=h+'<div class="c_doc_contain mt-1 ml-2 mb-1 mr-2"><div class="c_doc__src__title">'+
      m+"</div>",void 0!=l&&""!=l&&(h=h+' <button type="button"  class="btn btn-primary" data-doc-src = '+l+" >"+v+"</button>"),A=h+"</div>");void 0!=r&&""!=r&&(h=A,h=h+'<div class="c_doc_contain mt-1 ml-2 mb-1 mr-2"><div class="c_doc__src__title">'+r+"</div>",void 0!=E&&""!=E&&(h=h+' <button type="button"  class="btn btn-primary" data-doc-src = '+E+" >"+v+"</button>"),A=h+"</div>");void 0!=w&&""!=w&&(h=A,h=h+'<div class="c_doc_contain mt-1 ml-2 mb-1 mr-2"><div class="c_doc__src__title">'+w+"</div>",void 0!=
    z&&""!=z&&(h=h+' <button type="button"  class="btn btn-primary" data-doc-src = '+z+" >"+v+"</button>"),A=h+"</div>");A+="</div>";A+="</div>";A+="</div>"}});B||f.showErrorPopUp(k.oopsContentNotFoundMsg);A+="</div>";A+='<a class="carousel-control-prev" href="#docCarouselControlID" role="button" data-slide="prev"><span class="carousel-control-prev-icon"></span></a><a class="carousel-control-next" href="#docCarouselControlID" role="button" data-slide="next"><span class="carousel-control-next-icon"></span></a>';
    A+="</div>";return A+="</div>"}},{key:"parseDocWithoutCarousel",value:function(a){var b,c,d,e,q,p,m,l,r,v,w,z,x,B=0,C=!1;var A=y.createNodeDisplayTitleAndSubtitle();A+='<div id = "c_doc__media_contain" class="mt-2">';a.forEach(function(a,g){var h=a[0].da_ddf;if(a[1].da_meob.da_disob){C=!0;b=h.docTitle;c=h.docSubtitle;d=h.docSummary;e=h.docDetails;q=h.docMediaTitle1;p=h.docMediaSource1;m=h.docMediaTitle2;l=h.docMediaSource2;r=h.docMediaTitle3;v=h.docMediaSource3;w=h.docMediaTitle4;z=h.docMediaSource4;
    x=h.docCallToAction;A=f.makeCarouselItemActiveOrInactive(B,A);B+=1;h=A+='<div class="col-12 mb-2 c_doc__descriptor" >';void 0!=b&&(h=h+'<div class="c_doc__title mb-1">'+b+"</div>");void 0!=c&&(h=h+'<div class="c_doc__subtitle mb-1">'+c+"</div>");h=A=h;void 0!=d&&(h=h+'<div class="c_description__text mt-2 mb-2">'+d+"</div>");h=A=h;if(void 0!=e){h+="<ul class>";for(var k=0;k<e.length;k++)h+="<li>",h=h+'<div class = "c_doc__details_bul pb-1 ">'+e[k]+"</div> ",h+="</li>";h+="</ul>"}A=h;A+='<div id = "c_docs_contain" class="mt-2">';
    void 0!=q&&""!=q&&(h=A,h=h+'<div class="c_doc_contain mt-1 ml-2 mb-1 mr-2"><div class="c_doc__src__title ">'+q+"</div>",void 0!=p&&""!=p&&(h=h+' <button type="button"  class="btn btn-primary" data-doc-src = '+p+" >"+x+"</button>"),A=h+"</div>");void 0!=m&&""!=m&&(h=A,h=h+'<div class="c_doc_contain mt-1 ml-2 mb-1 mr-2"><div class="c_doc__src__title">'+m+"</div>",void 0!=l&&""!=l&&(h=h+' <button type="button"  class="btn btn-primary" data-doc-src = '+l+" >"+x+"</button>"),A=h+"</div>");void 0!=r&&""!=
    r&&(h=A,h=h+'<div class="c_doc_contain mt-1 ml-2 mb-1 mr-2"><div class="c_doc__src__title">'+r+"</div>",void 0!=v&&""!=v&&(h=h+' <button type="button"  class="btn btn-primary" data-doc-src = '+v+" >"+x+"</button>"),A=h+"</div>");void 0!=w&&""!=w&&(h=A,h=h+'<div class="c_doc_contain mt-1 ml-2 mb-1 mr-2"><div class="c_doc__src__title">'+w+"</div>",void 0!=z&&""!=z&&(h=h+' <button type="button"  class="btn btn-primary" data-doc-src = '+z+" >"+x+"</button>"),A=h+"</div>");A+="</div>";A+="</div>";A+="</div>"}});
    C||f.showErrorPopUp(k.oopsContentNotFoundMsg);return A+="</div>"}},{key:"parseDocThumbnail",value:function(a){var b,c,d,e,f,k,m,l;var r='<div id = "c_doc__media_contain" class="mt-2">';a.forEach(function(a,g){var h=a[0].da_ddf;a[1].da_meob.da_disob&&(b=h.docTitle,c=h.docSubtitle,d=h.docLeftHandSideFooter1,e=h.docLeftHandSideFooter2,f=h.docRightHandSideFooter1,k=h.docRightHandSideFooter2,m=h.docCallToAction,l=h.docMediaSource,r+='<div class="col-6 mb-2 c_doc__descriptor" >',h=r+="<a>",void 0!=b&&(h=
    h+'<div class="c_doc__title">'+b+"</div>"),void 0!=c&&(h=h+'<div class="c_doc__subtitle mb-1">'+c+"</div>"),h=r=h,h=h+'<div class="c_doc__call__to__action mt-4"> <button type="button"  class="btn btn-primary " >'+m+"</button>",h=r=h+"</div>",h+='<div class="c_lhs__rhs_ftr1__row mt-4">',void 0!=d&&(h=h+'<div class="c_lhs_ftr1 ">'+d+"</div>"),void 0!=f&&(h=h+'<div class="c_rhs_ftr1">'+f+"</div>"),h=r=h+"</div>",h+='<div class="c_lhs__rhs_ftr2__row ">',void 0!=e&&(h=h+'<div class="c_lhs_ftr2">'+e+"</div>"),
  void 0!=k&&(h=h+'<div class="c_rhs_ftr2">'+k+"</div>"),h=r=h+"</div>",r=h=h+'<doc class="c_doc__media__object" preload=\'auto\'> <source class="c_doc__media__file" src='+l+"> </doc>",r+="</a>",r+="</div>")});return r+="</div>"}},{key:"render",value:function(a,b,c,d){a=document.createElement("div");a.classList.add(b.config.messageBubbleClass);switch(d){case "th":a.innerHTML=this.parseDocThumbnail(this.config);break;case "fs":a.innerHTML=1<this.config.length?this.parseDocWithCarousel(this.config):this.parseDocWithoutCarousel(this.config);
    break;default:l.logDebugInfor("err_16 "+d)}return a}}]),d}(),v=function(){return{checkVisitorType:function(){return null==B.retrieveBotVariationID()?"newVisitor":"returningVisitor"},cookieGoalCompletion:function(d){v.setItem(k.goalStatus,d,k.mediumExpirationPeriod,k.cookiePath);e.campaignGoalAchieved=!0},checkGoalCompletion:function(){return v.getItem(k.uidKey)},cookieClientSessionID:function(){if(null==e.ssid||void 0==e.ssid){var d=l.getRandomDigit(5);e.ssid=d}d=v.getItem(k.cumSessCnt);d=null==d?
    1:Number(d)+1;v.setItem(k.cumSessCnt,d,k.mediumExpirationPeriod,k.cookiePath)},cookiePageViewCount:function(){var d=sessionStorage.getItem(k.sessPVcnt);d=null==d?1:Number(d)+1;var a=v.getItem(k.cumPVcnt);a=null==a?1:Number(a)+1;sessionStorage.setItem(k.sessPVcnt,d);v.setItem(k.cumPVcnt,a,k.mediumExpirationPeriod,k.cookiePath)},cookieNodeImpressionCount:function(){var d=sessionStorage.getItem(k.nodeImpSessCnt);d=null==d?1:Number(d)+1;var a=v.getItem(k.nodeImpCumCnt);a=null==a?1:Number(a)+1;sessionStorage.setItem(k.nodeImpSessCnt,
    d);v.setItem(k.nodeImpCumCnt,a,k.mediumExpirationPeriod,k.cookiePath)},cookieConversionAttemptCount:function(){var d=sessionStorage.getItem(k.cxSessAttemts);d=null==d?1:Number(d)+1;var a=v.getItem(k.cxCumAttemts);a=null==a?1:Number(a)+1;sessionStorage.setItem(k.cxSessAttemts,d);v.setItem(k.cxCumAttemts,a,k.mediumExpirationPeriod,k.cookiePath)},cookieThemeImpressionCount:function(){var d=sessionStorage.getItem(k.themeImpSessCnt);d=null==d?1:Number(d)+1;var a=v.getItem(k.themeImpCumCnt);a=null==a?1:
    Number(a)+1;sessionStorage.setItem(k.themeImpSessCnt,d);v.setItem(k.themeImpCumCnt,a,k.mediumExpirationPeriod,k.cookiePath)},cookieProAttemptCount:function(){null==sessionStorage.getItem(k.proSessConvAttempts)&&sessionStorage.setItem(k.proSessConvAttempts,1);var d=v.getItem(k.proCumConvAttempts);d=null==d?1:Number(d)+1;v.setItem(k.proCumConvAttempts,d,k.mediumExpirationPeriod,k.cookiePath)},cookieVisitDuration:function(d){var a=sessionStorage.getItem(k.sessDuration);null==a?sessionStorage.setItem(k.sessDuration,
    d):(a=Number(a)+d,sessionStorage.setItem(k.sessDuration,a));a=v.getItem(k.cumDuration);a=null==a?d:Number(a)+d;v.setItem(k.cumDuration,a,k.mediumExpirationPeriod,k.cookiePath)},cookieConversionNodeHistory:function(d){var a=[];var b=localStorage.getItem(k.cxSuccHistory);d={ssid:e.ssid,nid:d};null!=b&&(a=JSON.parse(b));a.push(d);localStorage.setItem(k.cxSuccHistory,JSON.stringify(a))},cookieConversationThemeHistory:function(d){var a=[];var b=localStorage.getItem(k.convThemeHistory);d={sid:e.ssid,thid:d};
    null!=b&&(a=JSON.parse(b));a.push(d);localStorage.setItem(k.convThemeHistory,JSON.stringify(a))},clearCookieAndLocalHistory:function(){localStorage.clear();sessionStorage.clear();var d=document.cookie.split(";");for(var a=0;a<d.length;++a){var b=d[a].toString().split("=");b=b[0];"_cuid"!=b&&" _cuid"!=b&&(document.cookie=b+"=;expires=Jan 1970 00:00:00 GMT;path=/")}},cookieAppropriateURLParams:function(){void 0!=e.visitorInterest&&v.setItem(k.visitorContext,e.visitorInterest,k.mediumExpirationPeriod,
    k.cookiePath);void 0!=e.fnam&&v.setItem(k.visitorName,e.fnam,k.mediumExpirationPeriod,k.cookiePath)},sendNodeImpression:function(d,a,b){var c={};c.nodID=d;c.botID=b;c.nodcat=a;c.eventType="nodeImpression";try{F.Chalakh.casq.push(["sendNodeImpression",c])}catch(g){f.handleError("err_90")}},sendErrorCode:function(d,a,b){var c={};c.botID=b;c.nodID=d;c.errorCode=a;c.eventType="errorCondition";try{F.Chalakh.casq.push(["sendErrorCode",c])}catch(g){f.handleError("err_91")}},recordConversionSuccess:function(d,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             a,b){v.cookieConversionNodeHistory(d);v.sendConversionData(d,a,"conversionEvent","cxSuccess",b)},sendConversationData:function(d,a,b,c,e){var g={};g.nodID=d;g.botID=a;g.eventType=b;g.eventState=c;g.initiationMode=e;try{F.Chalakh.casq.push(["sendConversationData",g])}catch(q){f.handleError("err_92")}},sendExitData:function(d,a,b,c){var e={};e.nodID=d;e.botID=a;e.eventType=b;e.exitType=c;try{F.Chalakh.casq.push(["sendExitData",e])}catch(h){f.handleError("err_93")}},sendConversionData:function(d,a,b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             c,e){var g={};g.nodID=d;g.botID=a;g.eventType=b;g.cxEventState=c;try{var k=e.rs_obj.pr_obj.p_mo.p_seg}catch(p){f.handleError("err_94")}g.cxp_seg=k;F.Chalakh.casq.push(["sendConversionData",g])},sendUserSelectionData:function(d,a,b,c,e){var g={};g.nodID=d;g.botID=a;g.eventType=b;g.selectionsObject=c;g.selectionQuestion=e;F.Chalakh.casq.push(["sendUserSelectionData",g])},sendUserDemographicData:function(d,a,b,c,e){var g={};g.nodID=d;g.botID=a;g.eventType=b;g.demoQuestion=e;g.demoValuesObject=c;F.Chalakh.casq.push(["sendUserDemographicData",
    g])},sendMediaUsageData:function(d,a,b,c,e){var g={};g.nodID=d;g.botID=a;g.eventType=b;g.mediaType=c;g.mediaFile=e;F.Chalakh.casq.push(["sendMediaUsageData",g])},getItem:function(d){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(d).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(d,a,b,c,e,f){if(!d||/^(?:expires|max\-age|path|domain|secure)$/i.test(d))return!1;var g="";if(b)switch(b.constructor){case Number:g=
    b===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+b;break;case String:g="; expires="+b;break;case Date:g="; expires="+b.toUTCString()}return document.cookie=encodeURIComponent(d)+"="+encodeURIComponent(a)+g+(e?"; domain="+e:"")+(c?"; path="+c:"")+(f?"; secure":""),!0},removeItem:function(d,a,b){return!(!d||!this.hasItem(d))&&(document.cookie=encodeURIComponent(d)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(b?"; domain="+b:"")+(a?"; path="+a:""),!0)},hasItem:function(d){return(new RegExp("(?:^|;\\s*)"+
    encodeURIComponent(d).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie)},keys:function(){for(var d=document.cookie.replace(/((?:^|\s*;)[^=]+)(?=;|$)|^\s*|\s*(?:=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:=[^;]*)?;\s*/),a=0;a<d.length;a++)d[a]=decodeURIComponent(d[a]);return d}}}(),C=function(){return{mediaPlay:function(d,a){if(3<=d.readyState){e.loadMediaCounter=0;C.updateTimer(d,a);try{d.play()}catch(b){f.handleError("err_95")}e.updateCurrentTimeTimeOut=setInterval(function(){C.updateTimer(d,
    a)},2E3)}else{if(0==e.loadMediaCounter){l.logDebugInfor("loading media file from play button",e.loadMediaCounter);try{d.load()}catch(b){f.handleError("err_95")}e.loadMediaCounter+=1}e.mediaPlayTimeOut=setTimeout(function(){C.mediaPlay(d)},500);l.logDebugInfor("media file not ready - time out value is "+e.mediaPlayTimeOut)}},mediaPause:function(d){try{0<d.currentTime&&!d.paused&&d.pause()}catch(a){f.handleError("err_96")}},mediaUnPause:function(d,a){try{"patchAudio"!=a?0<d.currentTime&&d.paused&&d.play():
    d.play()}catch(b){f.handleError("err_96")}},mediaMute:function(d){try{0<d.currentTime&&!d.muted&&(d.muted=!0)}catch(a){f.handleError("err_96")}},mediaUnMute:function(d){try{d.muted&&(d.muted=!1,l.logDebugInfor("media file being unmuted"))}catch(a){f.handleError("err_96")}},mediaStop:function(d,a){try{d.pause(),d.currentTime=0,C.updateTimer(d,a)}catch(b){f.handleError("err_97")}clearTimeout(e.mediaPlayTimeOut);clearInterval(e.updateCurrentTimeTimeOut)},mediaBackward:function(d){d.pause();try{3>=d.currentTime?
    mediaStop(d):d.currentTime-=3}catch(a){f.handleError("err_98")}d.play(d)},mediaForward:function(d){d.pause(d);if(d.currentTime>=d.duration-3)mediaStop(d);else try{d.currentTime+=3}catch(a){f.handleError("err_99")}d.play(d)},mediaStart:function(d,a){d.pause(d);try{d.currentTime=0}catch(b){f.handleError("err_100")}C.updateTimer(d,a)},mediaEnd:function(d,a){d.pause(d);try{d.currentTime=d.duration}catch(b){f.handleError("err_101")}C.updateTimer(d,a)},updateTimer:function(d,a){try{var b=d.currentTime.toFixed(1),
    c=d.duration.toFixed(1);b=b+"s\\"+c+"s";"audio"==a?$("#audio__timer").text(b):$("#video__timer").text(b)}catch(g){f.handleError("err_102")}}}}(),B=function(){return{checkIfVisitorToBePutInControl:function(){var d=!1,a=1-V.trafficAllocatedToBot;0!=a?Math.random().toFixed(2)>=a?f.logConversationFlowAlerts("alert_4"):(f.logConversationFlowAlerts("alert_6"),d=!0,sessionStorage.setItem(k.userInControl,1)):f.logConversationFlowAlerts("alert_9");return d},checkPersistenceThreshold:function(){var d,a=!1;
    try{var b=B.retrieveBotVariationID();if(null!=b){x.forEach(function(a,c){a.c_r_m.id==b&&(d=c)});if(void 0!=d){var c=x[d].c_r_m.c_r_ge.c_r_coperl;var e=c.split(":")}else f.handleError("err_45");if("SE"==e[1]){var h=k.proSessConvAttempts;var q=Number(sessionStorage.getItem(h))}else h=k.proCumConvAttempts,q=Number(v.getItem(h));null!=q&&q>e[0]&&(f.logConversationFlowAlerts("alert_1"),a=!0);return a}f.handleError("err_103")}catch(p){f.handleError("err_104")}},checkDeviceTrigger:function(){var d=!0;try{var a=
    V.devices[0].split(",");if(0!=a.length)return a.forEach(function(a,c){"all"==a?d=!1:e.device==a&&(d=!1)}),d;f.logWarning("warn_4");return!1}catch(b){f.handleError("err_105")}},checkTrafficSourceTrigger:function(){var d=!0;l.logDebugInfor("channel in chat.js is "+e.trafficSource);try{var a=V.trafficSource[0].split(",");if(0!=a.length)return a.forEach(function(a,c){"all"==a?d=!1:e.trafficSource==a&&(d=!1)}),d;f.logWarning("warn_3");return!1}catch(b){f.handleError("err_106")}},checkScheduleTrigger:function(){function d(){var a=
    new Date,b=a.getTimezoneOffset()/60;return a.getHours()+b}function a(a,b){a=Number(a);switch(b){case "EST":var c=a+5;break;case "CST":c=a+6;break;case "MST":c=a+7;break;case "PST":c=a+8;break;default:f.handleError("err_107a")}return c}var b=!0;try{var c="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")[(new Date).getDay()],e=d(),h=V.schedule,k=h.timeZone,p=h.hours;if(0!=p.length)return p.forEach(function(d,g){if(d.day==c){var f=a(d.from,k),h=a(d.to,k);e>=f&&e<=h&&(b=!1)}}),b;f.logWarning("warn_5");
    return!1}catch(m){f.handleError("err_107")}},checkRegionTrigger:function(){var d=!0;try{var a=V.region[0].split(",");if(0!=a.length)return a.forEach(function(a,c){"en-US"==e.language&&"USA"==a?d=!1:"en-GB"==e.language&&"UK"==a?d=!1:"en-CA"==e.language&&"CANADA"==a?d=!1:"fr-CA"==e.language&&"CANADA"==a?d=!1:"en-IE"==e.language&&"IRELAND"==a&&(d=!1)}),d;f.logWarning("warn_6");return!1}catch(b){f.handleError("err_108")}},checkIfCampaignTargetsNotMet:function(){var d;return(d=B.checkDeviceTrigger())?
    (f.logWarning("warn_22"),d):(d=B.checkTrafficSourceTrigger())?(f.logWarning("warn_23"),d):(d=B.checkScheduleTrigger())?(f.logWarning("warn_24"),d):(d=B.checkRegionTrigger())?(f.logWarning("warn_25"),d):!1},checkVisitorEligibility:function(){var d;if(1==v.getItem(k.goalStatus))return f.logConversationFlowAlerts("alert_2"),"goal completed";if(null==B.retrieveBotVariationID()){if(0!=V.trafficAllocatedToBot&&(d=B.checkIfVisitorToBePutInControl()))return"visitor put in control"}else if(d=B.checkPersistenceThreshold())return"conversation persistence exceeded";
    return B.checkIfCampaignTargetsNotMet()?"campaign target not met":1},freshStartOrRestart:function(){var d=e.ssid,a=v.checkVisitorType(),b=v.getItem(k.convStarted);sessionStorage.getItem(k.convOpenURL);var c=sessionStorage.getItem(k.sessPVcnt),g=sessionStorage.getItem(k.botURL),f,q;1==c?f="entrancePage":2==c?f="secondPage":f="deeperPage";void 0!=d?q=!1:q=!0;v.cookieClientSessionID();d=v.getItem(k.cumSessCnt);switch(a){case "newVisitor":return"freshStart";case "returningVisitor":if(q)return null==b?
    "freshStart":2==d?"restartNewSessionSecondVisit":"restartNewSessionMultipleVisits";switch(f){case "entrancePage":return"restartOngoingSessionEntrancePage";case "secondPage":return"botURL"==g?"restartOngoingSessionSecondBotPage":"restartOngoingSessionSecondUserPage";case "deeperPage":return"botURL"==g?"restartOngoingSessionDeeperBotPage":"restartOngoingSessionDeeperUserPage";default:l.logDebugInfor("unknown currentPage type")}break;default:l.logDebugInfor("unknown visitor type")}},checkDurTrigger:function(){try{var d=
    x[e.botVariationMetaObj.variationIndexInCSOMeta].c_r_m.c_r_ge.c_r_itrig.split("-")[1].split(":"),a=d[2]}catch(c){f.handleError("err_110")}if("DU"!=d[0])l.logDebugInfor("err_20");else if("SE"==d[1]){var b=k.sessDuration;b=Number(sessionStorage.getItem(b))}else b=k.cumDuration,b=Number(v.getItem(b));return b>=a?0:a-b},checkPVTrigger:function(){try{var d=e.botVariationMetaObj.variationIndexInCSOMeta;var a=x[d].c_r_m.c_r_ge.c_r_itrig;var b=a.split("-");var c=b[0];var g=c.split(":");var h=g[2]}catch(p){f.handleError("err_111")}if("PV"!=
    g[0])l.logDebugInfor("err_21");else if("SE"==g[1]){d=k.sessPVcnt;var q=Number(sessionStorage.getItem(d))}else d=k.cumPVcnt,q=Number(v.getItem(d));return q>=h?!0:!1},setToolTipAndHybridActivationDelays:function(){try{var d=e.botVariationMetaObj.variationIndexInCSOMeta;var a=x[d].c_r_m.c_r_ge.c_r_usaci;var b=a.split("-");var c=b[0];var g=b[1];var h=b[2];k.chalakIconToolTipDisplayDelay=1E3*c.split(":")[1];k.chalakIconToolTipHideDelay=1E3*g.split(":")[1];k.chalakIconHybridProactiveDelay=1E3*h.split(":")[1]}catch(q){f.handleError("err_111")}},
  getChrObject:function(d){try{for(var a=0;a<x.length;a++)if(x[a].c_r_m.id==d)return v.setItem(k.botID,x[a].c_r_m.id,k.mediumExpirationPeriod,k.cookiePath),{botVariationID:x[a].c_r_m.id,variationIndexInCSOMeta:a}}catch(b){f.handleError("err_111a")}},assignBotVariationID:function(d){d=Math.random().toFixed(2);var a=0;try{if(1==x.length)return x[0].c_r_m.id;x.sort(function(a,b){return parseFloat(a.c_r_m.trafficAllocation)-parseFloat(b.c_r_m.trafficAllocation)});for(var b=0;b<x.length;b++)0==b?(x[b].c_r_m.lowerTrafficAlocationBound=
    0,x[b].c_r_m.upperTrafficAlocationBound=x[b].c_r_m.trafficAllocation):(x[b].c_r_m.lowerTrafficAlocationBound=a,x[b].c_r_m.upperTrafficAlocationBound=a+x[b].c_r_m.trafficAllocation),a=x[b].c_r_m.upperTrafficAlocationBound;for(b=0;b<x.length;b++)if(d>=x[b].c_r_m.lowerTrafficAlocationBound&&d<=x[b].c_r_m.upperTrafficAlocationBound)return x[b].c_r_m.id}catch(c){f.handleError("err_112")}f.handleError("err_113");return!1},retrieveBotVariationID:function(){try{return void 0!=e.botVariationMetaObj?e.botVariationMetaObj.botVariationID:
    x[0].c_r_m.id}catch(d){f.handleError("err_114")}},retrieveBotVariationMetaObj:function(){return void 0!=e.botVariationMetaObj?e.botVariationID:{botVariationID:x[0].c_r_m.id,variationIndexInCSOMeta:0}},findExitThemeName:function(){if("proactiveExitMode"==e.botState)return k.unsuccessfulExitTheme;if(1==e.campaignGoalAchieved)return e.botState="proactiveExitMode",k.successfulExitTheme;if(Number(sessionStorage.getItem(k.nodeImpSessCnt))>=k.minEngagementThreshold)return sessionStorage.setItem(k.nodeImpSessCnt,
    0),e.botState="proactiveExitMode",k.oneLastConversionTry;e.botState="proactiveExitMode";return k.unsuccessfulExitTheme},findExitTheme:function(d){try{return x[e.botVariationMetaObj.variationIndexInCSOMeta].c_r_m.cso_int[0].th_m}catch(a){f.handleError("err_114A")}},findStartTheme:function(d){try{var a=e.botVariationMetaObj.variationIndexInCSOMeta;var b=x[a].c_r_m.cso_sta;return b[0].th_m}catch(c){f.handleError("err_117")}},findRestartThemeName:function(){try{var d=e.restartScenario;var a=x[e.botVariationMetaObj.variationIndexInCSOMeta].c_r_m.c_r_ge.c_r_pe}catch(c){f.handleError("err_118")}switch(e.botState){case "passiveExitMode":var b=
    k.reengageVisitorTheme;e.botState="proactiveRestartMode";break;case "passiveRestartMode":e.botState="proactiveRestartMode";switch(d){case "restartNewSessionMultipleVisits":b=k.visitorRestartPreferenceTheme;break;case "restartOngoingSessionEntrancePage":b=k.reengageVisitorTheme;break;case "restartOngoingSessionSecondUserPage":b=k.recapTopicToDiscussTheme;break;case "restartOngoingSessionDeeperUserPage":b=k.recapTopicToDiscussTheme;break;default:l.logDebugInfor("err_25"+d)}break;case "proactiveRestartMode":switch(d){case "restartNewSessionSecondVisit":b=
    "bot"!=a?k.intrusiveRestartTheme:k.visitorRestartPreferenceTheme;break;case "restartNewSessionMultipleVisits":b=k.nonintrusiveRestartTheme;e.botState="passiveRestartMode";break;case "restartOngoingSessionEntrancePage":b=k.nonintrusiveRestartTheme;e.botState="passiveRestartMode";break;case "restartOngoingSessionSecondBotPage":b=k.visitorDeepDiveTheme;break;case "restartOngoingSessionDeeperBotPage":b=k.visitorDeepDiveTheme;break;case "restartOngoingSessionSecondUserPage":b=k.nonintrusiveRestartTheme;
    e.botState="passiveRestartMode";break;case "restartOngoingSessionDeeperUserPage":b=k.nonintrusiveRestartTheme;e.botState="passiveRestartMode";break;default:l.logDebugInfor("err_26"+d)}}return b},findRestartTheme:function(d){try{var a=e.botVariationMetaObj.variationIndexInCSOMeta;var b=x[a].c_r_m.cso_res;return b[0].th_m}catch(c){f.handleError("err_117")}},addNameToCpatchGlobalParam:function(d){var a,b;try{Y.forEach(function(a,c){for(var d in a)"globalParameters"==d&&(b=a.globalParameters)})}catch(g){f.handleError("err_115")}try{b.forEach(function(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             c){for(var d in b)"visitorName"==b[d]&&(a=b)});var c=a.sentenceObject;c[0].fragmentObject[0].fragments.push(d)}catch(g){f.handleError("err_115")}},findSkipTheme:function(){return k.skipTheme},findStartInitiationMode:function(){var d;if(void 0==e.initiationMode)try{var a=e.botVariationMetaObj.variationIndexInCSOMeta;return d=x[a].c_r_m.c_r_ge.c_r_imod}catch(b){f.handleError("err_116")}else return e.initiationMode},setRestartInitiationTrigger:function(d){switch(d){case "restartNewSessionSecondVisit":var a=
    !0;break;case "restartNewSessionMultipleVisits":a=!0;break;case "restartOngoingSessionEntrancePage":a=!0;break;case "restartOngoingSessionSecondBotPage":a=!0;break;case "restartOngoingSessionDeeperBotPage":a=!0;break;case "restartOngoingSessionSecondUserPage":a=!0;break;case "restartOngoingSessionDeeperUserPage":a=!0;break;default:l.logDebugInfor("err_24"+d)}return a},findAndAddReturningVisitorName:function(){var d=v.getItem(k.visitorName);null!=d&&addNameToCpatchGlobalParam(d)},removeSuccessfulConversionProbes:function(){var d;
    try{var a=e.botVariationMetaObj.variationIndexInCSOMeta;var b=v.getItem(k.visitorContext);if(null!=b){"attendee"==b?d="sponsor":d="attendee";var c={csoConvert:L,csoMain:T};f.suppressContextualNodesInCSO(c,d)}}catch(p){f.handleError("err_119")}c=localStorage.getItem(k.cxSuccHistory);try{if(null!=c&&(a=e.botVariationMetaObj.variationIndexInCSOMeta,0!=x[a].c_r_m.cso_con.length)){var g=x[a].c_r_m.cso_con[0].th_m;var h=f.findAllThemeNodesInMotif("cso_con",L,g,!0);var q=JSON.parse(c);q.forEach(function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          b){h.forEach(function(b,c){b._nid==a.nid&&(L[b.index].nmobj.dinod="never")})})}}catch(p){f.handleError("err_119")}},processPastConversationHistory:function(){B.removeSuccessfulConversionProbes();B.findAndAddReturningVisitorName()},changeContactConversionProbe:function(d){for(var a,b,c,e,h,k,l,m=0;m<x.length;m++){try{b=x[m].c_r_m.cso_con[0].th_m,a=f.findAllThemeNodesInMotif("cso_con",L,b,!0)}catch(w){f.logWarning("warn_2")}try{if(0!=a.length)for(var u=0;u<a.length;u++)if(c=a[u].index,e=L[c].rs_obj.pr_obj.p_rdo,
    h=L[c].rs_obj.pr_obj.p_mo,"getContact"==h.p_seg){for(var r=0;r<e.length;r++){k=e[r][1].da_meob;for(var E in d)k.da_obseg[0].da_ob_seg==E&&(k.da_disob="never")}l=!1;for(r=0;r<e.length;r++)k=e[r][1].da_meob,"never"!=k.da_disob&&(l=!0);0==l&&(L[c].nmobj.dinod="never",v.cookieConversionNodeHistory(L[c]._nid))}}catch(w){f.handleError("err_120")}}},processUTMCampaignParam:function(){var d,a;try{var b=e.urlParamObj.utm_campaign.split(":");var c=b[0];var g=b[1];"attn"==c?a="sponsor":"spons"==c?a="attendee":
    console.log("unknown target");"attn"==c?d="attendee":"spons"==c?d="sponsor":console.log("unknown target")}catch(h){f.handleError("err_121")}b={csoConvert:L,csoMain:T};void 0!=a&&f.suppressContextualNodesInCSO(b,a);e.visitorInterest=d;return{audienceTargetSegment:c,audienceTargetSubsegment:g}},setCampaignTrackingID:function(){null==e.campaignID&&(null!=G.cso_tid?e.campaignID=G.cso_tid:f.handleError("err_122Z"))},processURLParams:function(){var d={};try{if(!$.isEmptyObject(e.urlParamObj))for(var a in e.urlParamObj)switch(a){case "utm_campaign":B.processUTMCampaignParam();
    break;case "utm_medium":d.email=!0;break;case "unid":e.userID=e.urlParamObj.unid;break;case "trid":e.campaignID=e.urlParamObj.trid;e.botVariationIDToActivate="cs_"+e.campaignID+"_1";break;case "inmod":e.initiationMode=e.urlParamObj.inmod;e.initiationMode=e.initiationMode.toUpperCase();break;default:l.logDebugInfor("err_27"+a)}B.setCampaignTrackingID();$.isEmptyObject(d)||B.changeContactConversionProbe(d)}catch(b){f.handleError("err_122")}},restartConversation:function(d){function a(){var a=B.findRestartThemeName();
    a=B.findRestartTheme(a);try{f.findThemeNodes("cso_res",W,a),c=e.currentThemeNodes[k.orderOfFirstNodeInTheme].index,g=W[c]}catch(q){f.handleError("err_123")}}function b(){f.tagAsNeverInterestNodeProbeThemeOptionNotInMainMotif();B.processPastConversationHistory();e.botState="proactiveRestartMode";a();"proactiveRestartMode"==e.botState?(v.sendConversationData(g._nid,e.botVariationMetaObj.botVariationID,"conversationEvent","coAttempt","proactive"),v.sendConversationData(g._nid,e.botVariationMetaObj.botVariationID,
    "conversationEvent","coOpen","proactive"),sessionStorage.setItem(k.convOpenURL,e.currentURL),v.cookieProAttemptCount(),f.adjustCSSVarstoMatchDeviceType(),f.makeChalakhFrameWide(),l.unhideClass("#header"),l.unhideClass("#subheader"),f.showBorderToMessageStream()):v.sendConversationData(g._nid,e.botVariationMetaObj.botVariationID,"conversationEvent","coAttempt","passive");var b=setTimeout(function(){f.displaySubsequentNodeObjInTheme(g,!1,g.nmobj.nodcat,"nextNodeInTheme")},k.delayBeforeConversationStart);
    e.timeouts.push(b)}var c,g;e.botVariationMetaObj=B.retrieveBotVariationMetaObj();f.addHeaderTitle();e.restartScenario=d;0!=(B.setRestartInitiationTrigger(d)?!0:B.checkPVTrigger())&&(B.setToolTipAndHybridActivationDelays(),d=B.checkDurTrigger(),setTimeout(b,d))},initiateProactiveFreshConversation:function(d){l.logDebugInfor("starting fresh conversation in proactive mode");var a=function(a){a=B.findStartTheme(a);f.findThemeNodes("cso_sta",P,a);try{var b=e.currentThemeNodes[k.orderOfFirstNodeInTheme].index;
    var d=P[b]}catch(h){f.handleError("err_126")}return d}(d);f.adjustCSSVarstoMatchDeviceType();f.makeChalakhFrameWide();l.unhideClass("#header");l.unhideClass("#subheader");l.unhideClass(".c_convrs_strm");f.showBorderToMessageStream();d=setTimeout(function(){try{var b=a.nmobj.nodcat}catch(c){f.handleError("err_125")}f.displaySubsequentNodeObjInTheme(a,!1,b,"nextNodeInTheme")},k.delayBeforeConversationStart);e.timeouts.push(d);return a},freshConversation:function(d){function a(a){l.logDebugInfor("starting fresh conversation in passive or hybrid mode");
    a=B.findStartTheme(a);f.findThemeNodes("cso_sta",P,a);try{g=e.currentThemeNodes[k.orderOfFirstNodeInTheme].index;var b=P[g];v.sendConversationData(b._nid,e.botVariationMetaObj.botVariationID,"conversationEvent","coAttempt","passive")}catch(p){f.handleError("err_124")}a=setTimeout(function(){f.displayNode(b,!1,"forward",!0)},k.delayBeforeConversationStart);e.timeouts.push(a);return b}function b(){f.tagAsNeverInterestNodeProbeThemeOptionNotInMainMotif();var b=B.findStartInitiationMode();switch(b){case "PR-1":e.botState=
    "proactiveFreshStartMode";b=B.initiateProactiveFreshConversation(b);v.sendConversationData(b._nid,e.botVariationMetaObj.botVariationID,"conversationEvent","coAttempt","proactive");v.sendConversationData(b._nid,e.botVariationMetaObj.botVariationID,"conversationEvent","coOpen","proactive");sessionStorage.setItem(k.convOpenURL,e.currentURL);v.cookieProAttemptCount();break;case "PA-1":e.botState="passiveFreshStartMode";a(b);break;case "HB-1":e.botState="hybridFreshStartMode";a(b);break;default:f.logConversationFlowAlerts("something messed up - initiation mode not well defined")}}
    function c(a){for(var b=0;b<x.length;b++)if(x[b].c_r_m.id==a)return!0;l.logDebugInfor("vaid not legitimate");return!1}var g;if(void 0!=d)if(c(d))e.botVariationMetaObj=B.getChrObject(d);else return;else d=B.assignBotVariationID(),e.botVariationMetaObj=B.getChrObject(d);f.addHeaderTitle();0!=B.checkPVTrigger()&&(B.setToolTipAndHybridActivationDelays(),d=B.checkDurTrigger(),setTimeout(b,d))},initiateConversation:function(d){if("desktop"!=e.device&&"mobile"!=e.device&&"tablet"!=e.device)l.logDebugInfor("initiateConveration error. device type unkown"+
    e.device);else{if(d){var a="freshStart";v.clearCookieAndLocalHistory();v.cookieClientSessionID()}else a=B.freshStartOrRestart();v.cookieAppropriateURLParams();v.cookiePageViewCount();null!=e.userID&&O.getDynamicResponse(e.userID,e.campaignID);"freshStart"==a?B.freshConversation(d):(l.logDebugInfor("conversationMode "+a),B.restartConversation(a))}}}}(),H=function(){return{createPseudoClickedButtonHTML:function(){return"<div data-next-node=nextNodeInTheme>"},createSelectionArray:function(d){var a=[],
    b=$("#tile-response").attr("data-probe-id");a.push(b+"-"+d);return a},createSelectionDataObject:function(d,a){var b={};b[d]=a;return b},handleDocDownloadClick:function(d){d.stopPropagation();d=$(d.target).attr("data-doc-src");"undefined"!=d?(f.recordMediaUsageData("doc",d),O.getDownloadFile(d)):f.logWarning("warn_9")},QREventHandlers:function(d){d.stopPropagation();a:{try{var a=l.findNodeObj(e.currentNode).rs_obj.pr_obj.p_mo;if("tile"==a.p_rdc&&"t9"==a.p_rdsc&&0==e.visitorSelection.length){f.showErrorPopUp(k.invalidInputMessage);
    var b=!1;break a}b=!0;break a}catch(c){f.handleError("err_63a")}b=void 0}b&&(d=d.target,b=$(d).attr("data-next-node"),(void 0!=b?b.split("-"):[])[0]==k.imgThumbnailGroupClassName?f.processImgSelectorClick(b):f.processResponseClick(null,d,this,"QRbutton"))},subheaderMenuEvent:function(d){d.stopPropagation();var a=$(d.target).attr("data-button-value");"requestInfor"==a?(l.unhideClass(".c_academic_cx_mdl"),$(".c_academic_cx_mdl .modal-body p").text(void 0),$("#cuiAcademicConversionModal").modal("show")):
    "downloadDoc"==a?(d=$(d.target).attr("data-src"),void 0!=d&&(f.recordMediaUsageData("doc",d),O.getDownloadFile(d))):alert("menu button clicked")},bulletStringEventHandler:function(d){d.stopPropagation();d=$(this).find(".c_bul__text").text();var a=$(this).find(".c_bul_itms .c_bul__second__column__string").text();l.unhideClass(".c_bul_mdl");$(".c_bul_mdl .modal-body p").text(d);$(".c_bul_mdl .modal-header p").text(a);$("#cuiBulletModal").modal("show")},tileT4EventHandler:function(d){l.unhideClass(".c_bul_mdl");
    $("#cuiBulletModal").modal({backdrop:!1});return!1},tileT5EventHandler:function(d){var a=f.checkIfSelectionOrDeselection(this);var b=$(this).parent()[0];var c=$(b).attr("tile-value");var g=$(b).attr("tile-name")+"-"+c;b=k.shortListIcon;c=k.selectedIcon;a?(e.visitorSelection.push(g),$(d.target).addClass("c_tl__selected"),$(d.target).attr("src",c),e.conversionModalSuccess?e.leadConnectModalAttempts<k.leadConnectModalMaxAttempts&&(e.leadConnectModalAttempts+=1,f.showLeadConnectModal()):e.conversionModalAttempts<
    k.conversionModalMaxAttempts&&f.showB2BConversionModal()):(e.visitorSelection=e.visitorSelection.filter(function(a){return a!==g}),$(d.target).removeClass("c_tl__selected"),$(d.target).attr("src",b));return!1},tileT8EventHandler:function(d){function a(a,b){var c={};c.sku=a;c.quantity=1;c.skuPrice=b;c.skuDescription=$(d.currentTarget).children(".c_tl__subtitle")[0].innerText;O.storePaymentInformation(c)}d.stopPropagation();var b=l.findNodeObj(e.currentNode);var c=$(d.currentTarget).attr("data-tile-value");
    var g=$(d.currentTarget).attr("data-tile-name");(function(){try{var a=b.rs_obj.pr_obj.p_rdo;for(var c=0;c<a.length;c++){var d=a[c][0].da_ddf;"preFill"==d.valueType&&(d.valueType="")}}catch(r){f.handleError("err_27g")}})();f.storeRespTileSelectionInNode(g,c);var h=H.createSelectionArray(c);var k=H.createSelectionDataObject(g,c);f.sendResponseToBackEnd("#tile-response",k);"pa"==l.getNodePrdsc(b)&&a(g,c);c=H.createPseudoClickedButtonHTML();f.processResponseClick(null,c,this,"tile",h)},tileT9EventHandler:function(d){var a=
    f.checkIfSelectionOrDeselection(this);var b=$(d.currentTarget).attr("data-tile-value");d=$(d.currentTarget).attr("data-tile-name");a?($(this).addClass("c_tl__selected"),$(this).children("img").addClass("c_img__make__opaque"),e.visitorSelection.push(d+"-"+b),f.storeRespTileSelectionInNode(d,b)):($(this).removeClass("c_tl__selected"),$(this).children("img").removeClass("c_img__make__opaque"),e.visitorSelection=f.removeTileSelectionFromVisitorSelection(d,b,e.visitorSelection),f.removeRespTileSelectionFromNode(d,
    b));return!1},handleFormSubmitButtonClick:function(d){function a(){var a;try{var b=$("#form-response :input");b.each(function(){"submit"==this.type&&(a=this)})}catch(r){f.handleError("err_66a")}return a}function b(a){try{var b=$("#form-response :input");b.each(function(){"button"!=this.type&&"submit"!=this.type&&(a[this.name]=this.value)})}catch(r){f.handleError("err_66b")}return a}function c(a){var b=l.findNodeObj(e.currentNode);try{var c=b.rs_obj.pr_obj.p_rdo;for(var d in a)for(b=0;b<c.length;b++){var g=
    c[b][0].da_ddf;g.name==d&&(g.value=a[d])}}catch(z){f.handleError("err_66c")}}var g={};d.preventDefault();var h=d.data.ncat;d=d.data.node;if($("#form-response").valid()){try{g=b(g);c(g);f.sendResponseToBackEnd("#form-response",g);var k=1;var p=a()}catch(m){f.handleError("err_67")}f.processResponseClick(null,p,this,"form",null,h,k,d)}},handleFormNonSubmitButtonClick:function(d){f.processResponseClick(null,this,this,"form",null,d.data.ncat,0,d.data.node);return!1},handleB2BConversionModalFormSubmitButtonClick:function(d){function a(a){try{var b=
    $("#b2bconversion-modal-form-response :input");b.each(function(){"button"!=this.type&&"submit"!=this.type&&(a[this.name]=this.value)})}catch(h){f.handleError("err_66b")}return a}var b={};d.preventDefault();e.conversionModalAttempts+=1;if($("#b2bconversion-modal-form-response").valid())try{b=a(b),f.sendResponseToBackEnd("#b2bconversion-modal-form-response",b),e.conversionModalSuccess=!0,l.hideClass(".c_b2b_cx_mdl")}catch(c){f.handleError("err_67")}},handleCloseB2BConversionModalClick:function(d){l.hideClass(".c_b2b_cx_mdl");
    e.conversionModalAttempts+=1},handleAcademicConversionModalFormSubmitButtonClick:function(d){function a(a){try{var b=$("#academicconversion-modal-form-response :input");b.each(function(){"button"!=this.type&&"submit"!=this.type&&(a[this.name]=this.value)})}catch(h){f.handleError("err_66b")}return a}var b={};d.preventDefault();e.conversionModalAttempts+=1;if($("#academicconversion-modal-form-response").valid())try{b=a(b),f.sendResponseToBackEnd("#academicconversion-modal-form-response",b),e.conversionModalSuccess=
    !0,l.hideClass(".c_academic_cx_mdl")}catch(c){f.handleError("err_67")}},handleCloseAcademicConversionModalClick:function(d){l.hideClass(".c_academic_cx_mdl");e.conversionModalAttempts+=1},handleCloseLeadConnectModalClick:function(d){l.hideClass(".c_lead__connect_mdl");e.leadConnectModalAttempts+=1},handleSurveyNodeSubmitButtonClick:function(d){function a(){var a;var b=$("#survey-response :input");try{b.each(function(){"survey-success"==this.id&&(a=this)})}catch(r){f.handleError("err_63b")}return a}
    function b(a){var b=$("#survey-response :input:checked");try{b.each(function(){a[this.name]=this.value})}catch(r){f.handleError("err_63c")}return a}function c(a){var b={},c=$("#other").val();void 0!=c&&null!=c&&""!=c&&(b.other=c);if(b!={})for(var d in b)a[d]=b[d];return a}function g(a){var b=l.findNodeObj(e.currentNode);try{var c=b.rs_obj.pr_obj.p_rdo;for(b=0;b<c.length;b++){var d=c[b][0].da_ddf;d.valueType=""}for(var g in a){var h=a[g];for(b=0;b<c.length;b++)d=c[b][0].da_ddf,d.name==g&&d.value==
    h&&(d.valueType="preFill")}}catch(Q){f.handleError("err_63d")}}var h={},k=[];d.preventDefault();try{var p=a();h=b(h);h=c(h);g(h);f.sendResponseToBackEnd("#survey-response",h)}catch(m){f.handleError("err_65")}k=function(a,b){var c=$("#survey-response").attr("data-probe-id");if(a!={})for(var d in a){var e=c+"-"+a[d];b.push(e)}return b}(h,k);f.processResponseClick(null,p,this,"survey",k)},handleSurveyNodeNonSubmitButtonClick:function(d){f.processResponseClick(null,this,this,"survey",null);return!1},
  handleLeadConnectModalSubmitButtonClick:function(d){function a(){try{var a;var b=$("#lead-connect-modal-survey-response :input");b.each(function(){"textarea"==this.type&&(a=this.value)})}catch(p){f.handleError("err_66b")}return a}function b(a){var b=$("#lead-connect-modal-survey-response :input:checked");try{b.each(function(){a[this.name]=this.value})}catch(p){f.handleError("err_63c")}return a}function c(a){var b={},c=$("#other").val();void 0!=c&&null!=c&&""!=c&&(b.other=c);if(b!={})for(var d in b)a[d]=
    b[d];return a}var e={};d.preventDefault();try{e=b(e),e=c(e),a(),f.sendResponseToBackEnd("#lead-connect-modal-survey-response",e),l.hideClass(".c_lead__connect_mdl")}catch(h){f.handleError("err_65")}}}}(),y=function(){return{getDataNextNode:function(d){switch(d){case "next":case "online shop":return"nextNodeInTheme";case "previous":return"previousNodeInTheme";default:f.handleError("err_90C")}},createTextBoxHTML:function(d,a,b,c,e,f){d+='<div class="text-box">';return(c?d+'<textarea class="mr-2 mr-sm-2 mr-md-2 mr-lg-3 mr-xl-3  mb-2 form-control c_form__input__field" placeholder="'+
    a+'" rows="'+e+'" rows="'+e+'" form="'+f+'" name="'+b+'" required >':d+'<textarea class="mr-2 mr-sm-2 mr-md-2 mr-lg-3 mr-xl-3  mb-2 form-control c_form__input__field" placeholder="'+a+'" rows="'+e+'" rows="'+e+'" form="'+f+'" name="'+b+'" >')+"</textarea></div>"},createQRButtons:function(d){var a,b;var c='<div id = "qr-response">';d.forEach(function(d,e){a=d.qr_opty;b=y.getQuickReplyOptionLabels(a);var f=y.getDataNextNode(a);c=c+'<input class="col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 qr-button c_qr_btn btn btn-outline-primary mr-2 mr-sm-2 mr-md-2 mr-lg-3 mr-xl-3 mb-1" type="button" value="'+
    b+'" data-next-node="'+f+'">'});c+="</div>";return c+="</div>"},readQuickReplyOptionLabels:function(){var d;try{Y.forEach(function(a,b){for(var c in a)"_qrl"==c&&(d=a._qrl)})}catch(a){l.handleError("err_88")}try{d.forEach(function(a,b){for(var c in a)window.Chalakh.runtime.quickReplyOptionLabelsObj.push({qrType:c,qrTypeLabels:a[c]})})}catch(a){l.handleError("err_88")}},getQuickReplyOptionLabels:function(d){0==window.Chalakh.runtime.quickReplyOptionLabelsObj.length&&y.readQuickReplyOptionLabels();
    try{var a=window.Chalakh.runtime.quickReplyOptionLabelsObj.filter(function(a){return a.qrType==d});var b=l.getRandomMinMax(0,a[0].qrTypeLabels.length-1);var c=a[0].qrTypeLabels[b]}catch(g){l.handleError("err_89")}return c},createNodeDisplayTitleAndSubtitle:function(d,a){function b(a,b){var c="";try{for(var d=a.rs_obj.pr_obj.p_rdo,e=b[0].split("-")[1],g=0;g<d.length;g++){var h=d[g][0].da_ddf;h.value==e&&(c=h.label)}}catch(K){f.handleError("err_70x")}return c}function c(){var a=e.displayedThemeNodes.length-
    1;return 0!=a&&(g=a-1,"searchNode"==l.findNodCategory(g))?!0:!1}var g;if(void 0==d)try{var h=f.createTextObjFromPatches("_ndn",e.currentNodeID);if(null!=h&&0!=h.length){var k=h[0][0].da_ddf.text[0];null==k&&(k="")}else if(c()){var p=l.findNodeObj(g);k=b(p,e.segmentSelectionArrayOfArrays[e.segmentSelectionArrayOfArrays.length-1])}else k="";var m=""}catch(u){f.handleError("err_70")}else k=d,m=void 0===a?"":a;h='<div class = "c_cdo__section_hdr">';""!=k&&void 0!=k&&(h=h+'<div class = "c_cdo__section_hdr__title mb-1">'+
    k+"</div> ");""!=m&&void 0!=m&&(h=h+'<div class = ".c_cdo__section_hdr__subtitle" class="mb-1">'+m+"</div>");return h+"</div>"},createNodeDisplayName:function(d){return'<div class = "c_cdo__section_hdr mb-3"><div class = "c_cdo__section_hdr__title mb-1">'+d+"</div></div>"},createForm:function(d,a,b){var c,e,f,k,l;d.prdo.forEach(function(d,g){var h=d[0].da_ddf;if(1==d[1].da_meob.da_disob)if(e=h.name,k=h.label,f=h.value,null==f&&(f=""),c=h.required,"textBox"==h.fieldType)a=y.createTextBoxHTML(a,k,e,
    c,10,b);else if("phone"==h.fieldType){h=a;var p=window.Chalakh.st.telStringPattern;h=h+'<div class= c_form__input_contain><label for="'+e+'" >'+k+"</label>";h=c?h+'<input class="mr-2 mr-sm-2 mr-md-2 mr-lg-3 mr-xl-3  mb-2 form-control c_form__input__field" pattern="'+p+'" type="tel" value="'+f+'" name="'+e+'" required >':h+'<input class="mr-2 mr-sm-2 mr-md-2 mr-lg-3 mr-xl-3  mb-2 form-control c_form__input__field" pattern="'+p+'" type="tel" value="'+f+'" name="'+e+'" >';a=h+"</div>"}else h=a,l="email"==
  e?"email":"text",h=h+'<div class= c_form__input_contain><label for="'+e+'" >'+k+"</label>",h=c?h+'<input class="mr-2 mr-sm-2 mr-md-2 mr-lg-3 mr-xl-3 mb-2 form-control c_form__input__field" type="'+l+'" value="'+f+'" name="'+e+'" required >':h+'<input class="mr-2 mr-sm-2 mr-md-2 mr-lg-3 mr-xl-3 mb-2 form-control c_form__input__field" type="'+l+'" value="'+f+'" name="'+e+'" >',a=h+"</div>"});return a},createFormQR:function(d,a){var b,c;d.qrdo.forEach(function(d,e){var f=d.qr_opty;if("submit"==f){b=
    1;c="";var g="submit"}else b=0,c="failure",g="button";var h="submit"==g?"nextNodeInTheme":"previousNodeInTheme";f=y.getQuickReplyOptionLabels(f);a+='<div class="c_form__qr_btn_contain">';a="submit"==g?a+'<input type = "'+g+'" class="form-button form-control c_form__qr_btn btn btn-outline-primary" value="'+f+'" data-success="'+b+'" data-next-node="'+h+'">':a+'<input type = "'+g+'" id = "'+c+'" class="form-button form-control c_form__qr_btn btn btn-outline-primary" value="'+f+'" data-success="'+b+'" data-next-node="'+
    h+'">';a+="</div>"});return a},createSurvey:function(d,a,b){var c=d.prdo,e,f,k,l,m,u;var r="sc"==d.prdsc?"radio":"checkbox";var v=function(){for(var a,b=!0,d=0;d<c.length;d++)if(a=c[d][0].da_ddf,"preFill"==a.valueType){b=!1;break}return b}();c.forEach(function(c,d){var g=c[0].da_ddf;e=r;f=g.valueType;k=g.name;m=g.label;l=g.required;u=g.value;if("textBox"==g.fieldType)a=y.createTextBoxHTML(a,m,k,l,8,b);else if("other"==g.fieldType)g=a,g=g+'<div class="form-check form-control c_survey__input__field c_survey__other__option mr-1 mr-sm-1 mr-md-1 mr-lg-1 mr-xl-1 mb-2  mb-2"><div><label for="other">'+
    m+"</label>",g=g+'</div><div><input class="form-check-input" type="text" id="other" name="'+k+'"></div>',a=g+"</div>";else{g=a;var h="preFill"==f?!0:!1;f+=" form-check form-control c_survey__input__field mr-1 mr-sm-1 mr-md-1 mr-lg-1 mr-xl-1 mb-2";g=g+'<div class="'+f+' " >';g=h?l&&v?g+'<input class="form-check-input" type="'+e+'" value="'+u+'" name="'+k+'"id="'+u+'"checked required >':g+'<input class="form-check-input" type="'+e+'" value="'+u+'" name="'+k+'"id="'+u+'"checked>':l&&v?g+'<input class="form-check-input" type="'+
    e+'" value="'+u+'" name="'+k+'"id="'+u+'" required >':g+'<input class="form-check-input" type="'+e+'" value="'+u+'" name="'+k+'"id="'+u+'"  >';a=g=g+'<label for="'+u+'">'+m+"</label></div>"}});return a},createSurveyQR:function(d,a){var b,c;d.qrdo.forEach(function(d,e){var f=d.qr_opty;if("submit"==f){b=1;c="survey-success";var g="submit"}else b=0,c="survey-failure",g="button";var h="submit"==g?"nextNodeInTheme":"previousNodeInTheme";f=y.getQuickReplyOptionLabels(f);a+='<div class="c_survey__qr_btn_contain">';
    a=a+'<input type = "'+g+'" id = "'+c+'" class="form-button form-control c_form__qr_btn btn btn-outline-primary" value="'+f+'" data-success="'+b+'" data-next-node="'+h+'">';a+="</div>"});return a},getDataProbeID:function(d){try{return d.rs_obj.pr_obj.p_mo.p_seg}catch(a){f.handleError("err_71")}},parseT11Tile:function(d,a){var b=0;a.forEach(function(a,e){var c=a[0].da_ddf;if(1==a[1].da_meob.da_disob){var g=c.header,k=c.label,l=c.imgSource,u=c.sublabel,r=c.value,v=c.name;c="preFill"==c.valueType?"c_tl__selected":
    "";switch(b){case 0:c+=" tile-button c_tl_resp__field  first_tl mb-4 p-1";break;case 1:c+=" tile-button c_tl_resp__field  second_tl mb-4 p-1";break;case 2:c+=" tile-button c_tl_resp__field  third_tl mb-4 p-1";break;case 3:c+=" tile-button c_tl_resp__field  fourth_tl mb-4 p-1";break;default:f.logConversationFlowAlerts("err_21A")}b+=1;d=d+'<div class="'+c+'"data-tile-value ="'+r+'"data-tile-name ="'+v+'">';void 0!=g&&(d=d+'<p class = "mt-1 c_tl_hdr" >'+g+"</p>");void 0!=k&&(d=d+"<p class = c_tl__title>"+
    k+"</p>");void 0!=l&&(d=d+'<img class="img-thumbnail c_tl__img__thumbnail" src='+l+' alt="">');void 0!=u&&(d=d+'<p class = "c_tl__subtitle  pb-1" >'+u+"</p>");d+="</div>"}});return d}}}(),l=function(){return{logDebugInfor:function(d){Chalakh.c_so.debugMode&&console.log(d)},hideClass:function(d){$(d).addClass("c_hide")},unhideClass:function(d){$(d).removeClass("c_hide")},handleError:function(d){v.sendErrorCode(e.currentNodeID,d,void 0==e.botVariationMetaObj?void 0:e.botVariationMetaObj.botVariationID);
    console.log(d);if(k.debugMode){var a=f.findErrorOrAlertorWarningString(d);alert(d+" : "+a+" "+e.currentNodeID);debugger}f.gracefulErrorExit()},findCampaignUseCase:function(){try{return G.useCase}catch(d){f.handleError("err_80B")}},getNodePrdsc:function(d){try{return d.rs_obj.pr_obj.p_mo.p_rdsc}catch(a){f.handleError("err_80B")}},doesCampaignNeedsAnswersPosted:function(){return 1==l.findCampaignUseCase()?!0:!1},getRandomDigit:function(d){var a=11;if(d>a)return l.getRandomDigit(a)+l.getRandomDigit(d-
    a);a=Math.pow(10,d+1);d=a/10;return(""+(Math.floor(Math.random()*(a-d+1))+d)).substring(1)},getRandomMax:function(d){return Math.floor(Math.random()*Math.floor(d))},getRandomMinMax:function(d,a){return Math.floor(Math.random()*(a-d+1))+d},getNonPaymentNodeObj:function(d){d=e.currentNode+1;try{for(;;){var a=l.findNodeObj(d);var b=a.rs_obj.pr_obj.p_mo.p_rdc;if("payment"!=b)break;d+=1;d==e.currentThemeNodes.length&&(l.logDebugInfor("no non-payment node found"),f.handleError("err_81a"))}return a}catch(c){f.handleError("err_81b")}},
  findNodeObj:function(d){try{var a=e.currentThemeNodes[d].index;var b=e.currentThemeNodes[d].motif;var c=G[b];return c[a]}catch(g){f.handleError("err_81")}},findIndexInCurrentThemeNodesOfNode:function(d){d=d._nid;try{for(var a=0;a<e.currentThemeNodes.length;a++){var b=e.currentThemeNodes[a]._nid;if(b==d)return a}f.handleError("err_81c")}catch(c){f.handleError("err_81c")}},findNodCategory:function(d){try{return e.displayedThemeNodes[d].nodcat}catch(a){f.handleError("79B")}},findNodeCategory:function(d,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         a){try{if("previousNodeInTheme"==d){var b=e.previousNode;var c=e.currentThemeNodes[b].index;var g=e.currentThemeNodes[b].motif;var h=G[g];return h[c].nmobj.nodcat}var k=l.findNodeObj(e.currentNode);var p=f.getCurrentNodeSkipType(k);switch(p){case "default":var m=f.getForwardNodeObjForDefaultSkip(k,d,!1);break;case "jump":m=f.getForwardNodeObjForJumpSkip(k,d,!1);break;case "complex":m=f.getForwardNodeObjForComplexSkip(k,a,d,!1);break;case "end":return null;default:f.handleError("err_78F")}return m.nmobj.nodcat}catch(u){f.handleError("err_80C")}},
  findBotPersonality:function(){try{var d=e.botVariationMetaObj.variationIndexInCSOMeta;var a=x[d].c_r_m.c_r_ge.c_r_pe}catch(b){f.handleError("err_57")}return a}}}(),O=function(){return{getDownloadFile:function(d){l.logDebugInfor("document being downloaded "+d);var a=k.downloadClientDocAPI+"?finm="+d+"&trid="+e.campaignID;d=d.split("/");var b=d[d.length-1];$.ajax({method:"GET",xhrFields:{responseType:"blob"},url:a,success:function(a,d,e){d=document.createElement("a");window.navigator&&window.navigator.msSaveOrOpenBlob?
      window.navigator.msSaveOrOpenBlob(a,b):(a=(window.URL||webkitURL).createObjectURL(a),d.href=a,d.download=b,document.body.append(d),d.click(),d.remove(),window.URL.revokeObjectURL(a))},error:function(a,b,d,e){l.logDebugInfor(JSON.stringify(a))}})},getSearchContent:function(d,a,b){function c(c){$.ajax({method:"POST",contentTpe:"application/json",dataType:"json",data:c,url:k.getSearchResultsAPI,success:function(c,e,g){"searchContent"==g.statusText?(d.ms_obj.conobj.cdo=c.cdo,f.displayNode(d,a,b,!1)):
      l.logDebugInfor(g.statusText)},error:function(a,b,c,d){l.logDebugInfor(JSON.stringify(a))}})}try{var g=G.useCase,h=G.searchType,q=e.segmentSelectionArrayOfArrays,p={};p.trid=e.campaignID;p.uscs=g;p.query=q;p.searchtype=h;p.nid=d._nid;c(p)}catch(m){f.handleError("err_121A")}},getDynamicResponse:function(d,a){function b(a,b){$.ajax({method:"GET",dataType:"json",url:k.getDynamicDataAPI+"?unid="+a+"&trid="+b,success:function(a,b,c){"dynamicDataMotif"==c.statusText?(X=a=a.cso_dyn,G.cso_dyn=a):l.logDebugInfor(c.statusText)},
    error:function(a,b,c,d){l.logDebugInfor(JSON.stringify(a))}})}try{b(d,a)}catch(c){f.handleError("err_121A")}},storePaymentInformation:function(d){d.type="store_payment_information";d.trid=e.campaignID;d.uid=e._i;d.ssid=e.ssid;for(var a in d)"false"==d[a]?d[a]=!1:"true"==d[a]?d[a]=!0:"null"==d[a]&&(d[a]=null);O.makeAjaxCall("storePaymentInformation",d,k.paymentProcessingAPI,"POST","application/json")},processCreditCard:function(d,a,b,c,f){d.type="process_credit_card";d.trid=e.campaignID;d.uid=e._i;
    d.ssid=e.ssid;O.makeAjaxCall("processCreditCard",d,k.paymentProcessingAPI,"POST","application/json",a,b,c,f)},postVisitorData:function(d){$.ajax({method:"POST",contentType:"application/x-www-form-urlencoded",data:d,url:k.storeSurveyResponseAPI+"?unid="+e.userID+"&trid="+e.campaignID+"&uscs="+G.useCase,success:function(a,b,c){try{JSON.parse(a)}catch(g){JSON.stringify(a)}l.logDebugInfor(a,b)},error:function(a,b,c,d){l.logDebugInfor(JSON.stringify(a))}})},handleCreditCardProcessingAJAXResponse:function(d){d=
    d.statusText.split(":");"success"==d[0]?(f.emptyMessageStream(),f.emptyResponseStream(),d=l.getNonPaymentNodeObj(),e.currentNode=l.findIndexInCurrentThemeNodesOfNode(d),f.displayNode(d,!1,"forward",!0)):"error"==d[0]&&(void 0==d[1]&&(d[1]=""),void 0==d[2]&&(d[2]=""),f.showErrorPopUp(k.creditCardProcessingErrorMsg+d[1]+d[2]))},makeAjaxCall:function(d,a,b,c,e,f,k,p,m){a=JSON.stringify(a);$.ajax({method:c,contentType:e,data:a,url:b,success:function(a,b,c){"processCreditCard"==d&&O.handleCreditCardProcessingAJAXResponse(c)},
    error:function(a,b,c,d){l.logDebugInfor(JSON.stringify(a))}})}}}(),D=function(){return{createAndAppendModalDiv:function(d,a){var b=document.createElement("div");$(b).addClass(d);a.appendChild(b);return b},addModalHeader:function(d,a){var b='<div class="modal"id="'+d+'"><div class="modal-dialog"><div class="modal-content">';b+='<div class="modal-header">';b=b+" <h6>"+a+" </h6>";return b+="</div>"},addModalFooter:function(d,a){return d+'<div class="modal-footer"><button type="button"id= "'+a+'" class="btn" data-dismiss="modal">Close</button></div>'},
  closeModalHeaderDivs:function(d){return d+"</div>"},closeAVModalHeaderDivs:function(d){return d+"</div></div></div>"},createExitModal:function(d,a){var b=D.createAndAppendModalDiv(d.config.exitMessageModalClass,a);var c=D.addModalHeader("cuiExitModal","Chalakh: Your Adpative Website Assistant");c=D.addModalFooter(c+'<div class="modal-body"><p>I am sorry to see you leave. I hope I was of help. If you do need some assistance, I am just a click away. When we meet again, we will continue where we left.</p><p> Au Revoir! </p></div>',
    null);c=D.closeModalHeaderDivs(c);b.innerHTML=c;l.hideClass(".c_exit_mdl")},createB2BConversionModal:function(d,a){var b=D.createAndAppendModalDiv(d.config.conversionModalClassB2B,a);var c=D.addModalHeader("cuiB2BConversionModal",window.Chalakh.st.firstDripFirstAsk);var e=window.Chalakh.st.conversionModalDataB2B;c=window.Chalakh.bb.createForm(e,c+'<div class="modal-body"><form id = "b2bconversion-modal-form-response"  data-toggle="validator"  data-probe-id =conversion_mdl>',"#b2bconversion-modal-form-response");
    c+='<div class="c_form__qr_contain">';c=window.Chalakh.bb.createFormQR(e,c);c+="</div>";c+="</form>";c+="</div>";c=D.addModalFooter(c,"c_close__b2b_cx_mdl");c=D.closeModalHeaderDivs(c);b.innerHTML=c;$("#c_close__b2b_cx_mdl").on("click",H.handleCloseB2BConversionModalClick);$("#b2bconversion-modal-form-response").on("submit",H.handleB2BConversionModalFormSubmitButtonClick);l.hideClass(".c_b2b_cx_mdl")},createAcademicConversionModal:function(d,a){var b=D.createAndAppendModalDiv(d.config.conversionModalClassAcademic,
    a);var c=D.addModalHeader("cuiAcademicConversionModal",window.Chalakh.st.firstDripStudents);var e=window.Chalakh.st.conversionModalDataAcademic;c=window.Chalakh.bb.createForm(e,c+'<div class="modal-body"><form id = "academicconversion-modal-form-response"  data-toggle="validator"  data-probe-id =conversion_mdl>',"#academicconversion-modal-form-response");c+='<div class="c_form__qr_contain">';c=window.Chalakh.bb.createFormQR(e,c);c+="</div>";c+="</form>";c+="</div>";c=D.addModalFooter(c,"c_close__academic_cx_mdl");
    c=D.closeModalHeaderDivs(c);b.innerHTML=c;$("#c_close__academic_cx_mdl").on("click",H.handleCloseAcademicConversionModalClick);$("#academicconversion-modal-form-response").on("submit",H.handleAcademicConversionModalFormSubmitButtonClick);l.hideClass(".c_academic_cx_mdl")},createLeadConnectionModal:function(d,a){var b=D.createAndAppendModalDiv(d.config.leadConnectModalClass,a);var c=D.addModalHeader("cuiLeadConnectModal",window.Chalakh.st.secondDripFirstAsk);var e=window.Chalakh.st.leadConnectModalData;
    c=window.Chalakh.bb.createSurvey(e,c+'<div class="modal-body"><form id = "lead-connect-modal-survey-response"  data-toggle="validator"  data-probe-id =lead__connect_mdl>',"#lead-connect-modal-survey-response");c+='<div class="c_survey__qr_contain">';c=window.Chalakh.bb.createSurveyQR(e,c);c+="</div>";c+="</form>";c+="</div>";c=D.addModalFooter(c,"c_close__lead__connect_mdl");c=D.closeModalHeaderDivs(c);b.innerHTML=c;$("#c_close__lead__connect_mdl").on("click",H.handleCloseLeadConnectModalClick);$("#lead-connect-modal-survey-response").on("submit",
      H.handleLeadConnectModalSubmitButtonClick);l.hideClass(".c_lead__connect_mdl")},createErrorMessageModal:function(d,a){var b=D.createAndAppendModalDiv(d.config.errorMessageModalClass,a);var c=function(a){a=a+'<div class="modal-body"><p>'+d.config.invalidInputMessage+"</p>";return a+"</div>"}('<div class="modal" id="cuiErrorModal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"></div>');c=D.addModalFooter(c,"c_close__error_msg");c=D.closeModalHeaderDivs(c);b.innerHTML=
    c;$("#c_close__error_msg").click(function(a){});l.hideClass(".c_error_mdl")},createBulletModal:function(d,a){var b=D.createAndAppendModalDiv(d.config.bulletMessageModalClass,a);var c='<div class="modal" id="cuiBulletModal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><p>'+d.config.invalidInputMessage+"</p></div>";c=function(a){a=a+'<div class="modal-body"><p>'+d.config.invalidInputMessage+"</p>";return a+"</div>"}(c);c=D.addModalFooter(c,"c_close_bul_msg");c=D.closeModalHeaderDivs(c);
    b.innerHTML=c;$("#c_close_bul_msg").click(function(a){});l.hideClass(".c_bul_mdl")},createAudioModal:function(d,a){var b=D.createAndAppendModalDiv(d.config.audioModalClass,a);var c=D.closeAVModalHeaderDivs('<div class="modal fade" id="cuiAudioModal"  role="dialog" ><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header" id="c_audio_mdl__title"><button type="button" class="c_close__audio_mdl" data-dismiss="modal"><span>Close</span></button></div> <div class="c_mdl__download__gif"><img src="https://s3.us-east-2.amazonaws.com/chalakh-bot-js/images/download.gif" class = "img-fluid" alt="not loaded"></div> <div class="modal-body"><object class="embed-responsive-item"><audio  id="c_audio__object" preload=\'auto\'><source src="https://chalakh-bot-js.s3.us-east-2.amazonaws.com/audio/sound_sample.mp3"><p>Your browser does not support H.264/MP4.</p> </audio><div class="c_mdl__title mt-1"> Showcasing Faculty Expertise with Webinars on Ways to Use Chalakh</div><div class="c_mdl__subtitle mb-4"> Application of Chalakh in Non-Profit Sector</div> </object></div><div class="modal-footer"><div class="img-thumbnail img-fluid btn-group" id="c_media__control"><a href="#" id = "audio__backward" class="btn btn-inverse mr-1"><i class="fa fa-backward"></i></a><a href="#" id = "audio__stop" class="btn btn-inverse mr-1"><i class="fa fa-stop"></i></a><a href="#" id = "audio__play" class="btn btn-inverse mr-1"><i class="fa fa-play"></i></a><a href="#" id = "audio__pause" class="btn btn-inverse mr-1"><i class="fa fa-pause"></i></a><a href="#" id = "audio__forward" class="btn btn-inverse mr-1"><i class="fa fa-forward"></i></a><a href="#" id = "audio__timer" class="btn btn-inverse ml-1"><span class="audio_timer"> 00:00/00:00</span></a></div></div>');
    b.innerHTML=c;(function(){$("#audio__play").click(function(a){C.mediaPlay(e.audioMediaObject,"audio");a.preventDefault()});$("#audio__pause").click(function(a){C.mediaPause(e.audioMediaObject,"audio");a.preventDefault()});$("#audio__stop").click(function(a){C.mediaStop(e.audioMediaObject,"audio");a.preventDefault()});$("#audio__forward").click(function(a){C.mediaForward(e.audioMediaObject,"audio");a.preventDefault()});$("#audio__backward").click(function(a){C.mediaBackward(e.audioMediaObject,"audio");
      a.preventDefault()})})();Chalakh.runtime.audioMediaObject=$("#c_audio__object")[0];l.hideClass(".c_audio_mdl")},createVideoModal:function(d,a){var b=D.createAndAppendModalDiv(d.config.videoModalClass,a);var c=D.closeAVModalHeaderDivs('<div class="modal fade" id="cuiVideoModal"  role="dialog" ><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header" id="c_mdl__title"> <h6> how are things </h6><button type="button" class="c_close__video_mdl" data-dismiss="modal"><span>Close</span></button></div> <div class="modal-body"><object class="embed-responsive-item"><video  id="c_video__object" poster="https://s3.us-east-2.amazonaws.com/chalakh-bot-js/images/download.gif" preload=\'auto\'><source  type="video/mp4"><p>Your browser does not support H.264/MP4.</p> </video> </object></div><div class="modal-footer"><div class="img-thumbnail img-fluid btn-group" id="c_media__control"><a href="#" id = "video__backward" class="btn btn-inverse mr-1"><i class="fa fa-backward"></i></a><a href="#" id = "video__stop" class="btn btn-inverse mr-1"><i class="fa fa-stop"></i></a><a href="#" id = "video__play" class="btn btn-inverse mr-1"><i class="fa fa-play"></i></a><a href="#" id = "video__pause" class="btn btn-inverse mr-1"><i class="fa fa-pause"></i></a><a href="#" id = "video__forward" class="btn btn-inverse mr-1"><i class="fa fa-forward"></i></a><a href="#" id = "video__timer" class="btn btn-inverse ml-1"><span class="timer"> 00:00/00:00</span></a></div></div>');
    b.innerHTML=c;Chalakh.runtime.videoMediaObject=$("#c_video__object")[0];(function(){$("#video__play").click(function(a){C.mediaPlay(e.videoMediaObject,"video");a.preventDefault()});$("#video__pause").click(function(a){C.mediaPause(e.videoMediaObject,"video");a.preventDefault()});$("#video__stop").click(function(a){C.mediaStop(e.videoMediaObject,"video");a.preventDefault()});$("#video__forward").click(function(a){C.mediaForward(e.videoMediaObject,"video");a.preventDefault()});$("#video__backward").click(function(a){C.mediaBackward(e.videoMediaObject,
      "video");a.preventDefault()})})();l.hideClass(".c_video_mdl")},createImageModal:function(d){var a=0,b,c,e;var h=D.createAndAppendModalDiv(Chalakh.chat.config.imageModalClass,document.body);var k='<div class="modal fade" id="cuiImageModal"  role="dialog" ><div id="imageCarouselControlID" class="carousel slide carousel-fade" role="document" data-ride="carousel" data-wrap="true" data-touch ="true" ><div class="carousel-inner">';try{d.forEach(function(d){b=d.imgTitle;c=d.imgSubtitle;e=d.imgSrc;k=f.makeCarouselItemActiveOrInactive(a,
    k);a+=1;d=k+='<div class="modal-content">';d+='<div class="modal-header"><div class="c_mdl_hdr__title__subtitle">';void 0!=b&&(d=d+'<div class="c_mdl_img__title">'+b+"</div>");void 0!=c&&(d=d+'<div class="c_mdl_img__subtitle">'+c+"</div>");d=k=d+'</div><button type="button" class=" c_close_img_mdl" data-dismiss="modal"><span>Close</span></button></div>';d=d+' <div class="modal-body"><div class ="img-thumbnail img-fluid c_thumbnail__descriptor"><img class="d-block w-100" src="'+e+'" alt="First slide">';
    k=d+"</div>";k+='</div><div class="modal-footer "></div>';k+="</div>";k+="</div>"})}catch(p){f.handleError("err_68")}k+='</div><a class="carousel-control-prev" href="#imageCarouselControlID" role="button" data-slide="prev"><span class="carousel-control-prev-icon"></span></a><a class="carousel-control-next" href="#imageCarouselControlID" role="button" data-slide="next"><span class="carousel-control-next-icon"></span></a>';k+="</div></div>";h.innerHTML=k},createCpatchAudioObject:function(d,a){var b=
    document.createElement("div");$(b).addClass(d.config.cpatchAudioContainerClass);a.appendChild(b);b.innerHTML='<audio  id="c_cpatch__audio__object" preload=\'auto\'><source src="https://chalakh-bot-js.s3.us-east-2.amazonaws.com/audio/sound_sample.mp3"><p>Your browser does not support H.264/MP4.</p> </audio>';Chalakh.runtime.cpatchAudioMediaObject=$("#c_cpatch__audio__object")[0]}}}(),aa={debugMode:!1,orderOfFirstNodeInTheme:0,paymentProcessingAPI:"https://drw.chalakh.co/api/payment",storeSurveyResponseAPI:"https://drw.chalakh.co/api/pos_dat",
  downloadClientDocAPI:"https://drw.chalakh.co/api/dow_doc",getDynamicDataAPI:"https://drw.chalakh.co/api/get_dyn",getSearchResultsAPI:"https://drw.chalakh.co/api/get_search",creditCardProcessingErrorMsg:"Sorry, error in credit card processing",paymentThankYouMessage:"Your Donation Has Been Processed. Thank You So Much for Helping Out. We will now send you to our college website",paypalSDK:"https://www.paypalobjects.com/api/checkout.js",paypalSnippet:"https://chalakh-bot-js.s3.us-east-2.amazonaws.com/script/paypalSnippet.js",
  botContainerClass:["c_bot_contain","col-12"],headerClass:["c_hdr"],subheaderClass:["c_subhdr"],exitMessageModalClass:["c_exit_mdl"],errorMessageModalClass:["c_error_mdl"],bulletMessageModalClass:["c_bul_mdl"],conversionModalClassB2B:["c_b2b_cx_mdl"],conversionModalClassAcademic:["c_academic_cx_mdl"],leadConnectModalClass:["c_lead__connect_mdl"],videoModalClass:["c_video_mdl"],audioModalClass:["c_audio_mdl"],imageModalClass:["c_img_mdl"],bulletModalClass:["c_bul_mdl"],cpatchAudioContainerClass:["c_cpatch__audio_contain"],
  checkVideoFileReadyStatusInterval:null,checkAudioFileReadyStatusInterval:null,checkPatchAudioFileReadyStatusInterval:null,abortMediaPlay:null,conversationStreamClass:["c_convrs_strm"],footerClass:[""],scrollNode:"html,body",carouselIntervalPeriod:5E3,maxCarouselCycleCount:3,shortCarouselIntervalPeriod:3500,scrollPeriod:1E3,scrolInc:15,iframeAnchorIDTop:.05,maxCharsResponse:120,maxImgsInThumbnailGroup:18,maxTilesInT1Group:14,maxTilesInT2Group:2,maxTilesInT3Group:16,maxTilesInT4Group:8,maxTilesInT5Group:1,
  maxTilesInT6Group:2,maxTilesInT7Group:1,maxTilesInT9Group:9,maxBulletsInGroup:9,imgThumbnailGroupClassName:"imgGroup",invalidInputMessage:"Please select at least one of the options show (click or touch the option)",oopsContentNotFoundMsg:"Ooops! I could not find any content for your selection. Please go back and make another selection",oopsCouldNotDownloadAVFile:"Ooops! I am having network trouble. Sorry cannot get hold of the audio-video file ",messageStreamClass:["c_msg_strm"],responseStreamClass:["c_resp_strm"],
  messageBubbleClass:"c_msg__bubble",messageTextClass:["c_text_msg"],responseBubbleClass:"c_resp__bubble",responseQRButtonClass:["c_qr_btn_resp"],responseFormClass:["c_form_resp"],responseSurveyClass:["c_survey_resp"],responsePaymentClass:["c_pmt_resp"],responseTileClass:["c_tl_resp"],responseInputClass:["c_input_resp"],responseAnimationDistance:150,delayBetweenMessagesAndResponse:1E3,delayBetweenNodes:2E3,delayBetweenMessages:200,delayBeforeFirstMessage:1E3,delayBeforeConversationStart:120,patchMsgRespSyncIntervalCheck:100,
  delayBetweenExitMotifNodesAndMainMotifNodes:200,delayBeforeDownloadGifIsShown:2500,delayBeforeOpeningClientWindow:5E3,audioVideoDownloadAttemptCount:40,chalakIconDisplayDelay:0,chalakIconToolTipDisplayDelay:null,chalakIconToolTipHideDelay:null,chalakIconHybridProactiveDelay:null,beepSoundFile:"./Conversational Chat Interface/audio/icon-bell.mp3",alertUser:!0,botID:"_cbotid",uidKey:"_cuid",uidValueString:"uid",sessID:"_cssid",cumSessCnt:"_cumsct",proSessConvAttempts:"_prsecoat",proCumConvAttempts:"_prcucoat",
  cxSuccHistory:"_cpprid",goalStatus:"_cagost",cxSessAttemts:"_cpseat",cxCumAttemts:"_cpcuat",userInControl:"_celstat",visitorContext:"_cvico",convThemeHistory:"_cothi",convStarted:"_costa",convOpenURL:"_courl",sessPVcnt:"_csepvc",cumPVcnt:"_ccupvc",sessDuration:"_csedur",cumDuration:"_ccudur",nodeImpSessCnt:"_nisecnt",nodeImpCumCnt:"_nicucnt",themeImpSessCnt:"_tisecnt",themeImpCumCnt:"_ticucnt",botURL:"_cbotURL",visitorName:"_cpnam",longExpirationPeriod:63113904,mediumExpirationPeriod:5184E3,cookieDeletionPeriod:-1E3,
  cookiePath:"/",botURLs:"_cbotURLs",successfulExitTheme:"SUET",oneLastConversionTry:"OLCT",unsuccessfulExitTheme:"USET",switchBotToPassiveMode:"SWPA",minEngagementThreshold:8,delayBeforeBotTerminating:7500,nonintrusiveRestartTheme:"Non Intrusive Restart",intrusiveRestartTheme:"Non Intrusive Restart",visitorRestartPreferenceTheme:"Non Intrusive Restart",reengageVisitorTheme:"Non Intrusive Restart",recapTopicToDiscussTheme:"Non Intrusive Restart",visitorDeepDiveTheme:"Non Intrusive Restart",skipTheme:"SKCT",
  pastThemeSummaryBlurb:"PTSB",pastThemeGenericBlurb:"PTGB",themesShownInThePast:"themesShownInThePast",returningVisitorName:"returningVisitorName",typingInnerHTML:'<div class="c_msg_strm__typing"> <span>.</span> <span>.</span> <span>.</span> <span>.</span>  <span>.</span>  <span>.</span>  </div>',maxFormFields:4,telStringPattern:"[0-9]{10}|[0-9]{11}|[0-9]{3}-[0-9]{3}-[0-9]{4}|[0-9]{1}-[0-9]{3}-[0-9]{3}-[0-9]{4}",telPlaceHolder:"1-203-969-8997",firstDripStudents:"Please provide the information so that we can email you with approriate catalog. We can also have one of our conusellors contact you  ! ",
  firstDripFirstAsk:"We will email contact & profile of your short listed companies. Simply share your contacts. Save time and hassle!! ",firstDripSecondAsk:"I know I asked you once before for your contacts. I promise we won't spam with unnecessary emails. Just an email with profiles of companies you selected ",secondDripFirstAsk:"I can also have executives from companies you selected contact you. No more than 3 companies! It will help jump start your discussions.",awsshortListIcon:"https://s3.us-east-2.amazonaws.com/chalakh-bot-js/images/shortlist.png",
  awsrevenueIcon:"https://s3.us-east-2.amazonaws.com/chalakh-bot-js/images/revenues.png",awsyearFoundedIcon:"https://s3.us-east-2.amazonaws.com/chalakh-bot-js/images/yearfounded.png",awsemployeesIcon:"https://s3.us-east-2.amazonaws.com/chalakh-bot-js/images/employees.png",awsselectedIcon:"https://s3.us-east-2.amazonaws.com/chalakh-bot-js/images/selected.png",shortListIcon:"./images/shortlist.png",revenueIcon:"./images/revenues.png",yearFoundedIcon:"./images/yearfounded.png",employeesIcon:"./images/employees.png",
  selectedIcon:"./images/selected.png",conversionModalMaxAttempts:2,leadConnectModalMaxAttempts:1,donationPaymentTypeOption:[{name:"donationType",value:"donateOnce",label:"Donate Once",valueType:"preFill",required:!0},{name:"donationType",value:"donateMonthly",label:"Donate Monthly",valueType:null,required:!0}],includePayCCProcessingCharge:{value:!0,valueType:null,name:"payProcessingCharge",label:"'I would like to cover the processing fee so 100% of my donation goes to Thomas Edison",required:!1},otherDonationAmount:{value:null,
    valueType:null,name:"donationAmount",label:"Enter Amount",required:!1},conversionModalDataB2B:{prdo:[[{da_ddf:{value:"",valueType:"",name:"personName",fieldType:"personName",label:"Your Name",required:!0}},{da_meob:{da_disob:!0,da_obseg:[]}}],[{da_ddf:{value:"",valueType:"",name:"company",fieldType:"company",label:"Company",required:!0}},{da_meob:{da_disob:!0,da_obseg:[]}}],[{da_ddf:{value:"",valueType:"",name:"email",fieldType:"email",label:"Email Address",required:!0}},{da_meob:{da_disob:!0,da_obseg:[]}}],
      [{da_ddf:{value:"",valueType:"",name:"phone",fieldType:"phone",label:"Your Phone",required:!0}},{da_meob:{da_disob:!0,da_obseg:[]}}]],qrdo:[{qr_opty:"submit"}]},conversionModalDataAcademic:{prdo:[[{da_ddf:{value:"",valueType:"",name:"personName",fieldType:"personName",label:"Your Name",required:!0}},{da_meob:{da_disob:!0,da_obseg:[]}}],[{da_ddf:{value:"",valueType:"",name:"study",fieldType:"study",label:"Area of Study",required:!0}},{da_meob:{da_disob:!0,da_obseg:[]}}],[{da_ddf:{value:"",valueType:"",
        name:"degree",fieldType:"degree",label:"Degree Type",required:!0}},{da_meob:{da_disob:!0,da_obseg:[]}}],[{da_ddf:{value:"",valueType:"",name:"email",fieldType:"email",label:"Email Address",required:!0}},{da_meob:{da_disob:!0,da_obseg:[]}}],[{da_ddf:{value:"",valueType:"",name:"phone",fieldType:"phone",label:"Your Phone",required:!0}},{da_meob:{da_disob:!0,da_obseg:[]}}]],qrdo:[{qr_opty:"submit"}]},leadConnectModalData:{prdsc:"singleChoice",prdo:[[{da_ddf:{value:"yes",valueType:"",name:"vendorscancontact",
        fieldType:"vendorscancontact",label:"I would like companies I selected to contact me",required:!0}},{da_meob:{da_disob:!0,da_obseg:[]}}],[{da_ddf:{value:"",valueType:"",name:"visitormessagetovendor",fieldType:"textBox",label:"(If you would like) we can also send a message on your behalf to the companies you selected. Add your message in this text box",required:!1}},{da_meob:{da_disob:!0,da_obseg:[{da_ob_seg:"fnam",da_ob_sseg:null}]}}]],qrdo:[{qr_opty:"submit",parlab:!1}]}};F.Chalakh=F.Chalakh||{};
  var ca={eligible:null,timeouts:[],campaignID:null,userID:null,ChalakhIconCreated:null,videoMediaObject:null,audioMediaObject:null,cpatchAudioMediaObject:null,muteAudio:!0,loadCpatchMediaCounter:0,mediaPlayTimeOut:0,downloadGifDisplayTimeOut:0,toolTipDisplayTimeout:0,toolTipHideTimeout:0,loadMediaCounter:0,updateCurrentTimeTimeOut:null,currentThemeNodes:[],displayedThemeNodes:[],currentNode:null,currentTheme:null,currentMotif:null,previousNode:null,nextNode:null,afterNextNode:null,afterNextNextNode:null,
    currentNodeID:null,currentURL:null,currentNodesCopy:{},restartScenario:null,campaignGoalAchieved:null,conversionModalAttempts:0,leadConnectModalAttempts:0,conversionModalSuccess:!1,listingSelection:[],nodeImpCumCnt:null,nodeImpSessCnt:null,themeImpCumCnt:null,themeImpSessCnt:null,cxRejectsCum:null,cxRejectsSess:null,checkCxTrigger:!0,imgGroups:[],imgGroupCount:0,imgThumbnailNodeList:[],imgGroupCountPerCategory:[],botState:null,thankYouPage:"https://www.tesu.edu/alumni",paypalSDKLoaded:!1,conversationStartRecorded:!1,
    interestNodes:[],mainMotifThemeBeingShown:null,segmentSelectionArrayOfArrays:[],segmentNodeWasFound:!1,visitorSelection:[],visitorQuestion:"",botVariationMetaObj:{},quickReplyOptionLabelsObj:[],messageTimeout:0,displayMsgTimeOutCount:0};void 0!=F.Chalakh.runtime?(F.Chalakh.runtime=$.extend(ca,F.Chalakh.runtime),l.logDebugInfor("merging chat.js runtime params with analytics.js defined runtime ones ")):(F.Chalakh.runtime=ca,l.logDebugInfor("analytics did not create runtime params; chat.js initializing w.Chalakh.runtime "));
  void 0!=F.Chalakh["static"]?(F.Chalakh["static"]=$.extend(aa,F.Chalakh["static"]),l.logDebugInfor("merging chat.js static params with analytics.js defined runtime ones ")):(F.Chalakh["static"]=aa,l.logDebugInfor("analytics did not create static params; chat.js initializing w.Chalakh.static "));F.Chalakh.co=v;F.Chalakh.pl=C;F.Chalakh.bb=y;F.Chalakh.ev=H;F.Chalakh.ut=l;F.Chalakh.cc=window.Chalakh.chat;F.Chalakh.st=aa;var e=Chalakh.runtime,G=Chalakh.c_so,x=G.cso_met,P=G.cso_sta,W=G.cso_res,L=G.cso_con,
    T=G.cso_mai,S=G.cso_int,Y=G.cso_pat,V=G.cso_tar,X=G.cso_dyn,da=G.cso_ecde;F.Chalakh.chat=new ha(G);"undefined"==typeof F.Chalakh.casq&&(F.Chalakh.casq=[]);var f=Chalakh.chat,k=f.config;f.registerBubbleType("text",ia);f.registerBubbleType("QRNodeSelector",ja);f.registerBubbleType("QRImgSelector",ka);f.registerBubbleType("form",la);f.registerBubbleType("survey",ma);f.registerBubbleType("tile",na);f.registerBubbleType("bullet",pa);f.registerBubbleType("doc",ta);f.registerBubbleType("card",oa);f.registerBubbleType("audioVideo",
    qa);f.registerBubbleType("payment",ra);f.registerBubbleType("image",sa);var ua=setInterval(function(){if(void 0!=F.Chalakh.runtime.casLaunched)if(clearInterval(ua),B.processURLParams(),e.botVariationIDToActivate)F.Chalakh.runtime.eligible=!0,B.initiateConversation(e.botVariationIDToActivate);else{var d=B.checkVisitorEligibility();F.Chalakh.runtime.eligible=d;1==d?B.initiateConversation():l.logDebugInfor("visitor not eligible...  "+d)}},150)}(window);